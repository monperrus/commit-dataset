{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12375181","self":"https://issues.apache.org/jira/rest/api/latest/issue/12375181","key":"DERBY-2986","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312876","id":"12312876","description":"","name":"10.3.2.1","archived":false,"released":true,"releaseDate":"2007-12-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313111","id":"12313111","description":"","name":"10.4.1.3","archived":false,"released":true,"releaseDate":"2008-04-24"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2007-08-07 17:03:52.429","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"23361","customfield_12310222":"1_*:*_1_*:*_1274278992_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_26876081","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-08-16T18:04:56.628+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2986/watchers","watchCount":0,"isWatching":false},"created":"2007-08-02T00:06:57.636+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12317366","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12317366","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12377113","key":"DERBY-3032","self":"https://issues.apache.org/jira/rest/api/2/issue/12377113","fields":{"summary":"java.lang.ClassCastException returning null from a case statement  in subquery","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12317008","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12317008","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12347067","key":"DERBY-1620","self":"https://issues.apache.org/jira/rest/api/2/issue/12347067","fields":{"summary":"SQL CASE statement returns ERROR 42X89 when including NULL as a return value","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-01T16:46:30.984+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[],"timeoriginalestimate":null,"description":"A select of a CASE statement that performed acceptably in 10.2.2.0 is very slow in 10.3.1.4 the first time it is executed.\r\n\r\nThe following example ij script:\r\n\r\nELAPSEDTIME ON;\r\nCREATE table test1(id integer);\r\nCREATE table test2(id varchar(10));\r\n\r\nSELECT CASE  WHEN t.id = 1 THEN 'a'\r\n             WHEN t.id = 2 THEN 'b'\r\n             WHEN t.id = 3 THEN 'c'\r\n             WHEN t.id = 4 THEN 'd'\r\n             WHEN t.id = 5 THEN 'e'\r\n             WHEN t.id = 6 THEN 'f'\r\n             WHEN t.id = 7 THEN 'g'\r\n             WHEN t.id = 8 THEN 'h'\r\n             WHEN t.id = 11 THEN 'i'\r\n             WHEN t.id = 12 THEN 'j' \r\n             WHEN t.id = 15 THEN 'k'\r\n             WHEN t.id = 16 THEN 'l'\r\n             WHEN t.id = 23 THEN 'm' \r\n             WHEN t.id = 24 THEN 'n'\r\n             WHEN t.id = 27 THEN 'o'\r\n             WHEN t.id = 31 THEN 'p'\r\n             WHEN t.id = 41 THEN 'q'\r\n             WHEN t.id = 42 THEN 'r'\r\n             WHEN t.id = 50 THEN 's'\r\n             ELSE (SELECT t2.id\r\n                     FROM test2 t2\r\n                  )\r\n       END\r\nFROM test1 t;\r\n\r\nWhen run on 10.2.2.0 the select results in ELAPSED TIME = 187 milliseconds.\r\nWhen run on 10.3.1.4 the select results in ELAPSED TIME = 62281 milliseconds.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10362","value":"Performance","id":"10362"},{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10420","value":"Regression","id":"10420"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38417","summary":"Query involving CASE statement significantly slower in 10.3.1.4 than in 10.2.2.0","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=james.f.adams","name":"james.f.adams","emailAddress":"derby at xemaps dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James F. Adams","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=james.f.adams","name":"james.f.adams","emailAddress":"derby at xemaps dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James F. Adams","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Windows XP","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":8,"total":8,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375181/comment/12517416","id":"12517416","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=james.f.adams","name":"james.f.adams","emailAddress":"derby at xemaps dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James F. Adams","active":true},"body":"The following simplified version of the script:\r\n\r\nELAPSEDTIME ON;\r\n\r\nvalues CASE  WHEN 10 = 1 THEN 'a'\r\n             WHEN 10 = 2 THEN 'b'\r\n             WHEN 10 = 3 THEN 'c'\r\n             WHEN 10 = 4 THEN 'd'\r\n             WHEN 10 = 5 THEN 'e'\r\n             WHEN 10 = 6 THEN 'f'\r\n             WHEN 10 = 7 THEN 'g'\r\n             WHEN 10 = 8 THEN 'h'\r\n             WHEN 10 = 11 THEN 'i'\r\n             WHEN 10 = 12 THEN 'j' \r\n             WHEN 10 = 15 THEN 'k'\r\n             WHEN 10 = 16 THEN 'l'\r\n             WHEN 10 = 23 THEN 'm' \r\n             WHEN 10 = 24 THEN 'n'\r\n             WHEN 10 = 27 THEN 'o'\r\n             WHEN 10 = 31 THEN 'p'\r\n             WHEN 10 = 41 THEN 'q'\r\n             WHEN 10 = 42 THEN 'r'\r\n             WHEN 10 = 50 THEN 's'\r\n             ELSE '*'\r\n       END;\r\n\r\nresults in:\r\n\r\n10.2.2.0     ELAPSED TIME = 297 milliseconds\r\n10.3.1.4     ELAPSED TIME = 52000 milliseconds\r\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=james.f.adams","name":"james.f.adams","emailAddress":"derby at xemaps dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James F. Adams","active":true},"created":"2007-08-03T00:50:27.491+0000","updated":"2007-08-03T00:50:27.491+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375181/comment/12517489","id":"12517489","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=james.f.adams","name":"james.f.adams","emailAddress":"derby at xemaps dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James F. Adams","active":true},"body":"This problem appears to be introduced by Derby-1620.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=james.f.adams","name":"james.f.adams","emailAddress":"derby at xemaps dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James F. Adams","active":true},"created":"2007-08-03T08:34:34.924+0000","updated":"2007-08-03T08:34:34.924+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375181/comment/12518190","id":"12518190","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Thank you for filing this issue, James, and for investigating the cause.  I did some quick tracing through the code added with DERBY-1620 and it it looks like the problem is that the code re-binds nested ConditionalNode expressions in an exponential way.\r\n\r\nAs a simple example, I traced the following query:\r\n\r\n  values CASE WHEN 10 = 1 THEN 'a'\r\n              WHEN 10 = 2 THEN 'b'\r\n         END;\r\n\r\nLet \"CN(1)\" denote one ConditionalNode and \"CN(2)\" denote another ConditionalNode, which is the \"else\" part of CN(1).  Then we see the following calls to bind the \"then\" and \"else\" expressions:\r\n\r\n  -- CN(1) : findType() ==> thenElseList.elementAt(0).bindExpression()\r\n  -- CN(1) : findType() ==> thenElseList.elementAt(1).bindExpression()\r\n    ++ CN(2) : findType() ==> thenElseList.elementAt(0).bindExpression()\r\n    ++ CN(2) : findType() ==> thenElseList.elementAt(1).bindExpression()\r\n    ++ CN(2) : bindExpression() ==> thenElseList.bindExpression() -- 2 DUPLICATE BINDS\r\n  -- CN(1) : bindExpression() ==> thenElseList.bindExpression() -- 2 DUPLICATE BINDS\r\n    ++ CN(2) : findType() ==> thenElseList.elementAt(0).bindExpression() -- DUPLICATE BIND\r\n    ++ CN(2) : findType() ==> thenElseList.elementAt(1).bindExpression() -- DUPLICATE BIND\r\n    ++ CN(2) : bindExpression() ==> thenElseList.bindExpression() -- 2 DUPLICATE BINDS\r\n\r\nFrom this it's clear that we are unnecessarily rebinding ConditionalNodes that appear in the \"THEN\" or \"ELSE\" clause of outer conditional nodes.  In this case each expression of CN(2) is bound 2 * 2 = 4 times when we should only be binding it once.  If CN(2) in turn had another sub-conditional CN(3), then CN(3)'s expressions would be bound 2 * 2 * 2 = 8 times.  Hence the exponential rebinding.  \r\n\r\nI made a quick change to the code to remove the call to thenElseList.bindExpression(...) from ConditionalNode.bindExpression(...) in cases where we call \"findType()\", and that seems to have brought the times back to something more reasonable.  I'm attaching that change as d2986_notTested_v1.patch as I have not run the regression tests with this change.  I did run lang/CaseExpressionTest, which was added for DERBY-1620, and that still passes with my quick change.  So if the patch isn't entirely complete (I won't know that until the full regression suites are run), it should hopefully be a good starting point... ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-08-07T17:03:52.429+0000","updated":"2007-08-07T17:03:52.429+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375181/comment/12519352","id":"12519352","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=james.f.adams","name":"james.f.adams","emailAddress":"derby at xemaps dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James F. Adams","active":true},"body":"A B,\r\n\r\nThanks for looking into this.  I ran derbyAll and suites.All and did not see any errors that I would attribute to this patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=james.f.adams","name":"james.f.adams","emailAddress":"derby at xemaps dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James F. Adams","active":true},"created":"2007-08-12T23:25:57.853+0000","updated":"2007-08-12T23:25:57.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375181/comment/12520008","id":"12520008","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Thank you for running the regression tests, James.  Since everything ran cleanly I committed the patch to trunk with svn # 566217:\r\n\r\n  URL: http://svn.apache.org/viewvc?view=rev&rev=566217\r\n\r\nThe merge command for porting back to 10.3 executed cleanly:\r\n\r\n  svn merge -r 566216:566217 https://svn.apache.org/repos/asf/db/derby/code/trunk\r\n\r\nso it should hopefully be straightforward enough.  If no problems show up in the nightlies from the commit to trunk, and if 10.3 tests run cleanly with the changes, then I'll commit there, as well.\r\n\r\nNote that I didn't include any new tests with my changes as the regression is performance only (query plan and results stay the same), and thus I don't think there's a good way to test for it.  (A variation of 60 seconds is probably not going to be noticed in the scope of the full regression suites).  If anyone disagrees with this I can add the repro shown above to lang/CaseExpressionTest.java with a follow-on commit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-08-15T15:37:18.816+0000","updated":"2007-08-15T15:37:18.816+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375181/comment/12520012","id":"12520012","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"I changed my mind about the regression test as it was easy to do and it could prove useful if lang/CaseExpressionTest is run standalone.  So I commited \"d2986_test.patch\" with svn # 566235:\r\n\r\n  URL: http://svn.apache.org/viewvc?view=rev&rev=566235","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-08-15T15:59:31.390+0000","updated":"2007-08-15T15:59:31.390+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375181/comment/12520324","id":"12520324","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"I merged the commits back to 10.3 and ran derbyall and suites.All with no failures.  So committed the changes with svn #566789:\r\n\r\n  URL: http://svn.apache.org/viewvc?view=rev&rev=566789\r\n\r\nI'm marking the issue as resolved.  James, if you can verify that things work correctly for you with 10.3, then please close this issue as appropriate.  Thank you again for finding this issue and providing the initial investigation!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-08-16T18:04:56.582+0000","updated":"2007-08-16T18:04:56.582+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375181/comment/12520433","id":"12520433","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=james.f.adams","name":"james.f.adams","emailAddress":"derby at xemaps dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James F. Adams","active":true},"body":"Thanks for working on this A B.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=james.f.adams","name":"james.f.adams","emailAddress":"derby at xemaps dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James F. Adams","active":true},"created":"2007-08-17T01:32:52.500+0000","updated":"2007-08-17T01:32:52.500+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2986/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06xuf:"}}