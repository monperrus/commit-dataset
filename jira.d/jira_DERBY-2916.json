{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12373447","self":"https://issues.apache.org/jira/rest/api/latest/issue/12373447","key":"DERBY-2916","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12310220":"2007-07-10 20:43:27.287","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"23319","customfield_12310222":null,"customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2916/watchers","watchCount":2,"isWatching":false},"created":"2007-07-10T19:58:59.942+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":["derby_triage10_12","derby_triage10_8"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313111","id":"12313111","description":"","name":"10.4.1.3","archived":false,"released":true,"releaseDate":"2008-04-24"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12326697","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12326697","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12428537","key":"DERBY-4284","self":"https://issues.apache.org/jira/rest/api/2/issue/12428537","fields":{"summary":"All Columns become Nullable when Using left join","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-01-22T23:54:50.892+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11415","id":"11415","name":"Services"},{"self":"https://issues.apache.org/jira/rest/api/2/component/11408","id":"11408","name":"SQL"}],"timeoriginalestimate":null,"description":"SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS() on\r\n\r\n\r\n'Statement Text: \r\n\tselect * from TENKTUP1\r\n\t\tleft outer join TENKTUP2 on\r\n\t\t(\r\n\t\t\tTENKTUP1.unique1 = TENKTUP2.unique1\r\n\t\t)\r\n\t\tleft outer join ONEKTUP on\r\n\t\t(\r\n\t\t\tTENKTUP2.unique2 = ONEKTUP.unique2\r\n\t\t)\r\n\t\tleft outer join BPRIME on\r\n\t\t(\r\n\t\t\tONEKTUP.onePercent = BPRIME.onePercent\r\n\t\t)\r\n'\r\n\r\nnow returns extra \"0\" in\r\n\r\n'\tOrdered null semantics on the following columns: \r\n0 \r\n\t\t\t\t\tstop position: \r\n\t> on first 1 column(s).\r\n\tOrdered null semantics on the following columns: \r\n0 \r\n'","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"36685","summary":"Change/error? in 'Ordered null semantics' output from 'SYSCS_UTIL.SYSCS_GET_RUNTIMESTATISTICS()' in lang/wisconsin.java","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"OS: All\r\nJVM: All","customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10052","value":"Normal","id":"10052"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":10,"total":10,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12373447/comment/12511567","id":"12511567","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"It's probably one of my DERBY-2775 changes, but I don't know what that portion of the query plan really means.\r\n\r\nThere was a chance before my changes that the nullability of a result column at runtime could be changed incorrectly by having multiple nodes referring to the same DataTypeDescriptor object and one node changing the nullability would change it for all other nodes that referenced the same object. That potential bug goes away with the changes, so that change in plan (but not results) may be a result of that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-07-10T20:43:27.287+0000","updated":"2007-07-10T20:43:27.287+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12373447/comment/12515724","id":"12515724","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"I'm hoping Army or somebody else pipes in , but here's my thoughts: I believe that \"Ordered null semantics\" has to do with a performance optimization that the optimizer can choose and pass down to the store's index scan code. There is a crucial comment in PredicateList.java that discusses this, around line 3501 of the trunk code:\r\n\r\n/* beetle 4464, performance work.  If index column is not nullable\r\n * (which is frequent), we should treat it as though nulls are\r\n * ordered (indeed because they don't exist) so that we do not have\r\n * to check null at scan time for each row, each column.  This is\r\n * an overload to \"is null\" operator, so that we have less overhead,\r\n * provided that they don't interfere.  It doesn't interfere if it\r\n * doesn't overload if key is null.  If key is null, but operator\r\n * is not orderedNull type (is null), skipScan will use this flag\r\n * (false) to skip scan.\r\n */\r\n\r\nNow, in the case of the particular query in question, we have an OUTER join, which means that there is an implicit IS NULL or IS NOT NULL (I'm not positive which) predicate that is included in the join predicate.\r\n\r\nBut this implicit NULL check only makes sense for a NULLable column, so that's what the optimizer is checking for (and reporting on in the query plan output).\r\n\r\nSo I think that this portion of the query plan output is trying to tell us about the optimizer's decision with respect to whether or not it will instruct the store's index scanning code that it can safely omit null checking during the index scanning.\r\n\r\nUnfortunately, I'm not quite sure whether the change in output means that the optimizer is now including the performance optimization for column 0, and was not including it before, or vice versa.\r\n\r\nHope this helps.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2007-07-26T14:58:57.893+0000","updated":"2007-07-26T14:58:57.893+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12373447/comment/12516426","id":"12516426","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Thank you for taking the time to investigate this issue, Bryan.\r\n\r\nI am not very familiar with the particular peformance optimization that is described here, but your explanation seems reasonable to me based on what I could grasp from the code comments (the code comments themselves are a tad hard to follow).\r\n\r\n> Unfortunately, I'm not quite sure whether the change in output means that the optimizer is now \r\n> including the performance optimization for column 0, and was not including it before, or vice versa.\r\n\r\nThe code comments suggest that the intended optimization is to \"treat [the index column] as though nulls are ordered\".  So given that we know are seeing \"null ordered semantics\" on column \"0\" where we were not before, I think this is a case where we now include a performance optimization that we didn't include before.  If that's the correct conclusion then Dan's change is enabling an optimization that didn't exist before, in which case I think it is a good thing.  So the resolution to this issue would simply be to update the master...(and maybe the make the associated code comments a bit clearer, if possible...)\r\n\r\nThanks again for your input, Bryan!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-07-30T15:53:08.159+0000","updated":"2007-07-30T15:53:08.159+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12373447/comment/12517008","id":"12517008","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Thanks Bryan & Army for investigating this, provides a very useful starting point.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-08-01T16:43:31.284+0000","updated":"2007-08-01T16:43:31.284+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12373447/comment/12517273","id":"12517273","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Changed master file to match current output as Army points out the change is a valid optimization.\r\nWill still research why the change occurred but wanted to avoid failing tests for now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-08-02T14:13:29.454+0000","updated":"2007-08-02T14:13:29.454+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12373447/comment/12526498","id":"12526498","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Unchecking Regession checkbox as this is not a confirmed product regression","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-09-11T15:35:47.060+0000","updated":"2007-09-11T15:35:47.060+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12373447/comment/12648242","id":"12648242","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I wonder if this issue can be closed. The comments indicate that the master was updated to avoid the failure.  Is there more research that is still needed?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2008-11-17T18:46:52.208+0000","updated":"2008-11-17T18:46:52.208+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12373447/comment/12751053","id":"12751053","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"The nullability of the columns on the right side of a left outer join is modified rather late in the bind phase (in JoinNode.buildRCL()), and other nodes higher up in the tree may already have picked up the original nullability before it is changed. Before the DERBY-2775 changes, the change in nullability would be propagated automatically. After the changes, they will still see the old nullability after buildRCL() has done its work.\r\n\r\nThis caused problems when fixing DERBY-4284 because cast nodes that referred to columns on the right side of a left outer join could end up non-nullable even though they actually could have NULL values. DERBY-4284 therefore added a workaround by setting the nullability in JoinNode.getMatchingColumn() in addition to the existing code in buildRCL(). That workaround also made the query plan mentioned in this issue go back to its original form.\r\n\r\nI agree that the plan selected after the DERBY-2775 changes uses a valid optimization. After DERBY-4284 it again picks a plan without that optimization, which is unfortunate, but I believe the more optimized plan was picked just by accident because the nullability was retrieved before the columns in the join node were fully bound.\r\n\r\nPerhaps we need to do two things before this issue is fully resolved:\r\n\r\n1) Find a better place (earlier) in the bind phase for setting the nullability of the right-side columns in a left outer join so that all the nodes above it see the correct nullabililty. This will solve the problem for cast nodes seen in DERBY-4284, and the workaround in JoinNode.getMatchingColumn() can be removed, but I don't think that this will make the query plan pick up the ordered nulls optimization again.\r\n\r\n2) To re-enable the ordered nulls optimization, it may be necessary to change the code that makes right side of left outer join nullable create new nodes on top of the non-nullable columns instead of changing their nullability directly. Since the column in question cannot be null down in the index scan (hence it's ok for the plan to use the ordered null optimization), but it can be null from the join node and up, the scan and the join should probably have different physical result column objects and not share the same one. I haven't verified that this is in fact the problem, but that's what I suspect.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-09-03T15:21:36.063+0000","updated":"2009-09-03T15:21:36.063+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12373447/comment/12751217","id":"12751217","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Thanks for this analysis, Knut. Your characterization of the issue seems correct to me.\r\nI don't know what it would take for the optimizer to pick up the optimization again, but your theory\r\nwarrants investigation, I think.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2009-09-03T23:22:50.094+0000","updated":"2009-09-03T23:22:50.094+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12373447/comment/14288476","id":"14288476","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I don't think Dan is working on this anymore.\r\nAlso, it seems this is no longer an issue dealing with the Tests, although it initially showed up as a change in the test. Changing components.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2015-01-22T23:54:50.861+0000","updated":"2015-01-22T23:54:50.861+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2916/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06n5j:"}}