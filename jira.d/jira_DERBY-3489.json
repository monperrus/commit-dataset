{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12390029","self":"https://issues.apache.org/jira/rest/api/latest/issue/12390029","key":"DERBY-3489","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313111","id":"12313111","description":"","name":"10.4.1.3","archived":false,"released":true,"releaseDate":"2008-04-24"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313771","id":"12313771","description":"build: 764942, 14/Apr/09. Voted release: 28/Apr/09. Announced: 1/May/09","name":"10.5.1.1","archived":false,"released":true,"releaseDate":"2009-04-28"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2008-03-03 16:16:27.086","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"23667","customfield_12310222":"1_*:*_1_*:*_2784637228_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_591755272","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2008-04-04T16:10:50.122+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-3489/watchers","watchCount":1,"isWatching":false},"created":"2008-03-03T10:40:12.894+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"8.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313111","id":"12313111","description":"","name":"10.4.1.3","archived":false,"released":true,"releaseDate":"2008-04-24"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12319400","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12319400","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"outwardIssue":{"id":"12387364","key":"DERBY-3358","self":"https://issues.apache.org/jira/rest/api/2/issue/12387364","fields":{"summary":"After an incorrect(unsuccesfull) startMaster comand, further correct startMaster attempts also fail.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-02T02:29:13.417+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312050","id":"12312050","name":"Replication"}],"timeoriginalestimate":null,"description":"If the master is not able to connect to the slave, the error messages does not include the right port number:\n\nij> connect 'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=9901';\nERROR XRE04: Could not establish a connection to the peer of the replicated database 'masterDB' on address 'localhost:-1'.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"39232","summary":"Error message XRE04 does not include the right port number.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":20,"total":20,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12574423","id":"12574423","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"body":"Seems like the story is not that straight-forward as originally\r\nreported.  It seems the problem is that theport number that is\r\nreported in the error message is not updated for subsequent requests.\r\n\r\nThe examples below are all done without any slave listening on any\r\nport:\r\n\r\n> java org.apache.derby.tools.ij\r\nij version 10.4\r\nij> connect 'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=9901';\r\nERROR XRE04: Could not establish a connection to the peer of the replicated database 'masterDB' on address 'localhost:9901'.\r\nij> connect 'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=4851';\r\nERROR XRE04: Could not establish a connection to the peer of the replicated database 'masterDB' on address 'localhost:9901'.\r\n\r\nr> java org.apache.derby.tools.ij\r\nij version 10.4\r\nij> connect 'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost';\r\nERROR XRE04: Could not establish a connection to the peer of the replicated database 'masterDB' on address 'localhost:-1'.\r\nij> connect 'jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost;slavePort=9901';\r\nERROR XRE04: Could not establish a connection to the peer of the replicated database 'masterDB' on address 'localhost:-1'.\r\n\r\nSo there is two problems:\r\n\r\n1. The error message is \"persistent\".\r\n2. When connecting to the default port, '-1' is printed instead of the\r\n   default port number.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"created":"2008-03-03T10:50:39.887+0000","updated":"2008-03-03T10:50:39.887+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12574592","id":"12574592","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=serge.tsv","name":"serge.tsv","emailAddress":"serge dot tsv at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Serge Tsv","active":true},"body":"It looks like there're only three methods which throw an exception with a \r\ncorresponding ''Could not establish a connection ... \" message:\r\n\r\n  * SlaveController#setupConnection\r\n  * MasterController#setupConnection\r\n  * ReplicationMessageReceive constructor\r\n\r\n1. A port number at this moment is passed as a property to a SlaveController and a \r\nMasterController boot  methods, so it's kind of permanent for all the further calls to \r\nstartMaster/startSlave and consequently a setupConnection method (same applies \r\nfor a host name). Which might mean that only a single pair of a slave hostname/port\r\nvalues could be in a single instance of Derby now.\r\n\r\nSo it might be even less straight-forward I guess.\r\n\r\n2. A ReplicationMessageReceive constr, it properly converts a port value <= 0 to a default port\r\nvalue before throwing an exception, by using a default port when port value > 0. But \r\nSlaveController and MasterController don't.\r\n\r\n\r\nThere's also inconsistency in both SlaveController and MasterController of where a port number\r\nis obtained: it's a 'receiver' object in the former, and a local variable 'slaveport' in the latter. \r\nI assume It might be reasonable to unify this somehow, by making them both using a local var.\r\n\r\nI think that both a small issue stated just above and the 2nd one could be easily fixed. But the 1st\r\none would require more attention as it might depend on replication requirements.\r\n\r\nThanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=serge.tsv","name":"serge.tsv","emailAddress":"serge dot tsv at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Serge Tsv","active":true},"created":"2008-03-03T16:16:27.086+0000","updated":"2008-03-03T16:16:27.086+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12574600","id":"12574600","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=serge.tsv","name":"serge.tsv","emailAddress":"serge dot tsv at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Serge Tsv","active":true},"body":"Some additional thoughts about the 2nd issue. \r\n\r\nThere's a public SlaveAddress class which \"Encapsulates the host name and the port number \r\nof the slave machine. I think is might be considered to create an instance of SlaveAddress \r\nand use this instance inside both SlaveController and MasterController, instead of having \r\ntwo separate hostname/port variables. Then all the default port related logic will be \r\nencapsulated only in a single class, and not scattered among different replication classes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=serge.tsv","name":"serge.tsv","emailAddress":"serge dot tsv at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Serge Tsv","active":true},"created":"2008-03-03T16:32:09.332+0000","updated":"2008-03-03T16:32:09.332+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12574602","id":"12574602","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"body":"Thank you very much for your analysis, Serge. \r\nWith respect to issue 1, it sounds like this may be solved by the patch submitted for DERBY-3358 which I am currently reviewing.\r\nI am not aware of any attempts at fixing issue 2.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"created":"2008-03-03T16:34:54.584+0000","updated":"2008-03-03T16:34:54.584+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12574829","id":"12574829","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"body":">Seems like the story is not that straight-forward as originally\r\n>reported. It seems the problem is that theport number that is\r\n>reported in the error message is not updated for subsequent requests. \r\n\r\nThe issue is as simple as reported because the complicated part of the issue\r\nthat the port number is persistent is already handled by 3358.\r\n\r\nI think,\r\n\r\n* As a initial fix I guess the default port number value needs to be corrected.\r\n\r\n* The code re-arrangement can be handled in a follow-up or a separate issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"created":"2008-03-04T03:34:34.085+0000","updated":"2008-03-04T03:34:34.085+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12574830","id":"12574830","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"body":"I will link this issue as dependent (related to ?) on Derby-3358. Once 3358 has been committed I\r\nwill submit a patch to fix the issue(s) reported here.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"created":"2008-03-04T03:36:04.633+0000","updated":"2008-03-04T03:36:04.633+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12574831","id":"12574831","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"body":"Derby-3358 fixes the problem that the port number value is persistent.\r\nA patch after Derby-3358 (has been committed) can be directed at fixing\r\nthe default port number being used here.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"created":"2008-03-04T03:38:24.128+0000","updated":"2008-03-04T03:38:24.128+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12583593","id":"12583593","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"body":"* java/engine/org/apache/derby/impl/store/replication/net/ReplicationMessageTransmit.java\r\n\r\nThe constructor has been modified to accept the SlaveAddress object instead of a host name\r\nand port number as was happening previously.\r\n\r\n* java/engine/org/apache/derby/impl/store/replication/net/ReplicationMessageReceive.java\r\n* java/engine/org/apache/derby/loc/messages.xml\r\n* java/shared/org/apache/derby/shared/common/reference/MessageId.java\r\n\r\nModified the constructor to accept a SlaveAddress object instead of a host name and port number. \r\n\r\nThe constructor was printing the following message in the logs\r\n\r\n\"Replication slave database '{0}' listens for connections from master on '{1}:{2}'.\"\r\n\r\nBut the slave does not listen to connections until initConnections is called. So I removed this message\r\nfrom the constructor. I also removed corresponding entries in SQLState.java and messages.xml.\r\n\r\nRemoved the getHostName() and getPort() functions, these functions seemed superfluous. They are\r\nno longer used in the SlaveController, they are used in only once place in the receiver when an\r\nexception was being thrown.\r\n\r\n* java/engine/org/apache/derby/impl/store/replication/slave/SlaveController.java\r\n\r\nslavehost and slaveport are no longer used (SlaveAddress object is instead used).\r\n\r\nintroduced two functions getHostName and getPortNumber here that return the hostName\r\nand portNumber from SlaveAddress. (I will remove this if it seems unnecessary)\r\n\r\n* java/engine/org/apache/derby/impl/store/replication/master/MasterController.java\r\n\r\nslavehost and slaveport are no longer used (SlaveAddress object is instead used).\r\n\r\nintroduced two functions getHostName and getPortNumber here that return the hostName\r\nand portNumber from SlaveAddress. (I will remove this if it seems unnecessary)\r\n\r\nI ran the replication tests\r\n\r\nvn@vn-laptop:~/work/workspaces/Derby3489/test$ java junit.textui.TestRunner  org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationSuite\r\n........\r\nTime: 670.003\r\n\r\nOK (8 tests)\r\n\r\nI also ran a repro where I tried to connect to a default port number\r\n\r\nvn@vn-laptop:~/work/workspaces/Derby3489/master$ java org.apache.derby.tools.ij\r\nij version 10.5\r\nij> connect 'jdbc:derby://localhost:1527/replicationdb';\r\nij> connect 'jdbc:derby://localhost:1527/replicationdb;startMaster=true;slaveHost=localhost';\r\nERROR XRE04: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE04, SQLERRMC: replicationdblocalhost4851XRE04\r\nij>","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"created":"2008-03-31T08:56:57.460+0000","updated":"2008-03-31T08:56:57.460+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12583602","id":"12583602","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"Does this mean that the slave will never report which port it listens on? The message of which port the slave listens to is very valuable when debugging why replication does not start successfully. It could be that the message should be printed somewhere else than it is today, but I don't think it is good to remove the message as a whole.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2008-03-31T09:16:10.953+0000","updated":"2008-03-31T09:16:10.953+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12583623","id":"12583623","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"body":"> Does this mean that the slave will never report which port it listens on? \r\n\r\nSeemingly that is the only place where the slave port is reported. So the answer to\r\nthe question is yes.\r\n\r\n> The message of which port the slave listens to is very valuable when debugging why replication \r\n> does not start successfully. \r\n\r\nI agree\r\n\r\n> It could be that the message should be printed somewhere else than it is today, \r\n\r\nOK, I will move the message after successful creation of the server socket and before accepting\r\non the socket.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"created":"2008-03-31T10:29:09.729+0000","updated":"2008-03-31T10:29:09.729+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12583642","id":"12583642","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"body":"Prints a message in ReplicationMessageReceive once the server\r\nsocket is created.\r\n\r\nRestored the previously deleted message.\r\n\r\njava/shared/org/apache/derby/shared/common/reference/MessageId.java\r\n\r\nshows up in the diff because I deleted some trailing spaces\r\nin R011. I thought the spaces should not be there.\r\n\r\nRan replication tests on Derby3489_2.diff.\r\n\r\nvn@vn-laptop:~/work/workspaces/Derby3489/test1$ java junit.textui.TestRunner org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationSuite\r\n........\r\nTime: 652.241\r\n\r\nOK (8 tests)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"created":"2008-03-31T11:29:04.939+0000","updated":"2008-03-31T11:30:32.451+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12585073","id":"12585073","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"body":"Thanks for the patch, Narayanan.  It basically looks good.  I have only a\r\nfew comments:\r\n\r\n - SlaveController#boot:  Need to check for port being null.  Check\r\n   what happens if you do startSlave without specifying port.\r\n   (Evidently the test suite does not test that.  Such a test would be\r\n   good). \r\n\r\n - ReplicationMessageReceive constructor: Parameter dbname is no\r\n   longer used\r\n\r\n - ReplicationMessageReceive: Import of UnknownHostException no longer\r\n   necessary. \r\n\r\n - MessageId: Does not seem to contain any significant change.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"created":"2008-04-03T12:20:24.533+0000","updated":"2008-04-03T12:32:04.364+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12585372","id":"12585372","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"body":"Thank you for the comments/reviews Oystein!\r\n\r\nI have addressed all the issues pointed out.\r\n\r\nI have verified that this patch works for default values in both Master and Slave before\r\nmaking the following changes\r\n\r\n>- ReplicationMessageReceive constructor: Parameter dbname is no\r\n>   longer used\r\n>\r\n>- ReplicationMessageReceive: Import of UnknownHostException no longer\r\n>  necessary.\r\n>\r\n>- MessageId: Does not seem to contain any significant change.\r\n\r\nBut since these changes were more or less minor and would not have affected\r\ncode flow I thought it is safe and the verification does not need to be done again\r\nafter making these changes.\r\n\r\nMaster\r\n------\r\n\r\nij version 10.5\r\nij> connect 'jdbc:derby://localhost:1527/replicationdb';\r\nij> connect 'jdbc:derby://localhost:1527/replicationdb;startMaster=true;slaveHost=localhost';\r\nij(CONNECTION1)> create table narayanan(age int, name varchar(30));\r\n0 rows inserted/updated/deleted\r\nij(CONNECTION1)> connect 'jdbc:derby://localhost:1527/replicationdb;failover=true';\r\nERROR XRE20: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE20, SQLERRMC: Failover performed successfully for database 'replicationdb', the database has been shutdown.\r\nij(CONNECTION1)>\r\n\r\nSlave\r\n-----\r\n\r\nij version 10.5\r\nij> connect 'jdbc:derby://localhost:1528/replicationdb;startSlave=true;slaveHost=localhost';\r\nERROR XRE08: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE08, SQLERRMC: Replication slave mode started successfully for database 'replicationdb'. Connection refused because the database is in replication slave mode.\r\nij> connect 'jdbc:derby://localhost:1528/replicationdb';\r\nij> select * from narayanan;\r\nAGE        |NAME                          \r\n------------------------------------------\r\n\r\n0 rows selected\r\n\r\nThe replication suite of tests also passed fine\r\n\r\nvn@vn-laptop:~/work/workspaces/Derby3489/test2$ java junit.textui.TestRunner org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationSuite\r\n........\r\nTime: 629.492\r\n\r\nOK (8 tests)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"created":"2008-04-04T02:11:08.061+0000","updated":"2008-04-04T02:11:08.061+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12585545","id":"12585545","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"body":"It seems some code in MasterController have been lost when resolving conflicts with recently committed code.\r\nOr was it intentional to remove the calls to transmitter.tearDown?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"created":"2008-04-04T14:17:11.746+0000","updated":"2008-04-04T14:17:11.746+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12585558","id":"12585558","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"body":"One more issue:  From I start the slave until I start the master, the slave derby.log is filled with the message:\r\n\r\n    Replication slave database 'testdb' listens for connections from master on 'localhost:4851'.\r\n\r\nIt would be nice if this was written only once.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"created":"2008-04-04T14:46:49.238+0000","updated":"2008-04-04T14:46:49.238+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12585569","id":"12585569","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"body":"* Moved logging back to the ReplicationMessageReceive constructor\r\n* Replaced unintended diff","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"created":"2008-04-04T15:08:48.874+0000","updated":"2008-04-04T15:08:48.874+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12585581","id":"12585581","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"body":"The replication suite of tests passed fine\r\n\r\nvn@vn-laptop:~/work/workspaces/Derby3489/test2$ java junit.textui.TestRunner org.apache.derbyTesting.functionTests.tests.replicationTests.ReplicationSuite\r\n........\r\nTime: 706.684\r\n\r\nOK (8 tests)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=narayanan","name":"narayanan","emailAddress":"v dot narayanan at sun dot com-disabled","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"V.Narayanan","active":true},"created":"2008-04-04T15:24:21.869+0000","updated":"2008-04-04T15:24:21.869+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12585604","id":"12585604","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"body":"Thanks for the updates, Narayanan.\r\nPatch 4 committed at revision 644742.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"created":"2008-04-04T16:00:18.170+0000","updated":"2008-04-04T16:00:18.170+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12585610","id":"12585610","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"body":"Fix ported to 10.4 branch at revision 644749.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"created":"2008-04-04T16:10:50.058+0000","updated":"2008-04-04T16:10:50.058+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12390029/comment/12587941","id":"12587941","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"body":"I have verified that this issue is fixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"created":"2008-04-11T12:33:25.359+0000","updated":"2008-04-11T12:33:25.359+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-3489/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i072vj:"}}