{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12559433","self":"https://issues.apache.org/jira/rest/api/latest/issue/12559433","key":"MAHOUT-1028","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12319261","id":"12319261","description":"Primarily a cleanup and refactoring release. Some new functionality which has been previously completed and tested may be introduced.","name":"0.7","archived":false,"released":true,"releaseDate":"2012-05-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-06-08 20:55:41.446","customfield_12312323":null,"customfield_12310420":"243583","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_279089011_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-06-09T00:47:01.465+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-1028/watchers","watchCount":3,"isWatching":false},"created":"2012-06-05T19:15:32.498+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12319261","id":"12319261","description":"Primarily a cleanup and refactoring release. Some new functionality which has been previously completed and tested may be introduced.","name":"0.7","archived":false,"released":true,"releaseDate":"2012-05-15"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-06-16T09:35:14.933+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312151","id":"12312151","name":"Clustering","description":"Bugs related to any of the clustering packages"}],"timeoriginalestimate":null,"description":"I think I found the root but not sure what needs fixing.\r\n\r\nI took out n-gram generation and the vector now looks like this:\r\nKey: https://farfetchers.com/category/collections/source/brice-berard:\r\nValue: https://farfetchers.com/category/collections/source/brice-berard:{701:0.5484552974788475,1876:0.6020428878306935,3620:0.5802940184767269}\r\n\r\nThis works in clustering.\r\n\r\nIt doesn't seem like a malformed vector should crash clustering (it apparently doesn't in mahout 0.6) but it looks like something in seq2sparse's n-gram weighting does cause a malformed vector.\r\n\r\nI'll file a JIRA\r\n\r\nOn 6/5/12 11:48 AM, Pat Ferrel wrote:\r\n> Using seqdumper on the TFIDF vectors, that vector is indeed in the list\r\n> Key: https://farfetchers.com/category/collections/source/brice-berard:\r\n> Value: https://farfetchers.com/category/collections/source/brice-berard:{\r\n>\r\n> Looking in the seqfiles we find the document in part-00005 of 10 in no particular part of the file.\r\n> Key: https://farfetchers.com/category/collections/source/brice-berard:\r\n> Value: ::Title::\r\n> Brice Berard | FarFetchers.com\r\n> Blog Posts\r\n>\r\n> On the chance that this originates in seq2sparse I'll try changing options until the vector looks different. and try clustering again.\r\n>\r\n> On 6/5/12 10:43 AM, Pat Ferrel wrote:\r\n>> I'm not completely sure what I'm looking at but...\r\n>>\r\n>> In iterateSeq on iteration #1  of processing vectors/tfidf-vectors it reads\r\n>> vector = \"https://farfetchers.com/category/collections/source/brice-berard:{\"\r\n>>\r\n>> it's a named vector where the  url is the name, the value is \"{\", which looks wrong and when that is classified to get a probability it gets\r\n>>\r\n>> probabilities = \"{0:NaN,1:NaN,2:NaN,3:NaN,4:NaN,5:NaN,6:NaN,7:NaN,8:NaN,9:NaN,10:NaN,11:NaN,12:NaN,13:NaN,14:NaN,15:NaN,16:NaN,17:NaN,18:NaN,19:NaN}\"\r\n>>\r\n>> That causes the probabilities.maxValueIndex() = -1 and everything dies.\r\n>>\r\n>> vector looks wrong, doesn't it? Truncated?\r\n>>\r\n>> I went back to try the same on mahout 0.6 but iterateSeq does not get called though I used -xm sequential on both runs. I can't see kmeans-clusters/clusters-0 being created on mahout 0.6 either. Is that part of the refactoring?\r\n>>\r\n>> On 6/4/12 3:07 PM, Pat Ferrel wrote:\r\n>>> Some things to try:\r\n>>> - Have you verified the contents of your input vectors actually have data in them?\r\n>>> * YES, from the other email you know that the data works fine in 0.6\r\n>>> - Can you run the cluster dumper on the b3/kmeans-clusters/clusters-0 contents?\r\n>>> * YES, It is attached from trunk's clusterdump after the failure of kmeans, of course. A simple data set fortunately.\r\n>>> - Is it possible to run the sequential version (-xm sequential)? If it is you could run it in a debugger to gain more insight.\r\n>>> * YES, will report back.\r\n>>>\r\n>>> On 6/4/12 2:19 PM, Jeff Eastman wrote:\r\n>>>> It looks like the probabilities vector returned by AbstractClusteringPolicy.classify() has no non-zero elements. In this case, AbstractClusteringPolicy.select()'s call to AbstractVector.maxValueIndex() is returning -1 and that is causing the exception.\r\n>>>>\r\n>>>> How could this happen? I'm not exactly sure, but consider that the probabilities vector is calculated in AbstractClusteringPolicy.classify() by calling DistanceMeasureCluster.pdf() on each of the prior clusters in b3/kmeans-clusters/clusters-0. With a CosineDistanceMeasure I don't see how this could ever return zero. Certainly, some of your vectors will match the prior cluster centers exactly (they were sampled from the input) and those values would return pdf==1. Even if the cosine distance was 1 the pdf would be 0.5.\r\n>>>>\r\n>>>> Some things to try:\r\n>>>> - Have you verified the contents of your input vectors actually have data in them?\r\n>>>> - Can you run the cluster dumper on the b3/kmeans-clusters/clusters-0 contents?\r\n>>>> - Is it possible to run the sequential version (-xm sequential)? If it is you could run it in a debugger to gain more insight.\r\n>>>>\r\n>>>> Jeff\r\n>>>>\r\n>>>> On 6/4/12 12:05 PM, Pat Ferrel wrote:\r\n>>>>> Using the CLI to kmeans from several trunk versions I get an error I don't understand.  When the job died the b3/canopy-centroids/clusters-0-final contained the random-seeds file generated by the kmeans driver and the b3/kmeans-clusters/clusters-0 had several part files but b3/kmeans-clusters/clusters-1 was empty. When I look through the code from the trace it doesn't make much sense.\r\n>>>>>\r\n>>>>> Command line:\r\n>>>>> mahout kmeans\r\n>>>>>   -i b3/vectors/tfidf-vectors/\r\n>>>>>   -k 20\r\n>>>>>   -c b3/canopy-centroids/clusters-0-final\r\n>>>>>   -cl\r\n>>>>>   -o b3/kmeans-clusters\r\n>>>>>   -ow\r\n>>>>>   -cd 0.01\r\n>>>>>   -x 30\r\n>>>>>   -dm org.apache.mahout.common.distance.CosineDistanceMeasure\r\n>>>>>\r\n>>>>> Error:\r\n>>>>> 12/06/04 07:55:03 INFO common.AbstractJob: Command line arguments: {--clustering=null, --clusters=[b3/canopy-centroids/clusters-0-final], --convergenceDelta=[0.01], --distanceMeasure=[org.apache.mahout.common.distance.CosineDistanceMeasure], --endPhase=[2147483647], --input=[b3/vectors/tfidf-vectors/], --maxIter=[30], --method=[mapreduce], --numClusters=[20], --output=[b3/kmeans-clusters], --overwrite=null, --startPhase=[0], --tempDir=[temp]}\r\n>>>>> 2012-06-04 07:55:03.752 java[67308:1903] Unable to load realm info from SCDynamicStore\r\n>>>>> 12/06/04 07:55:03 INFO common.HadoopUtil: Deleting b3/canopy-centroids/clusters-0-final\r\n>>>>> 12/06/04 07:55:04 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n>>>>> 12/06/04 07:55:04 INFO compress.CodecPool: Got brand-new compressor\r\n>>>>> 12/06/04 07:55:04 INFO kmeans.RandomSeedGenerator: Wrote 20 vectors to b3/canopy-centroids/clusters-0-final/part-randomSeed\r\n>>>>> 12/06/04 07:55:04 INFO kmeans.KMeansDriver: Input: b3/vectors/tfidf-vectors Clusters In: b3/canopy-centroids/clusters-0-final/part-randomSeed Out: b3/kmeans-clusters Distance: org.apache.mahout.common.distance.CosineDistanceMeasure\r\n>>>>> 12/06/04 07:55:04 INFO kmeans.KMeansDriver: convergence: 0.01 max Iterations: 30 num Reduce Tasks: org.apache.mahout.math.VectorWritable Input Vectors: {}\r\n>>>>> 12/06/04 07:55:04 INFO compress.CodecPool: Got brand-new decompressor\r\n>>>>> Cluster Iterator running iteration 1 over priorPath: b3/kmeans-clusters/clusters-0\r\n>>>>> 12/06/04 07:55:05 INFO input.FileInputFormat: Total input paths to process : 1\r\n>>>>> 12/06/04 07:55:05 INFO mapred.JobClient: Running job: job_local_0001\r\n>>>>> 12/06/04 07:55:06 INFO mapred.MapTask: io.sort.mb = 100\r\n>>>>> 12/06/04 07:55:08 INFO mapred.MapTask: data buffer = 79691776/99614720\r\n>>>>> 12/06/04 07:55:08 INFO mapred.MapTask: record buffer = 262144/327680\r\n>>>>> 12/06/04 07:55:08 INFO mapred.JobClient:  map 0% reduce 0%\r\n>>>>> 12/06/04 07:55:09 WARN mapred.LocalJobRunner: job_local_0001\r\n>>>>> org.apache.mahout.math.IndexException: Index -1 is outside allowable range of [0,20)\r\n>>>>>     at org.apache.mahout.math.AbstractVector.set(AbstractVector.java:439)\r\n>>>>>     at org.apache.mahout.clustering.iterator.AbstractClusteringPolicy.select(AbstractClusteringPolicy.java:44)\r\n>>>>>     at org.apache.mahout.clustering.iterator.CIMapper.map(CIMapper.java:52)\r\n>>>>>     at org.apache.mahout.clustering.iterator.CIMapper.map(CIMapper.java:18)\r\n>>>>>     at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:144)\r\n>>>>>     at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:764)\r\n>>>>>     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:370)\r\n>>>>>     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:212)\r\n>>>>> 12/06/04 07:55:09 INFO mapred.JobClient: Job complete: job_local_0001\r\n>>>>> 12/06/04 07:55:09 INFO mapred.JobClient: Counters: 0\r\n>>>>> Exception in thread \"main\" java.lang.InterruptedException: Cluster Iteration 1 failed processing b3/kmeans-clusters/clusters-1\r\n>>>>>     at org.apache.mahout.clustering.iterator.ClusterIterator.iterateMR(ClusterIterator.java:186)\r\n>>>>>     at org.apache.mahout.clustering.kmeans.KMeansDriver.buildClusters(KMeansDriver.java:229)\r\n>>>>>     at org.apache.mahout.clustering.kmeans.KMeansDriver.run(KMeansDriver.java:149)\r\n>>>>>     at org.apache.mahout.clustering.kmeans.KMeansDriver.run(KMeansDriver.java:108)\r\n>>>>>     at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n>>>>>     at org.apache.mahout.clustering.kmeans.KMeansDriver.main(KMeansDriver.java:49)\r\n>>>>>     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n>>>>>     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n>>>>>     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n>>>>>     at java.lang.reflect.Method.invoke(Method.java:597)\r\n>>>>>     at org.apache.hadoop.util.ProgramDriver$ProgramDescription.invoke(ProgramDriver.java:68)\r\n>>>>>     at org.apache.hadoop.util.ProgramDriver.driver(ProgramDriver.java:139)\r\n>>>>>     at org.apache.mahout.driver.MahoutDriver.main(MahoutDriver.java:195)\r\n>>>>>\r\n>>>>>\r\n>>>>>\r\n>>>>>\r\n>>>>>\r\n>>>>\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"22395","summary":"seq2sparse n-gram weighting creates malformed vectors which crashes kmeans","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"using trunk snapshot about June 1. ","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":5,"total":5,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559433/comment/13289654","id":"13289654","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"body":"The command line that creates the malformed vector is \r\n\r\nmahout seq2sparse     -i b3/seqfiles/     -o b3/vectors/     -ow -chunk 2000     -x 40     -seq     -n 2     -nv     -ng 2     -ml 2000\r\n\r\nWhen you run \r\n\r\nmahout seq2sparse     -i b3/seqfiles/     -o b3/vectors/     -ow -chunk 2000     -x 40     -seq     -n 2     -nv\r\n\r\nThe vector looks fine and clustering doesn't die. Attaching the output of seqdumper on the part that contains the doc for this vector.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"created":"2012-06-05T19:22:34.941+0000","updated":"2012-06-05T19:22:34.941+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559433/comment/13289657","id":"13289657","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"body":"seqdumper output for the part that contains the doc that is turned into a malformed vector","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"created":"2012-06-05T19:24:37.176+0000","updated":"2012-06-05T19:24:37.176+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559433/comment/13291986","id":"13291986","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Mahout-Quality #1534 (See [https://builds.apache.org/job/Mahout-Quality/1534/])\r\n    MAHOUT-1028: \r\n- Added zero vector corner case detection to 2 other CosineDistanceMeasure\r\n- All tests run (Revision 1346993)\r\nMAHOUT-1028: \r\n- Added unit test that produced a NaN pdf value with zero vector and/or zero cluster center\r\n- Added zero vector corner case detection to CosineDistanceMeasure\r\n- All tests run (Revision 1346978)\r\n\r\n     Result = SUCCESS\r\njeastman : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1346993\r\nFiles : \r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/common/distance/CosineDistanceMeasure.java\r\n\r\njeastman : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1346978\r\nFiles : \r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/common/distance/CosineDistanceMeasure.java\r\n* /mahout/trunk/core/src/test/java/org/apache/mahout/clustering/iterator/TestClusterClassifier.java\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2012-06-08T20:55:41.446+0000","updated":"2012-06-08T20:55:41.446+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559433/comment/13292136","id":"13292136","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"body":"Ah. \r\n\r\nml is supposed to be something small like 1. Its an exponential scale, anything >1 means important ngram. I am sure > 2000 means empty, and you are creating empty vectors.\r\nSimilarly you are doing max df percent of 40. So you are ending up with empty vectors.\r\n\r\nmahout seq2sparse -i b3/seqfiles/ -o b3/vectors/ -ow -chunk 2000 -x 40 -seq -n 2 -nv -ng 2 -ml 2000","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"created":"2012-06-09T00:46:54.229+0000","updated":"2012-06-09T00:46:54.229+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559433/comment/13292359","id":"13292359","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"body":"Yes, these are the settings I use on a much larger crawl, here I'm using them on a small one for quick experimentation. My understanding was that a very large ml would create less n-grams and only really really important ones, which is what I want. There is always the individual words that should be used in the vector when the n-grams don't pass the ml test. Or so I thought.\r\n\r\nIn short large ml means less terms in the vector but I thought never less than the number of words. So large ml should never create 0 vector, am I wrong? \r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"created":"2012-06-09T15:20:41.068+0000","updated":"2012-06-09T15:20:41.068+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-1028/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i046z3:"}}