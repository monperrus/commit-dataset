{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12359911","self":"https://issues.apache.org/jira/rest/api/latest/issue/12359911","key":"DERBY-2218","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312251","id":"12312251","description":"Head of 10.2 branch","name":"10.2.2.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2007-01-05 22:57:08.947","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22947","customfield_12310222":"3_*:*_1_*:*_1423945873_*|*_1_*:*_1_*:*_23305074_*|*_6_*:*_1_*:*_0_*|*_5_*:*_2_*:*_31709286775_*|*_4_*:*_1_*:*_36668","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-02-21T18:59:18.981+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2218/watchers","watchCount":0,"isWatching":false},"created":"2007-01-05T22:50:59.727+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"8.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311972","id":"12311972","description":"","name":"10.1.3.2","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312251","id":"12312251","description":"Head of 10.2 branch","name":"10.2.2.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-07-05T17:12:37.563+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11408","id":"11408","name":"SQL"}],"timeoriginalestimate":null,"description":"If a SELECT query contains a subquery which includes an untyped NULL value at any place other than in the FROM list, Derby will throw an NPE at bind time.\n\nij> create table t1 (i int);\n0 rows inserted/updated/deleted\n\n-- If the untyped NULL is in the FROM list, a reasonable error is thrown.\n\nij> select * from (values null) x;\nERROR 42X07: Null is only allowed in a VALUES clause within an INSERT statement.\n\nij> select * from (select * from t1, (values null) x )y;\nERROR 42X07: Null is only allowed in a VALUES clause within an INSERT statement.\n\n-- But if it appears anywhere else, the result is an NPE:\n\n-- IN-list\nij> select * from t1 where i in (1, 2, (values null));\nERROR XJ001: Java exception: ': java.lang.NullPointerException'.\n\n-- where clause\nselect * from t1 where (values null);\n\n-- order by clause\nselect * from t1 order by (values null);\n\n-- result column\nselect (values null) from t1;\n\n-- group by clause (only works in 10.2 and later)\nselect * from t1 group by (values null);\n\n-- having clause\nselect * from t1 group by i having (values null);\n\nStack trace (from 10.2.2) is:\n\njava.lang.NullPointerException\n\tat org.apache.derby.impl.sql.compile.SubqueryNode.setDataTypeServices(SubqueryNode.java:2289)\n\tat org.apache.derby.impl.sql.compile.SubqueryNode.bindExpression(SubqueryNode.java:529)\n\tat org.apache.derby.impl.sql.compile.ValueNodeList.bindExpression(ValueNodeList.java:130)\n\tat org.apache.derby.impl.sql.compile.BinaryListOperatorNode.bindExpression(BinaryListOperatorNode.java:161)\n\tat org.apache.derby.impl.sql.compile.SelectNode.bindExpressions(SelectNode.java:540)\n\tat org.apache.derby.impl.sql.compile.DMLStatementNode.bindExpressions(DMLStatementNode.java:249)\n\tat org.apache.derby.impl.sql.compile.DMLStatementNode.bind(DMLStatementNode.java:162)\n\tat org.apache.derby.impl.sql.compile.CursorNode.bind(CursorNode.java:253)\n\tat org.apache.derby.impl.sql.GenericStatement.prepMinion(GenericStatement.java:345)\n\tat org.apache.derby.impl.sql.GenericStatement.prepare(GenericStatement.java:119)","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38003","summary":"Null Pointer Exception when an untyped NULL subquery (\"values null\") appears outside of the FROM list in a SELECT query.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":20,"total":20,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12462632","id":"12462632","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Happens in 10.1.3 too\r\n\r\n2007-01-05 22:55:13.328 GMT Thread[main,5,main] (XID = 115), (SESSIONID = 0), (DATABASE = wombat), (DRDAID = null), Cleanup action starting\r\n2007-01-05 22:55:13.328 GMT Thread[main,5,main] (XID = 115), (SESSIONID = 0), (DATABASE = wombat), (DRDAID = null), Failed Statement is: select * from t1 where i in (1,2,(values null))\r\njava.lang.NullPointerException\r\n\tat org.apache.derby.impl.sql.compile.SubqueryNode.setDataTypeServices(SubqueryNode.java:2303)\r\n\tat org.apache.derby.impl.sql.compile.SubqueryNode.bindExpression(SubqueryNode.java:536)\r\n\tat org.apache.derby.impl.sql.compile.ValueNodeList.bindExpression(ValueNodeList.java:137)\r\n\tat org.apache.derby.impl.sql.compile.BinaryListOperatorNode.bindExpression(BinaryListOperatorNode.java:164)\r\n\tat org.apache.derby.impl.sql.compile.SelectNode.bindExpressions(SelectNode.java:554)\r\n\tat org.apache.derby.impl.sql.compile.DMLStatementNode.bindExpressions(DMLStatementNode.java:247)\r\n\tat org.apache.derby.impl.sql.compile.DMLStatementNode.bind(DMLStatementNode.java:161)\r\n\tat org.apache.derby.impl.sql.compile.ReadCursorNode.bind(ReadCursorNode.java:74)\r\n\tat org.apache.derby.impl.sql.compile.CursorNode.bind(CursorNode.java:250)\r\n\tat org.apache.derby.impl.sql.GenericStatement.prepMinion(GenericStatement.java:332)\r\n\tat org.apache.derby.impl.sql.GenericStatement.prepare(GenericStatement.java:107)\r\n\tat org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(GenericLanguageConnectionContext.java:704)\r\n\tat org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java:513)\r\n\tat org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java:487)\r\n\tat org.apache.derby.impl.tools.ij.ij.executeImmediate(ij.java:313)\r\n\tat org.apache.derby.impl.tools.ij.utilMain.doCatch(utilMain.java:433)\r\n\tat org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:312)\r\n\tat org.apache.derby.impl.tools.ij.Main.go(Main.java:203)\r\n\tat org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:169)\r\n\tat org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)\r\n\tat org.apache.derby.tools.ij.main(ij.java:60)\r\nCleanup action completed\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-01-05T22:57:08.947+0000","updated":"2007-01-05T22:57:08.947+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12462683","id":"12462683","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Attaching patch derby2218-trunk-diff01.txt.  This is a simple fix where it catches untyped null in SubqueryNode at bind phase.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-01-06T05:15:26.643+0000","updated":"2007-01-06T05:15:26.643+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12462684","id":"12462684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Unchecking patch available.  The following should have returned an error instead of executed successfully:\r\n\r\nij> create table t1 (i int);\r\n0 rows inserted/updated/deleted\r\nij> insert into t1 values 1,2,3;\r\n3 rows inserted/updated/deleted\r\nij> select * from t1 where exists (values null);\r\nI\r\n-----------\r\n1\r\n2\r\n3\r\n\r\n3 rows selected\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-01-06T05:35:03.691+0000","updated":"2007-01-06T05:35:03.691+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12463693","id":"12463693","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Attaching patch derby2218-trunk-diff02.txt to resolve the EXISTS subquery issue also.  It turns out that the EXISTS subquery will get transform from:  \r\n\r\n... EXISTS (SELECT * FROM t1 ...)\r\n\r\nto\r\n\r\n... EXISTS (SELECT TRUE FROM t1...)\r\n\r\nSo prior this transformation, the bind phase in Subquery node need to check for untyped NULL and throw the appropriate exception.\r\n\r\nderbyall + junit suite passes.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-01-10T20:14:01.655+0000","updated":"2007-01-10T20:14:01.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12466173","id":"12466173","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"I looked at the patch and it seems straightforward--thank you for tracking this down, Yip!\r\n\r\nThe test cases all look good--but I did notice that they are limited to IN and EXISTS predicates.  Since the only file you changed was SuqbueryNode.java that made me wonder if the problem didn't apply elsewhere, as well.  And sure enough, it looks like \"values null\" will cause a NPE if it appears in any part of the query except the FROM list--without your patch.\r\n\r\nFor example, all of the following queries fail with NPEs without your patch but throw the correct error with it:\r\n\r\n-- where clause\r\nselect * from t1 where (values null);\r\n\r\n-- order by clause\r\nselect * from t1 order by (values null);\r\n\r\n-- result column\r\nselect (values null) from t1;\r\n\r\n-- group by clause\r\nselect * from t1 group by (values null);\r\n\r\n-- having clause\r\nselect * from t1 group by i having (values null);\r\n\r\nSo your patch actually fixes more than just IN-list; I wonder if the description for this issue should be changed to reflect that?  In any event, do you think it would be useful to add these queries to the test, as well?  If so, that can of course come as a follow-up patch (by you or someone else with that fish to fry).\r\n\r\nMy only other comment is that with your change we will end up calling:\r\n\r\n    resultSet.bindResultColumns(fromList);\r\n\r\n*twice* for an EXISTS query.  Given that derbyall and suites.All all passed I guess this isn't really a problem--but it does kind of look weird in the code and it sort of makes me worry (a little).  How certain are we that double-binding is safe thing to do here (I admit, I didn't actually look into the relevant code)?  Would it be worth it to add some minimal logic to avoid the double bind?  Also, with the patch we call \"bindExpressions()\" for EXISTS queries when we didn't use to.  Again, this is apparently pretty harmless, but I thought I'd mention it...\r\n\r\nIf you think the double-binding is safe and that it's not worth adding logic to avoid it, then just let me know and I'll go ahead with the commit.  I don't consider anything I've mentioned here to be a blocker for the patch.\r\n\r\nThank you for picking this issue up and resolving it so quickly!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-01-19T22:56:33.219+0000","updated":"2007-01-19T22:56:33.219+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12466178","id":"12466178","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Changed Summary and Description to match the behavior described in my preceding comment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-01-19T23:10:50.142+0000","updated":"2007-01-19T23:10:50.142+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12466184","id":"12466184","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Actually, I changed my mind :)  The patch as posted by Yip fixes the problem and doesn't break anything else (Yip reported that derbyall ran without error) so I committed it with svn #498004.  Follow-up work to address my review comments can be committed separately.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-01-19T23:29:07.251+0000","updated":"2007-01-19T23:29:07.251+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12466185","id":"12466185","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Thanks Army for taking the time to review the patch.  I can certainly post a follow up patch for the additional tests\r\nyou added in this jira.\r\n\r\nYes, the resultSet.bindResultColumns(fromList) is called to make sure that the result column have its type assigned\r\nby the expression.  This is what I interpreted from the method name of resultSet.bindUntypedNullsToResultColumns(null), \r\nwhich looks to me that the RCL should be resolved before calling this method.  \r\n\r\nHowever, it looks like if the RC's type cannot be retrieved from the binding RC, then it will get it from its expression.  So we \r\nmay be able to safely remove the extra call to bindResultColumns().  But I'll rerun derbyall and junit suite to make sure \r\nof that.  Will post result here when the regression completes.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-01-20T00:08:06.130+0000","updated":"2007-01-20T00:08:06.130+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12466210","id":"12466210","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Attaching derby2218-trunk-diff03.txt for additional tests + the bindResultColumns call removal.  \r\nderbyall and junit suite passes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-01-20T04:41:01.332+0000","updated":"2007-01-20T04:41:01.332+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12466503","id":"12466503","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Thank you for the follow-up patch, Yip.  I ran lang/valuesclause and lang/subquery as a sanity check and then committed *diff03.txt to trunk with svn # 498689:\r\n\r\n  URL: http://svn.apache.org/viewvc?view=rev&rev=498689.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-01-22T16:51:50.659+0000","updated":"2007-01-22T16:51:50.659+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12474793","id":"12474793","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Reopening to set Fixin version.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-02-21T18:58:42.307+0000","updated":"2007-02-21T18:58:42.307+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12474794","id":"12474794","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Resolving as fixed in 10.3.  Yip, do you have any interest/desire to port this back to 10.2 and/or 10.1?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-02-21T18:59:18.920+0000","updated":"2007-02-21T18:59:18.920+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12474837","id":"12474837","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Sure, Army, I will port it to 10.2 and 10.1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-02-21T21:34:15.932+0000","updated":"2007-02-21T21:34:15.932+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12474869","id":"12474869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Attaching derby2218-10.2-diff01.txt patch for 10.2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-02-21T23:25:11.247+0000","updated":"2007-02-21T23:25:11.247+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12474870","id":"12474870","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Patch available for 10.2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-02-21T23:25:44.152+0000","updated":"2007-02-21T23:25:44.152+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12474879","id":"12474879","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Running regression for 10.2, will post result when it is completed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-02-22T00:00:01.165+0000","updated":"2007-02-22T00:00:01.165+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12474942","id":"12474942","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"derbyall passes for 10.2\r\n\r\nI might not be able to work on the backport and rerun the regression for 10.1 this week since I am busy with something else.  Maybe sometime next week.  \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2007-02-22T08:34:36.272+0000","updated":"2007-02-22T08:34:36.272+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12475059","id":"12475059","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Thanks, Yip.  I committed derby2218-10.2-diff01.txt with svn revision 510562 and am updating the fixin version accordingly:\r\n\r\n\r\n> I might not be able to work on the backport and rerun the regression for 10.1 this week .\r\n\r\nThat's fine.  I'll just leave the issue in RESOLVED state for now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-02-22T16:01:54.231+0000","updated":"2007-02-22T16:01:54.231+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12475060","id":"12475060","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Thanks, Yip.  I committed derby2218-10.2-diff01.txt with svn revision 510562 and am updating the fixin version accordingly:\r\n\r\n  URL: http://svn.apache.org/viewvc?view=rev&rev=510562\r\n\r\n> I might not be able to work on the backport and rerun the regression for 10.1 this week .\r\n\r\nThat's fine.  I'll just leave the issue in RESOLVED state for now.  Thank you for the port to 10.2!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-02-22T16:02:09.267+0000","updated":"2007-02-22T16:02:09.267+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12359911/comment/12562130","id":"12562130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Issue has not been ported 10.1, but there has been no request to do so.  If any such request comes in then the issue can be re-opened.  But I'm marking it close for now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2008-01-24T17:00:32.446+0000","updated":"2008-01-24T17:00:32.446+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2218/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06vaf:"}}