{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12501153","self":"https://issues.apache.org/jira/rest/api/latest/issue/12501153","key":"MAHOUT-625","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315255","id":"12315255","description":"","name":"0.5","archived":false,"released":true,"releaseDate":"2011-05-27"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-03-11 18:25:41.411","customfield_12312323":null,"customfield_12310420":"9436","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_6090104314_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_767339","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2011-05-21T03:06:04.524+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-625/watchers","watchCount":1,"isWatching":false},"created":"2011-03-11T15:24:20.323+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"6.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314396","id":"12314396","description":"","name":"0.4","archived":false,"released":true,"releaseDate":"2010-10-31"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-03-31T22:49:15.473+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[],"timeoriginalestimate":null,"description":"It turnes out that some of generated patterns have incorrect support. The returned support is slightly higher than the true one.\r\nI attached the test, which proves that FPGrowth has a bug. Test is using data (retail) found here: http://fimi.ua.ac.be/data/\r\nThe pattern (36, 39, 41) occurs in the transactions 572 times (this is also calculated in test), but the FPGrowth returns pattern (36, 39, 41) with support 573.\r\n\r\nPlease note that mentioned pattern is not the only one with incorrect support - the test only point out one example to hace something to focus on. There is plenty more patterns with support higher than the real one. The biggest difference I noticed was support 8 higher than the real one for one of patterns.\r\n\r\nPlease find attached failing unit test - it's actually a maven project, which contains test data and is ready to run.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"22793","summary":"Some of generated patterns have support higher than in reality","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":18,"total":18,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13005678","id":"13005678","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"body":"Test which shows that FPGrowth has a bug. The data for test is from http://fimi.ua.ac.be/data/ (retail).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"created":"2011-03-11T15:26:54.004+0000","updated":"2011-03-11T15:26:54.004+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13005770","id":"13005770","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"Can you use a portable/standard compressor for this attachment?  7-zip is not widely used.\r\n\r\nTry zip or tar.gz.  Or bzip.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2011-03-11T18:25:41.411+0000","updated":"2011-03-11T18:25:41.411+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13005779","id":"13005779","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"body":"Attached test in zip archive","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"created":"2011-03-11T18:42:04.930+0000","updated":"2011-03-11T18:42:04.930+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13006196","id":"13006196","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"body":"Hi,\r\n\r\nAfter a bit of analysis I found the problem. It turned out that the alpha-pruning method had a bug - it was leaving the node attached to it's parent after pruning. This was causing issues in situation, when tree was pruned multiple times and unattached node landed in header table (this is rare for small data, but pretty common for fairly big number of transactions). In such case, the support of unattached node was counted even though it shouldn't. I fixed the problem by simply setting the support of such node to 0. Since it can not have any children it doesn't add to computation time and it is simpler solution that trying to unattach it from it's parent (parent has an arbitrary ordered list of children).\r\n\r\nI added a comprehensive test, which uses transactions from the retail data from http://fimi.ua.ac.be/data/ (88162 transactions) and compares the results with the results generated by implementation from http://www.borgelt.net/fpgrowth.html. I added tests for both the serial and parallel (map-reduce) fpgrowth.\r\n\r\nI also noticed that fpgrowth implementation can be optimized by not calculating patterns ending with given attributes multiple times. Depending on for how many features patterns are generated, speedup can be huge. More feature included - greater speedup. For mentioned test data, if all features were selected (i.e. we want to generate patterns for all items in transactions), patterns generation time dropped from 1h 15min to 8sec. For parallel fpgrowth, where the number of requested features is limited the speedup is not that dramatic, but still very high.\r\n\r\nI attached patch (for version 0.5-SNAPSHOT) with all changes (bug fix, comprehensive tests (serial and parallel) and optimization). I hope it'll find it's way to the trunk :)\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"created":"2011-03-13T13:43:05.241+0000","updated":"2011-03-13T13:43:05.241+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13006239","id":"13006239","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"body":"Right, I was testing vipuls dataset(MAHOUT-617) and was seeing the same issue. Was the header table having the node even after alpha pruning?\r\n\r\nbq. I also noticed that fpgrowth implementation can be optimized by not calculating patterns ending with given attributes multiple times. Depending on for how many features patterns are generated, speedup can be huge. More feature included - greater speedup. For mentioned test data, if all features were selected (i.e. we want to generate patterns for all items in transactions), patterns generation time dropped from 1h 15min to 8sec\r\n\r\nThis might be useful for single node. For PFPGrowth this used to create issues with exact counts of patterns earlier. There is a lot of code here(:thumbs up:) for me to verify. Some issues\r\n\r\n1) The dataset needs to have a signed agreement before can include in the Mahout codebase(see the website). Can you add another test to reproduce the test case. See MAHOUT-617\r\n2) Again the comparison code, use a different dataset.\r\n3) Can you split the optimization out of this into another patch. I want to test more before checking it in.\r\n4) Bug fix by setting support = 0 maynot save the extra memory such nodes take. Its good for now, before a permanent solution is found.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"created":"2011-03-13T18:18:38.142+0000","updated":"2011-03-13T18:18:38.142+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13006240","id":"13006240","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"body":"Again Great job! on finding and fixing the bug","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"created":"2011-03-13T18:19:11.135+0000","updated":"2011-03-13T18:19:11.135+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13006242","id":"13006242","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"body":"Small Nit. You can use the Mahout eclipse formatter available on the how to contribute page(on the Mahout wiki) for newly submitted code.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"created":"2011-03-13T18:25:38.775+0000","updated":"2011-03-13T18:25:38.775+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13006258","id":"13006258","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"body":"I attached isolated patch for bug fix - it's one-liner. The rest is for optimization.\r\nAnswering your questions:\r\n1) Node that was removed was ending up in header table for certain data input - this is the reason for increased support for some of the generated patterns\r\n2) The author of the dataset writes:\r\nThe data are provided ’as is’. Basically, any use of the data is allowed as long as the proper\r\nacknowledgment is provided and a copy of the work is provided to Tom Brijs (see details below).\r\nI think author mainly thinks of scientific papers when he mentions \"copy of work\". I'm not sure if is it enough to drop an email to the author and just ask if dataset can be used in mahout?\r\n3) I don't see how we could achieve memory saving since the data is in preallocated array. Removing node is done merely by detaching it from the parent, which could be done, but I think benefit is not worth additional effort of doing it (currently parent has unordered list of children).\r\n4) As to performance improvement, as I said it is dramatic when number of requested features is high (as in single node scenario or with very big groups in parallel scenario), it is still noticeable even with small number of features. Basically work done is always smaller than before the patch (as patterns for each item are calculated at most once). Obviously in parallel situation, when groups are small, the performance boost will not be that huge. If you notice any issues with it, please let me know.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"created":"2011-03-13T19:20:13.851+0000","updated":"2011-03-13T19:20:13.851+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13006403","id":"13006403","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"body":"Attached email conversation with author of the data set used in test in which he gave OK for using the data in Mahout.\r\nI believe it closes the issue of using the data set.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"created":"2011-03-14T13:35:56.979+0000","updated":"2011-03-14T13:35:56.979+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13006892","id":"13006892","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"body":"Jaroslaw. Can you submit a final patch with bug fix, test and the dataset. And also move optimization over to a new issue, I want to go test more and maybe add a cmd line flag to enable the optimization. The rest looks fine to commit. \r\n\r\nThanks again for taking initiative on getting the dataset in. And kudos for the fix. It was not easy to figure out.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"created":"2011-03-15T12:27:07.801+0000","updated":"2011-03-15T12:27:07.801+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13009088","id":"13009088","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"body":"Hi,\r\n\r\nSorry for a long delay, but I was on holidays :)\r\nI attached the patch containing fix with tests and test dataset.\r\nI'll create separate issue for performance improvement.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"created":"2011-03-21T10:20:23.283+0000","updated":"2011-03-21T10:20:23.283+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13009093","id":"13009093","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"body":"Created separate issue for performance improvement:\r\nhttps://issues.apache.org/jira/browse/MAHOUT-629\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jarek","name":"jarek","emailAddress":"jarek dot odzga at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jaroslaw Odzga","active":true},"created":"2011-03-21T10:40:29.816+0000","updated":"2011-03-21T10:40:29.816+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13009689","id":"13009689","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"body":"The FPGrowthRetailTest100 takes 1 hour :) So I am commenting it out before checking it in. Can uncomment after the perf patch is in. PFPGrowthRetail100 test gets benefit from the splitting takes only 93sec","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=robinanil","name":"robinanil","emailAddress":"robinanil at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=robinanil&avatarId=14747","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=robinanil&avatarId=14747","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=robinanil&avatarId=14747","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=robinanil&avatarId=14747"},"displayName":"Robin Anil","active":true},"created":"2011-03-22T16:11:25.083+0000","updated":"2011-03-22T16:11:25.083+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13009759","id":"13009759","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Mahout-Quality #684 (See [https://hudson.apache.org/hudson/job/Mahout-Quality/684/])\r\n    MAHOUT-625 Fixing support bug in due to dangling item in the header table, Adding tests based on retail data from  http://fimi.ua.ac.be/data/, Contributed by Jaroslaw Odzga\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2011-03-22T18:26:18.746+0000","updated":"2011-03-22T18:26:18.746+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13037250","id":"13037250","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"(It looks like this was actually resolved in the past, and is in 0.5?)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2011-05-21T03:06:04.532+0000","updated":"2011-05-21T03:06:04.532+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13049660","id":"13049660","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustnn","name":"hustnn","emailAddress":"nzjemail at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"niu","active":true},"body":"It shows it is resolved in the 0.5 version ,but I don't see the related code of the patch in version 0.5. \r\n\r\nFor example in growth function of FPGrowth.java,\r\nwhile (i < headerTableCount) {\r\n...\r\nif (attribute == currentAttribute) {\r\n}\r\nelse\r\n{}\r\n}\r\n I think just need to computing the condition of currentAttribute,other attribute should be done by other reduce task.\r\n\r\nHow do you think of this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustnn","name":"hustnn","emailAddress":"nzjemail at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"niu","active":true},"created":"2011-06-15T07:21:44.703+0000","updated":"2011-06-15T07:21:44.703+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13049672","id":"13049672","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"Please open a new issue with the patch that would bring HEAD to what you think is right. I/we may have misunderstood and not committed all of what you wanted to see.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2011-06-15T08:04:58.295+0000","updated":"2011-06-15T08:04:58.295+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12501153/comment/13053008","id":"13053008","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustnn","name":"hustnn","emailAddress":"nzjemail at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"niu","active":true},"body":"I modify the source following the MAHOUT-625-patch.txt patch,but I find it become slower than original implementation in version 0.4 using my test datset which every transaction list is very long,for about 1000 columns in one transaction.\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hustnn","name":"hustnn","emailAddress":"nzjemail at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"niu","active":true},"created":"2011-06-22T02:38:54.281+0000","updated":"2011-06-22T02:38:54.281+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-625/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i049fj:"}}