{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12311780","self":"https://issues.apache.org/jira/rest/api/latest/issue/12311780","key":"DERBY-406","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12310615","id":"12310615","description":"","name":"10.1.2.1","archived":false,"released":true,"releaseDate":"2005-11-18"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2005-07-02 03:08:46.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"21936","customfield_12310222":"3_*:*_1_*:*_6655727000_*|*_1_*:*_2_*:*_234867000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_11238970000","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2005-09-18T00:05:16.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-406/watchers","watchCount":0,"isWatching":false},"created":"2005-06-30T06:02:02.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-01-26T02:01:26.000+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11690","id":"11690","name":"Network Client"}],"timeoriginalestimate":null,"description":"ClientDataSource should not require user to be set.  It should default to user APP as described in:\nhttp://incubator.apache.org/derby/docs/adminguide/cadminappsclient.html\n\nThis all seems to work ok for for DriverManager connections but fails for ClientDataSource \nrun the attached repro \n\n\n$ java DataSourceNoUser\nembedded no userid/password\nclient userid/password set\nclient no password\nclient no userid/no password\norg.apache.derby.client.am.SqlException: null userid not supported\n        at org.apache.derby.client.net.NetConnection.checkUser(NetConnection.java:998)\n        at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:380)\n        at org.apache.derby.client.net.NetConnection.initialize(NetConnection.java:233)\n        at org.apache.derby.client.net.NetConnection.<init>(NetConnection.java:201)\n        at org.apache.derby.jdbc.ClientDataSource.getConnection(ClientDataSource.java:156)\n        at org.apache.derby.jdbc.ClientDataSource.getConnection(ClientDataSource.java:135)\n        at DataSourceNoUser.main(DataSourceNoUser.java:42)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"40829","summary":"Client DataSource should not require user property to be set","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":16,"total":16,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12314907","id":"12314907","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"body":"A Combined patch for DERBY-406, DERBY-409 and DERBY-410\r\n\r\n#Warning#\r\nWhen testing this patch there were locale (en_CA vs en_US) and version (10.2.0.0 vs 10.1.0.0) issues which I believe to be unique to my machine. While this should not affect anyone who wishes to test this patch, running the derbynetclientmats suite would be advisable prior to commit.\r\n\r\nFor local the problem test was:\r\nderbynet/sysinfo.java\r\n\r\nFor version info the problem tests were:\r\njdbcapi/dbMetaDataJdbc30.java\r\njdbcapi/metadata.java\r\njdbcapi/odbc_metadata.java\r\njdbcapi/metadataJdbc20.java\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"created":"2005-07-02T03:08:46.000+0000","updated":"2005-07-02T03:08:46.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12314924","id":"12314924","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I ran derbynetclientmatsand dataSourcePermissions_net.java under jcc for this  patch and all passed.  The patch looks good to me, but there are still some outstanding questions/comments from Dan, so I won't commit after all as I will be off-line for the next week.   Hopefully some other committer will pick this up after these issues are resolved.\r\n\r\n\r\nDan's comments are in email at:\r\nhttp://mail-archives.apache.org/mod_mbox/db-derby-dev/200507.mbox/%3c42C5952B.8090304@debrunners.com%3e\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2005-07-02T07:50:37.000+0000","updated":"2005-07-02T07:50:37.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12315009","id":"12315009","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"body":"Sorry for any redundancy on this issue but I would like to make sure that everyone is on the same page as per the status of this patch.\r\n\r\nThe July 1 patch makes the following changes:\r\n\r\n- Set user to default to \"APP\"\r\n- Set the default servername to \"localhost\"\r\n- Changed\r\n databaseName_ = dataSource.getDatabaseName() + attrString;\r\n to\r\n databaseName_ = dataSource.getDatabaseName() + \";\" + attrString;\r\n in the connection class to avoid database names like myDBcreate=true when the setConnectionAttributes method is used.\r\n- Changed the dataSourcePermissions_net to include additional tests to check bug fixes and changed the associated.out file to match new output.\r\n- Commented sections of code associated with the fixes\r\n- Provided javadoc for new methods in dataSourcePermissions_net.java and the getPassword() method in ClientBaseDataSource.java\r\n- Changed the password, user and servername attributes to private so as to hopefully not conflict with his changes, as per his \"Client data source published api javadoc cleanup\" email. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"created":"2005-07-04T21:51:51.000+0000","updated":"2005-07-04T21:51:51.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12315084","id":"12315084","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Can you remove these changes from your patch?\r\n\r\n> - Changed the password, user and servername attributes to private so as to hopefully not conflict with his changes, as per his \"Client data source published api javadoc cleanup\" email. \r\n\r\nI need some more research to see if these changes are in fact correct.\r\n\r\nThanks,\r\nDan.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2005-07-06T02:27:48.000+0000","updated":"2005-07-06T02:27:48.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12315137","id":"12315137","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"body":"Removed the changes proposed by Dan Debrunner for an alternate patch.\r\n\r\nThis patch makes the following changes\r\n- Sets the username to start with the default value (\"APP\", Derby-406 Fix)\r\n- Sets the server name to start with the default value (\"localhost\", Derby-410 Fix)\r\n- Adds a semi-colon in the connection class to avoid databasenames like\r\nmyDBcreate=true resulting from no dividing semi-colon (Deby-409 Fix).\r\n- Add javadoced methods in the derbynet/dataSourcePermissions_net.java file to test this new functionality\r\n- Altered the output file for derbynet/dataSourcePermissions_net.java to accomodate for new tests.\r\n\r\nRunning the suite derbynetclientmats caused no problems. Running derbyall cause a single problem of the form:\r\n org.apache.derby.iapi.services.context.ShutdownException:\r\n agentThread[DRDAConnThread_5,5,derby.daemons]\r\n\r\nFurther investigation revealed that this was an intermittant problem for both the clean version of derby and my patched version. I ran 3 groups of test, each group running derbynet/dataSourcePermissions_net.java 20 times and these were my results (Apologies if there are formatting errors here):\r\n                    Clean            Patched\r\nTest 1     1/20 (5%)          5/20   (25%)\r\nTest 2     3/20 (15%)        3/20   (15%)\r\nTest 3     3/20 (15%)        4/20   (20%)\r\nTotal       7/60 (11.66%)   12/60 (20%)\r\n\r\nWhile the patched version does have a somewhat higher error rate it should be noted that as part of my added tests I add two additional calls to the dataSourcePermissions_net.java shutdown method.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"created":"2005-07-06T22:31:56.000+0000","updated":"2005-07-06T22:31:56.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12315153","id":"12315153","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"I'm working on committing this patch, currently looking at the shutdown exceptions.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2005-07-07T01:56:17.000+0000","updated":"2005-07-07T01:56:17.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12315155","id":"12315155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"body":"I think the issue of intermittent failures of this test is discussed in the DERBY-273 issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"created":"2005-07-07T02:21:40.000+0000","updated":"2005-07-07T02:21:40.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12315168","id":"12315168","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Committed Revision: 209498 ( Derby406_409_410.patch)\r\nAs Phil pointed out,  DERBY-273 already covers the test failure.\r\n\r\nI do not believe that this patch fully addresses these issues so they should not be closed, though it is good progress.\r\nMy concern is about the concept of defaults for DataSource properties, in these cases\r\n\r\n406 - user - default of APP\r\n409 - connectionAttributes - default of  empty string\r\n410 - serverName -  default of localhost\r\n\r\nAll these properties are set to the default when the object is created, however if the values are set to null\r\n(e.g. setConnecitonAttributes(null)) then should their values revert to the default or remain at null?\r\nExisting data sources do not have any properties that have a default.\r\n\r\nIn the case that the property remains at null, then tests would be needed to ensure null is handled correctly,\r\nat least for connectionAttributes I think a NullPointerException will occur.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2005-07-07T04:01:51.000+0000","updated":"2005-07-07T04:01:51.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12315172","id":"12315172","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"body":"\"Existing data sources do not have any properties that have a default.\"\r\n\r\nPerhaps I am misunderstanding your comment. While EmbeddedSimpleDataSource did not have any default values ClientCaseDataSource is more of a mixed bag. There already existed propertyDefaults for  loginTimeout, portNumber, securityMechanism, retrieveMessageText and others. Even user had a propertyDefault of \"APP\" prior to the patch, it was simply not set. \r\n\r\nThis said I acknowledge that it is an ongoing derby goal to have Client functionality more closely match Embedded. However, if this is the case then it might be necessary to undo considerably more then just user and servername. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"created":"2005-07-07T04:49:53.000+0000","updated":"2005-07-07T04:49:53.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12315174","id":"12315174","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"I meant, prior to the client data sources, Derby's embedded implementation of DataSource apis did not have the concept for default values for any of their Java Bean properties. Thus this default concept is new to Derby.\r\nNote that the Derby *engine* provides the default of APP for the user name., not EmbeddedDataSource. Its getUser method (corrresponding to its user property) will return null for a newly created EmbeddedDataSource.\r\n\r\nSo I'm not saying defaults are bad, just that we need to define what happens if the property is set to null, does it mean the property returns to its default value, or does it take on the null value? The point about no prior defaults means there is no prior behaviour to follow.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2005-07-07T05:14:21.000+0000","updated":"2005-07-07T05:14:21.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12315197","id":"12315197","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"One more minor issue for 409, the code currently has a default of \"\" (empty string) for connectionAttributes, but the functional spec\r\nhttp://incubator.apache.org/derby/papers/DerbyClientSpec.html#data_source_props\r\nindicates no default for this property. It's probably related to the code that uses the property will give a NPE if connectionAttributes is null.\r\nKathey implies in 409 that it should only be used \"if set\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2005-07-07T09:16:12.000+0000","updated":"2005-07-07T09:16:12.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12316290","id":"12316290","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bandaram","name":"bandaram","emailAddress":"bandaram at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satheesh Bandaram","active":true},"body":"Ported this fix from trunk to 10.1 with change number: 209498","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bandaram","name":"bandaram","emailAddress":"bandaram at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satheesh Bandaram","active":true},"created":"2005-07-21T10:58:52.000+0000","updated":"2005-07-21T10:58:52.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12329458","id":"12329458","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"body":"Freeing this issue to anyone else who sees a way in which Dan's concerns about a lack of prior behaviour can be addressed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"created":"2005-09-16T03:20:22.000+0000","updated":"2005-09-16T03:20:22.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12329610","id":"12329610","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"body":"The July 6, patch addressed the original concerns of this issue. While Dan brought up the potential issue of null handling further investigations appear to indicate null values are handled appropriately.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acadia_student_01","name":"acadia_student_01","emailAddress":"050503w at acadiau dot ca","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Philip Wilder","active":true},"created":"2005-09-18T00:05:16.000+0000","updated":"2005-09-18T00:05:16.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12329887","id":"12329887","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"This did not actually go in until 10.1.2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2005-09-20T02:55:35.000+0000","updated":"2005-09-20T02:55:35.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311780/comment/12330823","id":"12330823","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"body":"Add fix version 10.1.1.1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"created":"2005-09-30T01:39:15.000+0000","updated":"2005-09-30T01:39:15.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-406/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i07cqf:"}}