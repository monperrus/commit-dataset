{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12360306","self":"https://issues.apache.org/jira/rest/api/latest/issue/12360306","key":"DERBY-2233","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":null,"customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22956","customfield_12310222":"1_*:*_1_*:*_461609446_*|*_6_*:*_2_*:*_10161631885_*|*_5_*:*_1_*:*_10947_*|*_4_*:*_1_*:*_20939","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-05-14T17:47:01.921+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2233/watchers","watchCount":0,"isWatching":false},"created":"2007-01-11T18:52:28.704+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-01T00:09:10.110+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"The test derbynet/preparedStatementTest, recently (Jan 2, revision 491768) converted to junit, fails with the CDC/Foundation/JSR169/J2ME implementation. \n\nwctme5.7/j9 2.2/j2ME 1.0 shows: \n----------------------------------- \n1) testParameterTypes(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.lang.NoClassDefFoundError: java.math.BigDecimal \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testParameterTypes(PrepareStatementTest.java:182) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:199) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n2) testBigDecimalSetObject(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.lang.NoClassDefFoundError: java.math.BigDecimal \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testBigDecimalSetObject(PrepareStatementTest.java:430) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:199) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n3) testBigDecimalSetObjectWithScale(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.lang.NoClassDefFoundError: java.math.BigDecimal \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testBigDecimalSetObjectWithScale(PrepareStatementTest.java:478) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:199) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n4) testSmallBigDecimal(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.lang.NoClassDefFoundError: java.math.BigDecimal \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testSmallBigDecimal(PrepareStatementTest.java:555) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:199) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n---------------------------------- \n\nweme6.1/j9 2.3/j2ME 1.1 shows: \n\n---------------------------------- \n\n1) testParameterTypes(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.lang.NoSuchMethodError: java/sql/PreparedStatement.setBigDecimal(ILjava/math/BigDecimal;)V \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testParameterTypes(PrepareStatementTest.java:210) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:203) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n2) testBigDecimalSetObject(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.sql.SQLException: An attempt was made to get a data value of type 'DOUBLE' from a data value of type 'java.math.BigDecimal'. \nat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedConnection.newSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.ConnectionChild.newSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedPreparedStatement.dataTypeConversion(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedPreparedStatement.setObject(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedPreparedStatement.setObject(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedPreparedStatement.setObject(Unknown Source) \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testBigDecimalSetObject(PrepareStatementTest.java:448) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:203) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n3) testBigDecimalSetObjectWithScale(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.sql.SQLException: An attempt was made to get a data value of type 'NUMERIC' from a data value of type 'java.math.BigDecimal'. \nat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedConnection.newSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.ConnectionChild.newSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedPreparedStatement.dataTypeConversion(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedPreparedStatement.setObject(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedPreparedStatement.setObject(Unknown Source) \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testBigDecimalSetObjectWithScale(PrepareStatementTest.java:484) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:203) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n4) testSmallBigDecimal(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.sql.SQLException: An attempt was made to get a data value of type 'NUMERIC' from a data value of type 'java.math.BigDecimal'. \nat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedConnection.newSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.ConnectionChild.newSQLException(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedPreparedStatement.dataTypeConversion(Unknown Source) \nat org.apache.derby.impl.jdbc.EmbedPreparedStatement.setObject(Unknown Source) \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testSmallBigDecimal(PrepareStatementTest.java:567) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:203) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n5) testAlternatingLobValuesAndNull(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission file.encoding read) \nat <unknown class>.<unknown method>(Unknown Source) \nat java.lang.SecurityManager.checkPermission(SecurityManager.java:618) \nat java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:377) \nat java.lang.System.getProperty(System.java:363) \nat java.lang.System.getProperty(System.java:348) \nat java.lang.String.defaultConverter(String.java:541) \nat java.lang.String.getBytes(String.java:622) \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testAlternatingLobValuesAndNull(PrepareStatementTest.java:917) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:203) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n6) testLargeParameters_a(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission file.encoding read) \nat <unknown class>.<unknown method>(Unknown Source) \nat java.lang.SecurityManager.checkPermission(SecurityManager.java:618) \nat java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:377) \nat java.lang.System.getProperty(System.java:363) \nat java.lang.System.getProperty(System.java:348) \nat java.lang.String.defaultConverter(String.java:541) \nat java.lang.String.getBytes(String.java:622) \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testLargeParameters_a(PrepareStatementTest.java:1120) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:203) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n7) testLargeParameters_b(org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission file.encoding read) \nat <unknown class>.<unknown method>(Unknown Source) \nat java.lang.SecurityManager.checkPermission(SecurityManager.java:618) \nat java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:377) \nat java.lang.System.getProperty(System.java:363) \nat java.lang.System.getProperty(System.java:348) \nat java.lang.String.defaultConverter(String.java:541) \nat java.lang.String.getBytes(String.java:622) \nat org.apache.derbyTesting.functionTests.tests.derbynet.PrepareStatementTest.testLargeParameters_b(PrepareStatementTest.java:1164) \nat java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:203) \nat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76) \nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22) \nat junit.extensions.TestSetup$1.protect(TestSetup.java:19) \nat junit.extensions.TestSetup.run(TestSetup.java:23) \n---------------------------------- \n\n(Note, possibly errors, 5,6,and 7 are a separate problem). \n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38597","summary":"junit test derbynet/PreparedStatementTest fails with wctme5.7 (aka j9 2.2/ foundation/j2ME 1.0) and weme6.1 (aka j9 2.3 / foundation/j2ME 1.1) ","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"jvms wctme5.7 (aka j9 2.2/ foundation/j2ME 1.0) and weme6.1 (aka j9 2.3 / foundation/j2ME 1.1) ","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":2,"total":2,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360306/comment/12465338","id":"12465338","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Similarly to DERBY-2157, this test does not need to run with JSR169, because the client configuration is not supported. \r\nWith jars, all that's needed is to ensure derbynet.jar and derbyclient.jar are not in the classpath, but this is not possible when running with classes.\r\nI worried about possibly missing some valuable testing, but the test has this in the comments:\r\n\" This test tested prepared statements in client/server context, and many of the test cases is specifically testing corner cases in client/server communication.\"\r\nSo, it appears ok to run only an empty suite for this test.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2007-01-17T01:28:08.792+0000","updated":"2007-01-17T01:28:08.792+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360306/comment/12465346","id":"12465346","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"committed check for JSR169 with revision http://svn.apache.org/viewvc?view=rev&revision=496911","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2007-01-17T03:05:58.137+0000","updated":"2007-01-17T03:05:58.137+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2233/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06yyf:"}}