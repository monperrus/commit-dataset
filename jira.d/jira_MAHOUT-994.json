{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12547413","self":"https://issues.apache.org/jira/rest/api/latest/issue/12547413","key":"MAHOUT-994","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12319261","id":"12319261","description":"Primarily a cleanup and refactoring release. Some new functionality which has been previously completed and tested may be introduced.","name":"0.7","archived":false,"released":true,"releaseDate":"2012-05-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-03-21 17:13:08.739","customfield_12312323":null,"customfield_12310420":"232571","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_2485983854_*|*_1_*:*_1_*:*_1150083866_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-05-02T18:57:36.933+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-994/watchers","watchCount":1,"isWatching":false},"created":"2012-03-21T16:56:29.355+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316364","id":"12316364","description":"","name":"0.6","archived":false,"released":true,"releaseDate":"2012-02-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-06-16T09:35:15.919+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313154","id":"12313154","name":"Integration"}],"timeoriginalestimate":null,"description":"Mahout should follow the Pig and Hive example and not rely explicitly on HADOOP_HOME and HADOOP_CONF_DIR","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"22429","summary":"mahout script shouldn't rely on HADOOP_HOME since that was deprecated in all major Hadoop branches","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":23,"total":23,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13234521","id":"13234521","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"What it should be relied on in new Hadoop branches to find the hadoop client libraries and settings?\r\n\r\nCould you please describe the solution?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-03-21T17:13:08.739+0000","updated":"2012-03-21T17:13:38.659+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13235684","id":"13235684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"body":"Sure. In fact, let me use Pig as a good example of how to handle these cases (scroll to line #162):\r\n   http://svn.apache.org/viewvc/pig/trunk/bin/pig?revision=1228547&view=markup\r\n\r\nGiven that Pig, just like Mahout supports a local mode where it doesn't need Hadoop at all, I think\r\nif we can agree on the approach they are taking I can submit a patch for you guys, essenntially\r\nreplacing lines #202-243 of:\r\n   http://svn.apache.org/viewvc/mahout/trunk/bin/mahout?revision=1186718&view=markup\r\nwith the code similar to what Pig has.\r\n\r\nWhat do you think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"created":"2012-03-22T16:22:18.540+0000","updated":"2012-03-22T16:22:18.540+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13235796","id":"13235796","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"looking at the pig code and your references in terms of lines, i am not sure i can see how they add $HADOOP_HOME/lib files to the classpath. I also see that they still use HADOOP_CONF_DIR to add to classpath in order to add default hadoop configuration resources.\r\n\r\nAnd finally your reference points to initialization of HADOOP_BIN which again i am not sure how they use it further along as i don't see that it is being used to form hadoop classpath or configuration anywhere further along. I am not sure 'which hadoop' can be relied upon so much to deduce libraries and conf reliably as different distros tend to place binaries and configurations into different actual locations (such as /usr/bin/hadoop) which are linked up into actual hadoop home layout somewhere else. That's why i asked you to clarify how you want to do it since i am still dubious \"which\" can be reliably used to deduce HADOOP_HOME.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-03-22T17:49:03.967+0000","updated":"2012-03-22T17:49:03.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13235814","id":"13235814","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"body":"There's no need to add $HADOOP_HOME/lib to the classpath as long as you're using hadoop itself as a launcher script. In fact, it is dangerous to assume that there's $HADOOP_HOME/lib to begin with. This is definitely not the case with Hadoop 0.23 and might not be the case with Hadoop 1.X\r\n\r\nExplicit setting of HADOOP_CONF_DIR needs to be dropped from Pig script and I will not recommend keeping it in Mahout. Once again -- using hadoop launcher script itself is the best way to add these things to the proper places in th CP. If you try to do it explicitly you're essentially second guessing hadoop implementation and your scripts become brittle.\r\n\r\n'which' is definitely quite reliable. In fact, if you look at Pig, Hive and HBase they have all transitioned to using this technique to get the Hadoop user wants. The only difference is defaults (some projects prefer hadoop from the PATH to override anything else, some prefer it the other way). Here's another example of how HBase does it (scroll to line #219):\r\n  http://svn.apache.org/viewvc/hbase/trunk/bin/hbase?revision=1296661&view=markup\r\n\r\nOne again -- if you try to deduce the libraries yourself -- your scripts become brittle. You can *only* rely on hadoop implementation to set these things up for you. This is an uncomfortable truth of at least 3 different incompatible Hadoop implementations being actively deployed in the wild.\r\n\r\nDoes it make sense?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"created":"2012-03-22T18:02:38.660+0000","updated":"2012-03-22T18:02:38.660+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13235871","id":"13235871","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"I am not sure we use hadoop executable to launch Mahout stuff. there are definitely cases where we don't use Hadoop at all (but the code generally does assume hadoop library avaiability on classpath, otherwise some classes and strategies may break with ClassNotFoundException during load). \r\n\r\nI mean, we are not bound by having to launch any MR stuff.\r\n\r\nWhat is your suggestion to handle \"hadoopless\" cases and avoid ClassNotFound?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-03-22T18:44:28.192+0000","updated":"2012-03-22T18:45:07.743+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13235879","id":"13235879","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"But you are right, it looks like we are not guessing hadoop libraries for mahout local cases. i guess if what i've described, really happens, then it will fail.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-03-22T18:49:31.338+0000","updated":"2012-03-22T18:49:31.338+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13235891","id":"13235891","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"I think it's a little bit disconcerting as we have a lot of utility classes that may be using hadoop classes even locally (e.g. reading or writing local sequence files). Can you suggest a strategy for Mahout local mode and still be able to bind to hadoop I/O classes?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-03-22T18:58:40.101+0000","updated":"2012-03-22T18:58:40.101+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13236249","id":"13236249","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"Don't the job jars pack up Hadoop libs like all the other dependencies? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2012-03-23T01:14:56.807+0000","updated":"2012-03-23T01:14:56.807+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13240015","id":"13240015","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"body":"It would make a lot of sense to me to unify with other Hadoop projects and start using the hadoop launcher script whenever we can - no need to maintain a custom reinvented wheel there.\r\n\r\nAs far as the job jar is concerned, I don't think it's customary to include Hadoop libs - seems redundant, and potentially dangerous when there are mismatched versions of classes in the classpath.  I know there are ways to specify/determine which versions of things to use and make this kind of thing work, but it has been my experience that it always becomes overcomplicated after a while - it is just bad juju.\r\n\r\nLooks like the Hadoop classes in examples/target/dependency/hadoop-core-0.20.204.0.jar are tacked onto the classpath inside bin/mahout, which is why standalone mode currently 'just works' on a box with no hadoop install.  This seems less than ideal, though I can see why it is done.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"created":"2012-03-27T22:31:37.294+0000","updated":"2012-03-27T22:31:37.294+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13240031","id":"13240031","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"body":"@Dmitriy\r\n\r\nbq. I am not sure we use hadoop executable to launch Mahout stuff. \r\n\r\nSeems like you do: \r\n{noformat}\r\n    (*)\r\n      echo \"MAHOUT-JOB: $MAHOUT_JOB\"\r\n      export HADOOP_CLASSPATH=$MAHOUT_CONF_DIR:${HADOOP_CLASSPATH}\r\n      exec \"$HADOOP_HOME/bin/hadoop\" --config $HADOOP_CONF_DIR jar $MAHOUT_JOB $CLASS \"$@\"\r\n{noformat}\r\n\r\nbq. I mean, we are not bound by having to launch any MR stuff.\r\n\r\nUnderstood. Pig also has local mode where it doesn't have to have any access to Hadoop at all\r\n\r\nbq. I think it's a little bit disconcerting as we have a lot of utility classes that may be using hadoop classes even locally (e.g. reading or writing local sequence files). Can you suggest a strategy for Mahout local mode and still be able to bind to hadoop I/O classes?\r\n\r\nI believe there are 2 issue at play here:\r\n  # what to do for the local mode\r\n  # what to do for the MapReduce mode\r\n\r\nFor both cases you'll have to make sure that you segregate bundled hadoop\r\ndependencies into a separate location in your installation tree so that\r\nyou can easily add/remove those from your CLASSPATH. Lets call it $HADOOP_DEPS_DIR\r\n(it must be different from your ususal lib subdir)\r\n\r\n1. Local mode:\r\n\r\nThe very fact that you're running in local mode will be governed by $MAHOUT_LOCAL\r\n(regardless of whether HADOOP_HOME is empty or not). \r\n\r\nWhen $MAHOUT_LOCAL is set you'll try to see whether you can run 'hadoop classpath'\r\n(see how HADOOP_HOME/HADOOP_PREFIX factors into this below). If you can you'll add \r\nthe value it returns to the CLASSPATH. If it is not available you'll add $HADOOP_DEPS_DIR \r\nto the classpath.\r\n\r\n2. MapReduce mode\r\n\r\nFor the MapReduce mode, I would argue that the best option is to follow the suit of Pig/Hive/HBase, etc and rely on HADOOP_HOME *only* as a fall back value if hadoop is not resolved from the PATH by default. E.g.\r\n{noformat}\r\nHADOOP_LAUNCHER=$(PATH=\"${HADOOP_HOME:-${HADOOP_PREFIX}}/bin:$PATH\" which hadoop 2>/dev/null)\r\n{noformat}\r\n\r\nthen you'll need to replace all the explicit calls to $HADOOP_HOME/bin/... with the $HADOOP_LAUNCHER. I will also strongly recommend against guessing the value of HADOOP_CONF_DIR, since I don't think it buys you anything at all (the hadoop launcher script regardless of whether it is coming from honors HADOOP_CONF_DIR as much as it does --config).\r\n\r\nThat will take care of the MapReduce case.\r\n\r\nIf you agree with the proposal I can supply a patch shortly.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"created":"2012-03-27T22:57:02.294+0000","updated":"2012-03-27T22:57:02.294+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13240040","id":"13240040","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"Sounds good to me. \r\n\r\nThe only concern i have is to verify that local stuff is not broken when run from command line. I don't think this is verified by build unit tests. The history of local mode in Mahout is a little bit out of my scope, i will need another person to assertain the change for the local mode.\r\n\r\nBut what you are saying sounds very benign to me. Thank you for doing this. \r\nWhen you submit a patch, do you think you could also create a review request for Mahout? Hopefully this will encourage another pair of eyes to look at it. if nobody responds, let me know, i will try to locate another pair of eyes for it. \r\n\r\nAgain, thank you for doing this, Hadoop best practices may sometimes be hard to figure.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-03-27T23:06:58.826+0000","updated":"2012-03-27T23:06:58.826+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13240042","id":"13240042","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"PS review request = i mean at reviews.apache.org .","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-03-27T23:08:22.538+0000","updated":"2012-03-27T23:08:22.538+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13240045","id":"13240045","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"@Tom, \r\n\r\nperhaps you could be a such second review person on this issue? thanks. \r\n\r\nI agree attaching hadoop libraries to job file is dangerous. This should be compile-time dependency only, but runtime policy should be \"provided\".","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-03-27T23:10:50.434+0000","updated":"2012-03-27T23:10:50.434+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13240066","id":"13240066","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"body":"You bet - happy to review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"created":"2012-03-27T23:52:09.271+0000","updated":"2012-03-27T23:52:09.271+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13245923","id":"13245923","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"body":"Sorry took me a bit longer than anticipated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"created":"2012-04-04T00:24:27.682+0000","updated":"2012-04-04T00:24:27.682+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13245925","id":"13245925","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","emailAddress":"jiraposter at reviews dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true},"body":"\r\n-----------------------------------------------------------\r\nThis is an automatically generated e-mail. To reply, visit:\r\nhttps://reviews.apache.org/r/4632/\r\n-----------------------------------------------------------\r\n\r\nReview request for mahout and tom pierce.\r\n\r\n\r\nSummary\r\n-------\r\n\r\nPatch according to the JIRA discussion.\r\n\r\n\r\nThis addresses bug MAHOUT-994.\r\n    https://issues.apache.org/jira/browse/MAHOUT-994\r\n\r\n\r\nDiffs\r\n-----\r\n\r\n  trunk/bin/mahout 1309189 \r\n  trunk/distribution/src/main/assembly/bin.xml 1309189 \r\n\r\nDiff: https://reviews.apache.org/r/4632/diff\r\n\r\n\r\nTesting\r\n-------\r\n\r\nbuild and execution in various modes\r\n\r\n\r\nThanks,\r\n\r\nRoman\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","emailAddress":"jiraposter at reviews dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true},"created":"2012-04-04T00:28:20.292+0000","updated":"2012-04-04T00:28:20.292+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13262230","id":"13262230","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","emailAddress":"jiraposter at reviews dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true},"body":"\r\n-----------------------------------------------------------\r\nThis is an automatically generated e-mail. To reply, visit:\r\nhttps://reviews.apache.org/r/4632/#review7247\r\n-----------------------------------------------------------\r\n\r\n\r\nLooks good aside from the one issue below.  \r\n\r\n\r\ntrunk/bin/mahout\r\n<https://reviews.apache.org/r/4632/#comment16017>\r\n\r\n    Think we need to omit HADOOP_BINARY_CLASSPATH here; otherwise I get an error due to my cluster and Mahout HDFS libs having different API versions when I run with MAHOUT_LOCAL set.  \r\n\r\n\r\n- tom\r\n\r\n\r\nOn 2012-04-04 00:26:36, Roman Shaposhnik wrote:\r\nbq.  \r\nbq.  -----------------------------------------------------------\r\nbq.  This is an automatically generated e-mail. To reply, visit:\r\nbq.  https://reviews.apache.org/r/4632/\r\nbq.  -----------------------------------------------------------\r\nbq.  \r\nbq.  (Updated 2012-04-04 00:26:36)\r\nbq.  \r\nbq.  \r\nbq.  Review request for mahout and tom pierce.\r\nbq.  \r\nbq.  \r\nbq.  Summary\r\nbq.  -------\r\nbq.  \r\nbq.  Patch according to the JIRA discussion.\r\nbq.  \r\nbq.  \r\nbq.  This addresses bug MAHOUT-994.\r\nbq.      https://issues.apache.org/jira/browse/MAHOUT-994\r\nbq.  \r\nbq.  \r\nbq.  Diffs\r\nbq.  -----\r\nbq.  \r\nbq.    trunk/bin/mahout 1309189 \r\nbq.    trunk/distribution/src/main/assembly/bin.xml 1309189 \r\nbq.  \r\nbq.  Diff: https://reviews.apache.org/r/4632/diff\r\nbq.  \r\nbq.  \r\nbq.  Testing\r\nbq.  -------\r\nbq.  \r\nbq.  build and execution in various modes\r\nbq.  \r\nbq.  \r\nbq.  Thanks,\r\nbq.  \r\nbq.  Roman\r\nbq.  \r\nbq.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","emailAddress":"jiraposter at reviews dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true},"created":"2012-04-25T23:08:17.845+0000","updated":"2012-04-25T23:08:17.845+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13263968","id":"13263968","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"body":"Anyone object the most recent patch?  It's a tiny edit off Roman's submission (as described on Reviewboard).  Will plan to commit early next week if nobody pipes up.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"created":"2012-04-27T21:13:56.624+0000","updated":"2012-04-27T21:13:56.624+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13264166","id":"13264166","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"body":"Tom, thanks a million for taking care of this! I'd say the patch looks good (although I don't have a binding +1 mojo ;-)).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"created":"2012-04-28T00:44:30.999+0000","updated":"2012-04-28T00:44:30.999+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13264177","id":"13264177","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"not having tested it , it looks good. One question though it looks like hadoop dependency is included in assembly? It is only used when in local mode only? or it also makes its way into classpath even in distributed mode?\r\n\r\nI am just worried if it may interfere with running Mahout with a third-party hadoop distribution.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-04-28T01:02:23.207+0000","updated":"2012-04-28T01:02:23.207+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13265026","id":"13265026","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"body":"Dmitriy, the bundled hadoop dependencies are only supposed to be used in local mode.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvs","name":"rvs","emailAddress":"rvs at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rvs&avatarId=13930","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rvs&avatarId=13930","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rvs&avatarId=13930","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rvs&avatarId=13930"},"displayName":"Roman Shaposhnik","active":true},"created":"2012-04-30T16:54:17.501+0000","updated":"2012-04-30T16:54:17.501+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13265104","id":"13265104","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"sounds good then.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-04-30T18:49:06.499+0000","updated":"2012-04-30T18:49:06.499+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547413/comment/13266938","id":"13266938","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Mahout-Quality #1456 (See [https://builds.apache.org/job/Mahout-Quality/1456/])\r\n    MAHOUT-994 - bin/mahout should not rely on HADOOP_HOME (Revision 1333154)\r\n\r\n     Result = SUCCESS\r\ntcp : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1333154\r\nFiles : \r\n* /mahout/trunk/bin/mahout\r\n* /mahout/trunk/distribution/src/main/assembly/bin.xml\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2012-05-02T21:45:55.471+0000","updated":"2012-05-02T21:45:55.471+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-994/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0476n:"}}