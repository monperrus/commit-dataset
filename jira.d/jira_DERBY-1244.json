{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12332503","self":"https://issues.apache.org/jira/rest/api/latest/issue/12332503","key":"DERBY-1244","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-04-22 02:01:58.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22392","customfield_12310222":"1_*:*_1_*:*_469982000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_16000","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-04-27T11:03:40.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1244/watchers","watchCount":0,"isWatching":false},"created":"2006-04-22T00:30:38.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-06-30T15:55:38.813+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11414","id":"11414","name":"Tools"}],"timeoriginalestimate":null,"description":"ij no longer resolves derby.ui.locale after checkin of revision 395088 (for ij --help)\n\nBefore this change one could get the following:\n-----------------\njava -Dderby.ui.locale=de_DE org.apache.derby.tools.ij\nIJ Version 10.2\nij> connect 'jdbc:derby:bladb';\nij> create table t(c1 int);\n0 Zeilen eingef..gt/aktualisiert/gel..scht\nij> select x;\nFEHLER 42X01: Syntax error: Encountered \"<EOF>\" at line 1, column 8.\nij>\n------------------\n(I replaced the on my system funkily displayed u- and o-umlaut with .. ). \nNow, the same process goes like this:\n------------------\n$ >java -Dderby.ui.locale=de_DE org.apache.derby.tools.ij\nij version 10.2\nij> connect 'jdbc:derby:bladb';\nij> create table t(c1 int);\n0 rows inserted/updated/deleted\nij> select x;\nERROR 42X01: Syntax error: Encountered \"<EOF>\" at line 1, column 8.\nij>\n--------------------\n(I'm a little puzzled why even when things apparently worked ok, there is the English 'Syntax error', but that's another issue).\n\nI svn-updated back until the German showed up again, and with revision 395014 all is ok, with 395088 it's wrong.\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10420","value":"Regression","id":"10420"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38844","summary":"ij no longer returns error messages based on derby.ui.locale","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":4,"total":4,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332503/comment/12375619","id":"12375619","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andersmo","name":"andersmo","emailAddress":"andersmo at stud dot ntnu dot no","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anders Morken","active":true},"body":"Works for me, using both jars and classes from a freshly built rev 395950.\r\n\r\n[andersmo@klabb tmp]$ java -cp ../jars/sane/derby.jar:../jars/sane/derbyLocale_de_DE.jar:../jars/sane/derbytools.jar -Dderby.ui.locale=de_DE org.apache.derby.tools.ij\r\nIJ Version 10.2\r\nij> connect 'jdbc:derby:bladb';\r\nij> drop table t;\r\n0 Zeilen eingefügt/aktualisiert/gelöscht\r\n[andersmo@klabb tmp]$ java -cp ../classes/ -Dderby.ui.locale=de_DE org.apache.derby.tools.ij\r\nIJ Version 10.2\r\nij> connect 'jdbc:derby:bladb';\r\nij> create table t(c1 int);\r\n0 Zeilen eingefügt/aktualisiert/gelöscht\r\nij>\r\n[andersmo@klabb tmp]$ which java\r\n/usr/java/j2sdk1.4.2_09/bin/java\r\n[andersmo@klabb tmp]$ echo $JAVA_HOME\r\n/usr/java/j2sdk1.4.2_09\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andersmo","name":"andersmo","emailAddress":"andersmo at stud dot ntnu dot no","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Anders Morken","active":true},"created":"2006-04-22T02:01:58.000+0000","updated":"2006-04-22T02:01:58.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332503/comment/12375672","id":"12375672","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"I also was not  able to reproduce the problem on my machine, but after reinspecting the code, it does appear that we would need to reinitialize the LocalizedResource instance that we have in case the derby.ui.locale and derby.ui.codeset properties were loaded from a properties file with the -p option. Committed this change with revision 396080. I also updated the masters for two tests that do this, LocalizedDisplay and LocalizedConnectionAttribute. These tests are not currently hooked into the i18nTest suite, though, for reasons that are escaping me at the moment.\r\n\r\nMyrna, could you see if this fixes your problem?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2006-04-22T12:28:48.000+0000","updated":"2006-04-22T12:28:48.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332503/comment/12375695","id":"12375695","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"This fixes the problem for me in the one environment where I could duplicate it. \r\n\r\nThe tests were never hooked into the i18nTest suite because the output is different on different operating systems, I think because of different default codepages. \r\n\r\nI always wanted (and still want) to address that problem - and bug DERBY-244 has been open and assigned to me for a long time to deal with this issue. Things are looking up for that now that we have a derbyTesting.encoding property and have revamped the harness to use local encodings...(DERBY-658).\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-04-22T21:43:20.000+0000","updated":"2006-04-22T21:43:20.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332503/comment/12376632","id":"12376632","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"Should we remove the regression flag, now that this is fixed?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2006-04-27T11:11:20.000+0000","updated":"2006-04-27T11:11:20.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1244/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i070hb:"}}