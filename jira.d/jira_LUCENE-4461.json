{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12610584","self":"https://issues.apache.org/jira/rest/api/latest/issue/12610584","key":"LUCENE-4461","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321140","id":"12321140","description":"Major release after 4.0","name":"4.1","archived":false,"released":true,"releaseDate":"2013-01-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12321663","id":"12321663","description":"Current trunk","name":"Trunk","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-10-09 06:03:15.555","customfield_12312323":null,"customfield_12310420":"243548","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_6234856882_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-12-16T19:15:55.316+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-4461/watchers","watchCount":3,"isWatching":false},"created":"2012-10-05T15:21:38.482+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":["facet","faceted-search"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12319070","id":"12319070","description":"Major release after 3.5","name":"3.6","archived":false,"released":true,"releaseDate":"2012-04-12"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-01-24T06:33:35.168+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314601","id":"12314601","name":"modules/facet","description":"Faceted Indexing & Search module"}],"timeoriginalestimate":null,"description":"Multiple FacetRequest are getting merged into one creating wrong results in this case:\r\n\r\nFacetSearchParams facetSearchParams = new FacetSearchParams();\r\n\t\tfacetSearchParams.addFacetRequest(new CountFacetRequest(new CategoryPath(\"author\"), 10));\r\n\t\tfacetSearchParams.addFacetRequest(new CountFacetRequest(new CategoryPath(\"author\"), 10));\r\n\r\nProblem can be fixed by defining hashcode and equals in certain way that Lucene recognize we are talking about different requests.\r\n\r\n\r\nAttached test case.","customfield_10010":null,"timetracking":{},"customfield_12310120":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10121","value":"New","id":"10121"},{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10120","value":"Patch Available","id":"10120"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"20439","summary":"Multiple FacetRequest with the same path creates inconsistent results","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvega","name":"rvega","emailAddress":"rvega at asanteit dot com dot ar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rodrigo Vega","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvega","name":"rvega","emailAddress":"rvega at asanteit dot com dot ar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rodrigo Vega","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":10,"total":10,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610584/comment/13472164","id":"13472164","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gilad","name":"gilad","emailAddress":"GiladBarkai at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilad Barkai","active":true},"body":"Nice catch!\r\n\r\nTook a while to pinpoint the reason - lines 173-181 of StandardFacetsAccumulator.\r\nIn the mentioned lines, a 'merge' is performed over categories which matched the request, but reside on different partitions. \r\n\r\nbq. Partitions are an optimization which limit the RAM requirements per query to a constant, rather than linear to the taxonomy size (could be millions of categories). The taxonomy is virtually \"splitted\" into partitions of constant size, a top-k is heaped from each partition, and all those top-k results are being merged to a global top-k list\r\n\r\nThe proposed solution of changing the hashCode and equals so that the same request will have two hashCodes and will not be equal to itself is very likely to break other parts of the code.\r\n\r\nPerhaps such cases could be prevented all together? e.g throwing an exception when the (exact) same request is added twice. \r\nIs that a reasonable solution? Are there cases where it is necessary to request the same path twice? \r\nPlease note that a different count, depth, path etc - makes a different request, so requesting \"author\" with count 10 and count 11 makes different requests - which are handled simultaneously correctly in current versions. \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gilad","name":"gilad","emailAddress":"GiladBarkai at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilad Barkai","active":true},"created":"2012-10-09T06:03:15.555+0000","updated":"2012-10-09T06:03:15.555+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610584/comment/13472280","id":"13472280","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvega","name":"rvega","emailAddress":"rvega at asanteit dot com dot ar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rodrigo Vega","active":true},"body":"In my case the final user can specify his/her default query to show once he/she is logged into the system. This issue came up when somebody define the same facet request using one as filter and the other only as a pure count request.\r\n\r\nI did not find a clean way to fix it looking through the code, but i'm trying the current \"ugly\" solution where \"counter\" is the request index.\r\n\r\n{code}\r\npublic class CustomCountFacetRequest extends CountFacetRequest {\r\n\r\n\tprivate int hashCode;\r\n\r\n\tpublic CustomCountFacetRequest(CategoryPath path, int num) {\r\n\t\tthis(path, num, 0);\r\n\t}\r\n\r\n\tpublic CustomCountFacetRequest(CategoryPath path, int num, int counter) {\r\n\t\tsuper(path, num);\r\n\t\thashCode = super.hashCode() * counter;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn hashCode;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object o) {\r\n\t\tif (o instanceof CustomCountFacetRequest) {\r\n\t\t\tCustomCountFacetRequest that = (CustomCountFacetRequest) o;\r\n\t\t\treturn that.hashCode == this.hashCode && super.equals(o);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n}\r\n{code}\r\n\r\n\r\nI didn't find collateral effects on this solution yet, however i'm worried with your comments about breaking other parts of the code.\r\n\r\nI'm not sure if throwing an exception is the best solution, but at least the response will be consistent.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvega","name":"rvega","emailAddress":"rvega at asanteit dot com dot ar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rodrigo Vega","active":true},"created":"2012-10-09T11:42:27.290+0000","updated":"2012-10-09T11:42:27.290+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610584/comment/13472416","id":"13472416","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gilad","name":"gilad","emailAddress":"GiladBarkai at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilad Barkai","active":true},"body":"The same category can be set as a filter and as a request without them colliding - a filter is not correlated or dependent on a facet request. \r\nfacets filters are done at the query level which affects the result set, while the facetRequest defines which categories to retrieve out of the result set.\r\nI probably miss something here :)\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gilad","name":"gilad","emailAddress":"GiladBarkai at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilad Barkai","active":true},"created":"2012-10-09T14:16:31.649+0000","updated":"2012-10-09T14:16:55.878+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610584/comment/13472429","id":"13472429","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvega","name":"rvega","emailAddress":"rvega at asanteit dot com dot ar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rodrigo Vega","active":true},"body":"Yes, I know that but i need a generic way to handle the facet requests during search preparation stage. For that reason I have a FacetParams object with the following properties: int limit, String[] path, boolean filter\r\n\r\nThen I can have some peace of code like this:\r\n\r\n{code}\r\n// Query is a bean that wraps a lucene query just to make easy the integration with our UI. REal lucene query is // handle by \"q\"\r\nif (query.isFaceted())\r\n\tfor (FacetParams facet : query.getFacet()) {\r\n\r\n\t\tCategoryPath c = new CategoryPath(facet.getPath());\r\n\t\tfacetSearchParams.addFacetRequest(new CountFacetRequest(c, facet.getLimit()));\r\n\r\n\t\tif (facet.isFilter())\r\n\t\t\tq = DrillDown.query(q, c);\r\n\r\n\t}\r\n... preapre collectors and finally search\r\n{code}\r\n\r\nThis is because the user can create its own query using some kind of wizard. So I have two options:\r\n* Support this feature\r\n* Avoid configurations with this kind of cases.\r\n\r\nIt is not a really big problem it is mostly about how to keep my code as neat as I can :) . I can't ask you to solve my code issues :D","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvega","name":"rvega","emailAddress":"rvega at asanteit dot com dot ar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rodrigo Vega","active":true},"created":"2012-10-09T14:38:13.775+0000","updated":"2012-10-09T14:38:13.775+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610584/comment/13472437","id":"13472437","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gilad","name":"gilad","emailAddress":"GiladBarkai at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilad Barkai","active":true},"body":"Well solve you code issues no :) But the current code is indeed broken by the issue you raised - and that should be fixed.\r\nI re examined the code, and I think the different hashcode you presented will work - though please note it will consume some extra CPU, as the same request will be handled twice (that's the heap to figure out the top-k of the request) to create separate FacetResults for each request.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gilad","name":"gilad","emailAddress":"GiladBarkai at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilad Barkai","active":true},"created":"2012-10-09T14:48:19.085+0000","updated":"2012-10-09T14:48:19.085+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610584/comment/13472443","id":"13472443","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvega","name":"rvega","emailAddress":"rvega at asanteit dot com dot ar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rodrigo Vega","active":true},"body":"I though there is any kind of cache to avoid doing same work twice or at least some part of it. However I think that is a different issue/feature/discussion. Thanks for your time.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rvega","name":"rvega","emailAddress":"rvega at asanteit dot com dot ar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rodrigo Vega","active":true},"created":"2012-10-09T14:58:35.495+0000","updated":"2012-10-09T14:58:35.495+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610584/comment/13529277","id":"13529277","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gilad","name":"gilad","emailAddress":"GiladBarkai at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilad Barkai","active":true},"body":"Proposed fix - In {{StandardFacetsAccumulator}}, guard against handling and merging the same request more than once.\r\nAlso a matching test is introduced, inspired by previous patch.\r\n\r\nThanks Rodrigo!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gilad","name":"gilad","emailAddress":"GiladBarkai at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gilad Barkai","active":true},"created":"2012-12-11T19:54:27.948+0000","updated":"2012-12-11T19:54:27.948+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610584/comment/13533481","id":"13533481","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"body":"Thanks for the fix Gilad. I did the following:\r\n\r\n* Fixed a couple of typos.\r\n* Updated the patch following the recent changes to FacetSearchParams (no addRequest anymore).\r\n* Made the test assert that the results.toString() match, rather than just numValidDecendants.\r\n* Added a CHANGES entry.\r\n\r\nCommitted to trunk and 4x.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"created":"2012-12-16T19:15:55.334+0000","updated":"2012-12-16T19:15:55.334+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610584/comment/13533485","id":"13533485","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[branch_4x commit] Shai Erera\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1422671\r\n\r\nLUCENE-4461: adding same FacetRequest more than once yielded inconsistent results\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2012-12-16T19:23:08.059+0000","updated":"2012-12-16T19:23:08.059+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610584/comment/13533486","id":"13533486","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[trunk commit] Shai Erera\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1422670\r\n\r\nLUCENE-4461: adding same FacetRequest more than once yielded inconsistent results\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2012-12-16T19:23:16.237+0000","updated":"2012-12-16T19:23:16.237+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-4461/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i03uwf:"}}