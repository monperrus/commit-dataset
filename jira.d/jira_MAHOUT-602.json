{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12497175","self":"https://issues.apache.org/jira/rest/api/latest/issue/12497175","key":"MAHOUT-602","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315255","id":"12315255","description":"","name":"0.5","archived":false,"released":true,"releaseDate":"2011-05-27"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-01-31 19:43:14.577","customfield_12312323":null,"customfield_12310420":"9459","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_403440743_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2011-02-04T23:13:28.244+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-602/watchers","watchCount":0,"isWatching":false},"created":"2011-01-31T07:09:27.514+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314396","id":"12314396","description":"","name":"0.4","archived":false,"released":true,"releaseDate":"2010-10-31"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adeneche","name":"adeneche","emailAddress":"adeneche at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deneche A. Hakim","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-05-21T03:18:51.007+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312152","id":"12312152","name":"Classification","description":"Issues related to classification"}],"timeoriginalestimate":null,"description":"The \"Partial Implementation\" described on the wiki page [Partial Implementation|https://cwiki.apache.org/confluence/display/MAHOUT/Partial+Implementation] fails with the given dataset and operations.\r\n\r\n\r\n\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"22816","summary":"\"Partial Implementation\" throws exceptions","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Macos X\r\njava version \"1.6.0_22\"\r\nJava(TM) SE Runtime Environment (build 1.6.0_22-b04-307-10M3261)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.1-b03-307, mixed mode)","customfield_12311020":null,"duedate":"2011-02-11","customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":17,"total":17,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12988673","id":"12988673","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"Scenario:\r\n\r\nI attempted to follow the tutorial on the wiki. The wiki page apparently predates the 'bin/mahout' shell script. I used that instead of the given bin/hadoop commands.\r\n\r\nThe command given to create a \"file descriptor\" did not work. It includes a string of letters which define a CSV file. The string is wrong.\r\n{code}\r\nbin/mahout org.apache.mahout.df.tools.Describe -p testdata/KDDTrain+.arff \r\n-f testdata/KDDTrain+.info -d N 3 C 2 N C 4 N C 8 N 2 C 19 N L\r\n{code}\r\nThis throws an exception. I added a '1' (one) to the beginning and that made it run. This seems to be the correct fix.\r\n\r\nAfter this ran, I tried the next command:\r\n{code}\r\nbin/mahout org.apache.mahout.df.mapreduce.BuildForest \r\n-Dmapred.max.split.size=1874231 -oob -d testdata/KDDTrain+_20Percent.arff \r\n-ds testdata/KDDTrain+_20Percent.info -sl 5 -p -t 100 -o nsl-forest\r\n{code}\r\nThis throws an ArrayIndexOutOfBounds exception. The full logfile is attached.\r\n\r\nI tried this same job with different sizes of mapred.split.size, and got the same exception and index of '100'.\r\n\r\nThe logfile is attached as partialImp_fullKDD_errors.log.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2011-01-31T07:20:21.754+0000","updated":"2011-01-31T07:20:21.754+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12988861","id":"12988861","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adeneche","name":"adeneche","emailAddress":"adeneche at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deneche A. Hakim","active":true},"body":"What version of Mahout are you using ? I remember trying this example just before the release of Mahout-0.4 and it was Ok. And I just tried it using the latest checkout from svn and it worked perfectly, although I didn't use the mahout script but called hadoop direclty as shown in the wiki.\r\n\r\ndid you change the data as described in the wiki ?\r\n\r\n{quote}\r\nOpen the train and test files and remove all the lines that begin with '@'. All those lines are at the top of the files. Actually you can keep those lines somewhere, because they'll help us describe the dataset to Mahout\r\n{quote}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adeneche","name":"adeneche","emailAddress":"adeneche at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deneche A. Hakim","active":true},"created":"2011-01-31T19:43:14.577+0000","updated":"2011-01-31T19:43:14.577+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12989968","id":"12989968","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"There is an off-by-one error somewhere. The code generates two files with 'number of trees requested' instead of one. \r\n\r\nTo make things easier I created 10 trees instead of 100. Two files of trees are created instead of just one. The patch prints the hashCode() for each tree.toString. You can see that the two files have different trees. I have included the value for each tree in the attached log 10_hashCode.log. (10_toString.log shows the actual string dump for each tree.) \r\n\r\nApply the patch attached as PartialImplementationBug1.patch, if you want to recreate the experiment. Try different numbers of trees and it will always make two files of N trees instead of just 1.\r\n\r\nThis was the command line, as per the wiki:\r\n$HADOOP_HOME/bin/hadoop jar /Users/lancenorskog/Documents/open/mahout/examples/target/mahout-examples-0.5-SNAPSHOT-job.jar org.apache.mahout.df.mapreduce.BuildForest -Dmapred.max.split.size=1874231 -oob -d ../../datasets/KDDTrain/KDDTrain+_20Percent.arff -ds ../../datasets/KDDTrain/KDDTrain+_20Percent.info  -sl 5 -p -t 10 -o nsl-forest\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2011-02-03T05:40:49.567+0000","updated":"2011-02-03T05:40:49.567+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12989969","id":"12989969","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"Patch the reading code to show the counting error.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2011-02-03T05:42:02.668+0000","updated":"2011-02-03T05:42:02.668+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12989970","id":"12989970","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"Error log for \"-t 10\" meaning \"generate 10 trees\". Includes prints of the hashCode() for each tree. All are different.\r\n\r\nSince the hashCode() output is different, that means each tree is unique. \r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2011-02-03T05:42:53.496+0000","updated":"2011-02-03T05:44:31.052+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12989971","id":"12989971","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"Error log for 10 trees. Prints actual tree strings; rather less readable than the hashCode() output.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2011-02-03T05:43:38.908+0000","updated":"2011-02-03T05:43:38.908+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12989974","id":"12989974","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"bq. did you change the data as described in the wiki ?\r\n\r\nYes. If you leave them in the program does not run at all.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2011-02-03T05:45:25.086+0000","updated":"2011-02-03T05:45:25.086+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12990024","id":"12990024","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"You aren't just referring to the fact that you'll get part-r-00000, part-r-00001, etc. ? that's normal.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2011-02-03T09:25:42.471+0000","updated":"2011-02-03T09:25:42.471+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12990223","id":"12990223","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adeneche","name":"adeneche","emailAddress":"adeneche at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deneche A. Hakim","active":true},"body":"Ok I was finaly able to reproduce the bug, it happens only when Hadoop is running in 'local' (not even pseudo-distributed). I will try to post a patch as soon as possible.\r\n\r\nBut still I wasn't able to reproduce the first error (with Describe) even in 'local' mode.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adeneche","name":"adeneche","emailAddress":"adeneche at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deneche A. Hakim","active":true},"created":"2011-02-03T18:35:26.042+0000","updated":"2011-02-03T18:35:26.042+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12990295","id":"12990295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"bq. You aren't just referring to the fact that you'll get part-r-00000, part-r-00001, etc. ? that's normal.\r\n\r\nAsk for 10 trees. You get part-r-00000 with 10 trees, and part-r-00001 with 10 trees.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2011-02-03T20:42:28.752+0000","updated":"2011-02-03T20:42:28.752+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12990296","id":"12990296","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"bq. Ok I was finaly able to reproduce the bug, it happens only when Hadoop is running in 'local' (not even pseudo-distributed). I will try to post a patch as soon as possible.\r\n\r\nThank you. I only use local mode so it didn't occur to try it in the distributed modes. Is it possible to abstract out all such problems so that the Hadoop mode does not affect Mahout code?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2011-02-03T20:44:56.169+0000","updated":"2011-02-03T20:44:56.169+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12990374","id":"12990374","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"{quote}\r\n Is it possible to abstract out all such problems so that the Hadoop mode does not affect Mahout code?\r\n{quote}\r\nIt is sort-of possible.\r\n\r\nThe big problem is that in local mode, everything runs in the same JVM.  That has lots of implications about the accidental use of shared memory.  Many a Hadoop beginner has been very confused when their program fails dramatically when first run on a truly distributed model.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2011-02-03T23:31:36.357+0000","updated":"2011-02-03T23:31:36.357+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12990396","id":"12990396","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"Well, it definitely is possible to write things correctly in that classes and Mappers and Reducers don't depend on being in the same JVM or on the same machine. If some code isn't doing that it's just a bug. I don't know if abstraction somehow solves the problem -- just proper encapsulation and such.\r\n\r\nUsually it's the other way around in this kind of bug: works when stuff is in the same JVM, then breaks later. I wonder what the interaction is here that's causing the reverse?\r\n\r\nI'd point a finger at any static members as first suspects.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2011-02-04T00:10:55.344+0000","updated":"2011-02-04T00:10:55.344+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12990465","id":"12990465","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adeneche","name":"adeneche","emailAddress":"adeneche at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deneche A. Hakim","active":true},"body":"When I first wrote this code (two years ago) I found that when running in 'local' mode Hadoop doesn't launch more than one mapper even if the partition size should create many. And because it's important for the code to know how many mappers did run in the first step, I made the code check if it's in 'local' mode and assume that only 1 single mapper did run in that case. But it looks like that now, even in 'local' mode, many mappers are actually launched.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adeneche","name":"adeneche","emailAddress":"adeneche at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deneche A. Hakim","active":true},"created":"2011-02-04T06:29:27.407+0000","updated":"2011-02-04T06:29:27.407+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12990498","id":"12990498","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Mahout-Quality #609 (See [https://hudson.apache.org/hudson/job/Mahout-Quality/609/])\r\n    MAHOUT-602 Removed unnecessary code and comment\r\nMAHOUT-602 Removed the check for Hadoop local mode\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2011-02-04T09:59:02.796+0000","updated":"2011-02-04T09:59:02.796+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12990650","id":"12990650","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"Lance, does the latest commit fix the issue?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2011-02-04T17:53:04.146+0000","updated":"2011-02-04T17:53:04.146+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497175/comment/12990780","id":"12990780","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"Yes, that fixed it. Thanks!\r\nAlso, the 'data description language' string from the wiki page works now. I probably misinterpreted exceptions before.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2011-02-04T22:17:04.804+0000","updated":"2011-02-04T22:17:04.804+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-602/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i049kn:"}}