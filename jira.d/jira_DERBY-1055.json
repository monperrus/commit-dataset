{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12329467","self":"https://issues.apache.org/jira/rest/api/latest/issue/12329467","key":"DERBY-1055","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311953","id":"12311953","description":"","name":"10.1.3.1","archived":false,"released":true,"releaseDate":"2006-06-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-02-26 14:02:35.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22285","customfield_12310222":"1_*:*_1_*:*_493893000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_2_*:*_10967451000_*|*_4_*:*_1_*:*_256513000","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-05-05T05:23:30.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1055/watchers","watchCount":0,"isWatching":false},"created":"2006-02-26T10:48:47.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"8.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10920","id":"10920","description":"initial source drop","name":"10.0.2.0","archived":false,"released":true,"releaseDate":"2004-08-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/10991","id":"10991","description":"snapshot","name":"10.0.2.1","archived":false,"released":true,"releaseDate":"2004-12-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12310615","id":"12310615","description":"","name":"10.1.2.1","archived":false,"released":true,"releaseDate":"2005-11-18"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12311953","id":"12311953","description":"","name":"10.1.3.1","archived":false,"released":true,"releaseDate":"2006-06-30"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-07-12T01:46:24.000+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11690","id":"11690","name":"Network Client"}],"timeoriginalestimate":null,"description":"When using EUSRIDPWD security mechanism, the JCE provider is added and since this is not in a privileged block, an accesscontrol exception is raised when trying to connect using EUSRIDPWD security mechanism, when client is run under security manager.\n\n\nEnabled test (T5) in testSecMec.java \n> T5: jdbc:derby://xxxFILTERED_HOSTNAMExxx:xxxFILTEREDPORTxxx/wombat;user=neelima;password=lee;securityMechanism=9 - EXCEPTION Unexpected throwable caught java.security.AccessControlException: access denied (java.security.SecurityPermission insertProvider.SunJCE)","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"40549","summary":"Security.AccessControlException in client under SecurityManager when trying to connect using EUSRIDPWD security mechanism","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"all","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":13,"total":13,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12367809","id":"12367809","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"This patch Derby1055.diff.txt fixes this jira issue completely. Explanation of changes as follows:\r\n\r\nI)Overview:\r\nClient supports EUSRIDPWD(0x09) security mechanism and when this security mechanism is used, it involves encrypting the userid and password and sending across the wire. Encryption of userid and password is done using JCE. The class org.apache.derby.client.am.EncryptionManager is responsible for handling the encryption part - of adding a JCE provider and initialize the necessary security objects.\r\n\r\nII)Problem:\r\nRunning under security manager, and when using EUSRIDPWD security mechanism a Security.AccessControlException is thrown at the client.(java.security.AccessControlException: access denied (java.security.SecurityPermission insertProvider.SunJCE)\r\n\r\nThis is because adding a jce provider is a privileged action and requires to be added in a privileged block.\r\n\r\nIII)Fix:\r\n\r\n1.In client.am.EncryptionManager constructor, the add of JCE provider now happens in a privileged block.\r\nAn exception during adding a provider in privileged block is caught and rethrown as a SqlException similar to how the other security exceptions are thrown in the am.EncryptionManager constructor.\r\n\r\n2.Modified derby_tests.policy file to add permissions to add JCE provider for derbyclient.jar. Following permissions were added.\r\n\r\n  // These permissions are needed to load the JCE for encryption with Sun and IBM \r\n  // Client uses JCE when using encrypted userid and password security mechanism\r\n  permission java.security.SecurityPermission \"insertProvider.SunJCE\";\r\n  permission java.security.SecurityPermission \"insertProvider.IBMJCE\";\r\n\r\n\r\nTesting:\r\n-- Enabled test to use securityMechanism=9 ( EUSRIDPWD - encrypted userid and password) when using DriverManager for both DerbyNet and DerbyNetClient.\r\n\r\n-- Enabled test to use securityMechanism=9 (EUSRIDPWD) when getting connection via DataSource for DerbyNetClient framework only. There seems to be a bug in JCC driver, as value set on datasource is not being used, it sends a security mechanism of 3 (USRIDPWD) to the server. Hence this test is not enabled for DerbyNet (JCC) framework.\r\n\r\n-- Master Updates for different JVMs.\r\n\r\nDerbyNetClient framework:\r\nSUN JVM(131,141,142,15), IBM131 - no support for DH algorithm (prime of 32 bytes), hence security exception will be thrown for test case added. Updated master file in master/DerbyNetClient/\r\n\r\nIBM(141,142,15) - support available for DH algorithm (prime of 32 bytes). Hence a new master file is added in master/DerbyNetClient/ibm14\r\n\r\nDerbyNet framework:\r\nSUN JVM(131,141,142,15), IBM131 - no support for DH algorithm (prime of 32 bytes), hence security exception will be thrown for test case added. Updated master file in master/DerbyNet/\r\n\r\nIBM(141,142,15) - support available for DH algorithm (prime of 32 bytes). Hence a new master file is added in master/DerbyNet/ibm14\r\n\r\n------------------------\r\n\r\nRan derbyall on  Linux/IBM1.4.2 with sane jars OK(ie apart from the known failures)\r\n\r\nRan the testSecMec test with following combinations OK on both DerbyNet (JCC 2.4) and DerbyNetClient frameworks. \r\n\r\nClasses-  Sun VMS: jdk131/jdk141/jdk142/jdk15 - all OK\r\n\t  IBM VMS: ibm131/ibm141/ibm142 - all OK\r\n\r\nSANE and INSANE JARS - jdk142/jdk15/jdk13/ibm131/ibm142/ibm15 - all OK\r\n\r\nsvn stat:\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\derbynet\\testSecMec.java\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNet\\testSecMec.out\r\nA      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNet\\ibm14\r\nA      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNet\\ibm14\\testSecMec.out\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNetClient\\testSecMec.out\r\nA      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNetClient\\ibm14\r\nA      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNetClient\\ibm14\\testSecMec.out\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\util\\derby_tests.policy\r\nM      java\\client\\org\\apache\\derby\\client\\am\\EncryptionManager.java\r\n\r\nCan someone please review this change. Thanks.\r\n\r\n=================\r\nOther:\r\n(As I looked at this issue,I realized there is a problem in the following constructor in SqlException\r\n\r\n    public SqlException(LogWriter logwriter, \r\n        MessageId msgid, Object[] args, Throwable cause)\r\n    {\r\n        this(\r\n            logwriter,\r\n            msgutil_.getCompleteMessage(\r\n                msgid.msgid,\r\n                args),\r\n            ExceptionUtil.getSQLStateFromIdentifier(msgid.msgid),\r\n            ExceptionUtil.getSeverityFromIdentifier(msgid.msgid));\r\n    }\r\n\r\ncause is being lost here. It seems to me, we should add setThrowable(cause) so we dont lose track of it.  I'll send out a separate mail to derby-dev for this.\r\n)\r\n------------------","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2006-02-26T11:02:38.000+0000","updated":"2006-02-26T11:02:38.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12367810","id":"12367810","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"I came across this when working on DERBY-962 and then realized that this particular change could be separated as its own issue, so filed this jira.  Please note, this issue blocks DERBY-962. I hope to post a patch for DERBY-962 after some more testing. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2006-02-26T11:09:52.000+0000","updated":"2006-02-26T11:09:52.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12367812","id":"12367812","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"The original code seems to be adding a provider that is already installed:\r\n\r\n            Provider[] list = Security.getProviders(\"KeyAgreement.DH\");\r\n            if (list == null) {\r\n                throw new java.security.NoSuchProviderException();\r\n            }\r\n            provider = list[0];\r\n            providerName = provider.getName();\r\n\r\n            java.security.Security.addProvider((java.security.Provider) provider);\r\n\r\nI don't think this Security.addProvider call is required at all, the getProviders call is returning a list of already installed providers.\r\n\r\nIf the addProvider call is removed, then no priv block is needed, and no changes to the security policy file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2006-02-26T14:02:35.000+0000","updated":"2006-02-26T14:02:35.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12367876","id":"12367876","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"Cool!  Thanks much Dan. \r\n\r\nI am attaching a new patch (Derby1055.2.diff.txt, Derby1055.2.stat.txt) which incorporates Dan's comment.\r\n\r\nThis patch ( Derby1055.2.diff.txt) includes the following change which is different from the earlier(Derby1055.diff.txt):\r\n- removes the unnecessary addProvider call in EncryptionManager which was throwing the AccessControlException. Thus no changes are needed to the security policy file as a result. \r\n\r\nRest changes are test changes similar to what is in Derby1055.diff.txt.\r\n\r\nsvn stat\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\derbynet\\testSecMec.java\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNet\\testSecMec.out\r\nA      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNet\\ibm14\r\nA      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNet\\ibm14\\testSecMec.out\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNetClient\\testSecMec.out\r\nA      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNetClient\\ibm14\r\nA      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNetClient\\ibm14\\testSecMec.out\r\nM      java\\client\\org\\apache\\derby\\client\\am\\EncryptionManager.java\r\n\r\nRan test derbynet/testSecMec.java with jars(sane,insane) for both DerbyNet and DerbyNetClient frameworks with ibm131/ibm141/ibm142/ibm15/jdk131/jdk141/jdk142/jdk15 OK.\r\n\r\nDerbyall ran ok with ibm142/linux with known failures. \r\n\r\nCan someone please review and if it looks ok commit this change. \r\n\r\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2006-02-27T11:30:34.000+0000","updated":"2006-02-27T11:30:34.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12368666","id":"12368666","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"After the Derby928 checkin, the patch to this issue got outdated. So, I am attaching anew patch 'Derby1-55.3.diff.txt' after merging the changes with the latest codeline.\r\n\r\nThe changes in 'Derby1055.3.diff.txt' are the same as in Derby1055.2.diff.txt except that it also accounts for changes that went into testSecMec.java test as part of the Derby928 checkin.\r\n\r\nRan tests with derbynetmats (JCC 2.4)and derbynetclientmats on ibm142/linux ok with known failures (SURTest, and NSInSameJVM)\r\nAlso ran derbynet/testSecMec.java test with jdk131/jdk141/jdk142/jdk15/ibm131/ibm141/ibm142/ibm15 ok.\r\n\r\nCan someone review and commit this change. Thanks. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2006-03-03T16:50:22.000+0000","updated":"2006-03-03T16:50:22.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12368765","id":"12368765","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I will look at committing this patch.  I was wondering perhaps if you could post a short summary suitable for checkin comment.  I like your full description but  for checkin it is nice to have just a short summary.\r\n\r\nThanks\r\n\r\nKathey\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-03-04T02:28:59.000+0000","updated":"2006-03-04T02:28:59.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12368767","id":"12368767","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"Thanks Kathey for looking at this.  Here is the short summary:\r\n---------------------------------\r\nFix for DERBY-1055: Security.AccessControlException in client under Security Manager when trying to connect using EUSRIDPWD mechanism.\r\n\r\nPatch\r\n- removes the unnecessary addProvider call in EncryptionManager that was causing\r\nthe Security.AccessControlException.\r\n- enables test to connect using EUSRIDPWD mechanism and updates necessary masters\r\n\r\n------------------------------","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2006-03-04T02:35:22.000+0000","updated":"2006-03-04T02:35:22.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12368776","id":"12368776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Checked this into trunk\r\nThanks for the patch Sunitha!\r\n\r\nDate: Fri Mar  3 10:55:58 2006\r\nNew Revision: 382911\r\n\r\nURL: http://svn.apache.org/viewcvs?rev=382911&view=rev\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-03-04T04:00:20.000+0000","updated":"2006-03-04T04:00:20.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12377294","id":"12377294","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"reopening to backport fix to 10.1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2006-05-02T06:08:17.000+0000","updated":"2006-05-02T06:08:17.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12377435","id":"12377435","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"Attaching patch for_10.1_derby1055.diff.txt for porting fix to 10.1 \r\nI needed to do a manual merge since the test and master files have changed because of some other jira issues that are not being backported to 10.1.   \r\n\r\nThis is a client only change. I ran derbynetclientmats on ibm142/linux with no new failures.\r\n\r\nI ran this test testSecMec in both derbynet and derbynetclient frameworks with ibm131/ibm141/ibm142/ibm15, and jdk131/jdk141/jdk142/jdk15 OK. \r\n\r\nCan someone please take a look and commit this change.  Thanks.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2006-05-03T00:25:42.000+0000","updated":"2006-05-03T00:25:42.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12377450","id":"12377450","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"I am looking at committing the 10.1 backport.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2006-05-03T02:03:21.000+0000","updated":"2006-05-03T02:03:21.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12377665","id":"12377665","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"I committed the posted patch to the 10.1  branch.\r\n\r\nm101_142:148>svn commit\r\n\r\nSending        java\\client\\org\\apache\\derby\\client\\am\\EncryptionManager.java\r\nAdding         java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNe\r\nt\\ibm14\r\nAdding         java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNe\r\nt\\ibm14\\testSecMec.out\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNe\r\nt\\testSecMec.out\r\nAdding         java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNe\r\ntClient\\ibm14\r\nAdding         java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNe\r\ntClient\\ibm14\\testSecMec.out\r\nAdding         java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNe\r\ntClient\\jdk14\\testSecMec.out\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\DerbyNe\r\ntClient\\testSecMec.out\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\derbynet\r\n\\testSecMec.java\r\nTransmitting file data .......\r\nCommitted revision 399498.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2006-05-04T07:08:40.000+0000","updated":"2006-05-04T07:08:40.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12329467/comment/12377904","id":"12377904","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"\"resolving\" reopened issue.  Fix has been backported to the 10.1 branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2006-05-05T05:23:30.000+0000","updated":"2006-05-05T05:23:30.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1055/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i07b07:"}}