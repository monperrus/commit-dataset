{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12471371","self":"https://issues.apache.org/jira/rest/api/latest/issue/12471371","key":"CASSANDRA-1382","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310865","id":"12310865","key":"CASSANDRA","name":"Cassandra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310865&avatarId=12034","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310865&avatarId=12034","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310865&avatarId=12034","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310865&avatarId=12034"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11961","id":"11961","description":"Apache Cassandra related projects","name":"Cassandra"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315251","id":"12315251","description":"","name":"0.7 beta 2","archived":false,"released":true,"releaseDate":"2010-10-01"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2010-08-12 18:13:38.761","customfield_12312322":null,"customfield_12312323":null,"customfield_12310222":"10002_*:*_1_*:*_422590187_*|*_1_*:*_1_*:*_60046876_*|*_5_*:*_1_*:*_0","customfield_12310420":"20112","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-08-17T18:12:49.165+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-1382/watchers","watchCount":1,"isWatching":false},"created":"2010-08-12T04:08:52.102+0000","customfield_10022":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12311124":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-18T13:13:49.541+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312978","id":"12312978","name":"Core"}],"timeoriginalestimate":null,"description":"On startup LocationInfo file is deleted then attempted to be read from.\r\n\r\nSteps to reproduce: Kill then quickly restart\r\n\r\nSwitching to ParallelGC to avoid CMS/CompressedOops incompatibility\r\nINFO 17:05:08,680 DiskAccessMode isstandard, indexAccessMode is mmap\r\n INFO 17:05:08,786 Sampling index for /var/lib/cassandra/data/system/Schema-e-1-<>\r\n INFO 17:05:08,797 Sampling index for /var/lib/cassandra/data/system/Schema-e-2-<>\r\n INFO 17:05:08,807 Sampling index for /var/lib/cassandra/data/system/Migrations-e-1-<>\r\n INFO 17:05:08,833 Sampling index for /var/lib/cassandra/data/system/Schema-e-1-<>\r\n INFO 17:05:08,834 Sampling index for /var/lib/cassandra/data/system/Schema-e-2-<>\r\n INFO 17:05:08,839 Sampling index for /var/lib/cassandra/data/system/Migrations-e-1-<>\r\n INFO 17:05:08,862 Sampling index for /var/lib/cassandra/data/system/Schema-e-1-<>\r\n INFO 17:05:08,864 Sampling index for /var/lib/cassandra/data/system/Schema-e-2-<>\r\n INFO 17:05:08,876 Sampling index for /var/lib/cassandra/data/system/Migrations-e-1-<>\r\n INFO 17:05:08,885 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-17-<>\r\n INFO 17:05:08,892 Sampling index for /var/lib/cassandra/data/system/Schema-e-1-<>\r\n INFO 17:05:08,893 Sampling index for /var/lib/cassandra/data/system/Schema-e-2-<>\r\n INFO 17:05:08,897 Sampling index for /var/lib/cassandra/data/system/Migrations-e-1-<>\r\n INFO 17:05:08,901 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-17-<>\r\n INFO 17:05:08,906 Sampling index for /var/lib/cassandra/data/system/Schema-e-1-<>\r\n INFO 17:05:08,909 Sampling index for /var/lib/cassandra/data/system/Schema-e-2-<>\r\n INFO 17:05:08,918 Sampling index for /var/lib/cassandra/data/system/Migrations-e-1-<>\r\n INFO 17:05:08,922 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-17-<>\r\n INFO 17:05:08,928 Creating new commitlog segment /var/lib/cassandra/commitlog/CommitLog-1281571508928.log\r\n INFO 17:05:08,933 Deleted /var/lib/cassandra/data/system/LocationInfo-e-16-Data.db\r\n INFO 17:05:08,936 Deleted /var/lib/cassandra/data/system/LocationInfo-e-15-Data.db\r\n INFO 17:05:08,936 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-16-<>\r\nERROR 17:05:08,937 Corrupt file /var/lib/cassandra/data/system/LocationInfo-e-16-Data.db; skipped\r\njava.io.FileNotFoundException: /var/lib/cassandra/data/system/LocationInfo-e-16-Index.db (No such file or directory)\r\n    at java.io.RandomAccessFile.open(Native Method)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:142)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:137)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.load(SSTableReader.java:289)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.internalOpen(SSTableReader.java:197)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.open(SSTableReader.java:176)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.<init>(ColumnFamilyStore.java:208)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:342)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:308)\r\n    at org.apache.cassandra.db.Table.<init>(Table.java:245)\r\n    at org.apache.cassandra.db.Table.open(Table.java:102)\r\n    at org.apache.cassandra.db.RowMutation.apply(RowMutation.java:196)\r\n    at org.apache.cassandra.db.StatisticsTable.deleteSSTableStatistics(StatisticsTable.java:81)\r\n    at org.apache.cassandra.io.sstable.SSTable.deleteIfCompacted(SSTable.java:136)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.<init>(ColumnFamilyStore.java:202)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:342)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:308)\r\n    at org.apache.cassandra.db.Table.<init>(Table.java:245)\r\n    at org.apache.cassandra.db.Table.open(Table.java:102)\r\n    at org.apache.cassandra.db.RowMutation.apply(RowMutation.java:196)\r\n    at org.apache.cassandra.db.StatisticsTable.deleteSSTableStatistics(StatisticsTable.java:81)\r\n    at org.apache.cassandra.io.sstable.SSTable.deleteIfCompacted(SSTable.java:136)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.<init>(ColumnFamilyStore.java:202)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:342)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:308)\r\n    at org.apache.cassandra.db.Table.<init>(Table.java:245)\r\n    at org.apache.cassandra.db.Table.open(Table.java:102)\r\n    at org.apache.cassandra.db.SystemTable.checkHealth(SystemTable.java:121)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.setup(CassandraDaemon.java:93)\r\n    at org.apache.cassandra.service.AbstractCassandraDaemon.activate(AbstractCassandraDaemon.java:90)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.main(CassandraDaemon.java:224)\r\n INFO 17:05:08,947 Deleted /var/lib/cassandra/data/system/LocationInfo-e-14-Data.db\r\n INFO 17:05:08,947 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-17-<>\r\n INFO 17:05:08,948 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-15-<>\r\nERROR 17:05:08,948 Corrupt file /var/lib/cassandra/data/system/LocationInfo-e-15-Data.db; skipped\r\njava.io.FileNotFoundException: /var/lib/cassandra/data/system/LocationInfo-e-15-Index.db (No such file or directory)\r\n    at java.io.RandomAccessFile.open(Native Method)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:142)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:137)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.load(SSTableReader.java:289)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.internalOpen(SSTableReader.java:197)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.open(SSTableReader.java:176)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.<init>(ColumnFamilyStore.java:208)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:342)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:308)\r\n    at org.apache.cassandra.db.Table.<init>(Table.java:245)\r\n    at org.apache.cassandra.db.Table.open(Table.java:102)\r\n    at org.apache.cassandra.db.RowMutation.apply(RowMutation.java:196)\r\n    at org.apache.cassandra.db.StatisticsTable.deleteSSTableStatistics(StatisticsTable.java:81)\r\n    at org.apache.cassandra.io.sstable.SSTable.deleteIfCompacted(SSTable.java:136)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.<init>(ColumnFamilyStore.java:202)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:342)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:308)\r\n    at org.apache.cassandra.db.Table.<init>(Table.java:245)\r\n    at org.apache.cassandra.db.Table.open(Table.java:102)\r\n    at org.apache.cassandra.db.SystemTable.checkHealth(SystemTable.java:121)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.setup(CassandraDaemon.java:93)\r\n    at org.apache.cassandra.service.AbstractCassandraDaemon.activate(AbstractCassandraDaemon.java:90)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.main(CassandraDaemon.java:224)\r\n INFO 17:05:08,950 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-16-<>\r\nERROR 17:05:08,951 Corrupt file /var/lib/cassandra/data/system/LocationInfo-e-16-Data.db; skipped\r\njava.io.FileNotFoundException: /var/lib/cassandra/data/system/LocationInfo-e-16-Index.db (No such file or directory)\r\n    at java.io.RandomAccessFile.open(Native Method)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:142)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:137)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.load(SSTableReader.java:289)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.internalOpen(SSTableReader.java:197)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.open(SSTableReader.java:176)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.<init>(ColumnFamilyStore.java:208)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:342)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:308)\r\n    at org.apache.cassandra.db.Table.<init>(Table.java:245)\r\n    at org.apache.cassandra.db.Table.open(Table.java:102)\r\n    at org.apache.cassandra.db.RowMutation.apply(RowMutation.java:196)\r\n    at org.apache.cassandra.db.StatisticsTable.deleteSSTableStatistics(StatisticsTable.java:81)\r\n    at org.apache.cassandra.io.sstable.SSTable.deleteIfCompacted(SSTable.java:136)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.<init>(ColumnFamilyStore.java:202)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:342)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:308)\r\n    at org.apache.cassandra.db.Table.<init>(Table.java:245)\r\n    at org.apache.cassandra.db.Table.open(Table.java:102)\r\n    at org.apache.cassandra.db.SystemTable.checkHealth(SystemTable.java:121)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.setup(CassandraDaemon.java:93)\r\n    at org.apache.cassandra.service.AbstractCassandraDaemon.activate(AbstractCassandraDaemon.java:90)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.main(CassandraDaemon.java:224)\r\n INFO 17:05:08,970 Deleted /var/lib/cassandra/data/system/LocationInfo-e-13-Data.db\r\n INFO 17:05:08,971 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-14-<>\r\nERROR 17:05:08,971 Corrupt file /var/lib/cassandra/data/system/LocationInfo-e-14-Data.db; skipped\r\njava.io.FileNotFoundException: /var/lib/cassandra/data/system/LocationInfo-e-14-Index.db (No such file or directory)\r\n    at java.io.RandomAccessFile.open(Native Method)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:142)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:137)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.load(SSTableReader.java:289)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.internalOpen(SSTableReader.java:197)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.open(SSTableReader.java:176)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.<init>(ColumnFamilyStore.java:208)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:342)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:308)\r\n    at org.apache.cassandra.db.Table.<init>(Table.java:245)\r\n    at org.apache.cassandra.db.Table.open(Table.java:102)\r\n    at org.apache.cassandra.db.SystemTable.checkHealth(SystemTable.java:121)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.setup(CassandraDaemon.java:93)\r\n    at org.apache.cassandra.service.AbstractCassandraDaemon.activate(AbstractCassandraDaemon.java:90)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.main(CassandraDaemon.java:224)\r\n INFO 17:05:08,972 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-17-<>\r\n INFO 17:05:08,973 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-15-<>\r\nERROR 17:05:08,973 Corrupt file /var/lib/cassandra/data/system/LocationInfo-e-15-Data.db; skipped\r\njava.io.FileNotFoundException: /var/lib/cassandra/data/system/LocationInfo-e-15-Index.db (No such file or directory)\r\n    at java.io.RandomAccessFile.open(Native Method)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:142)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:137)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.load(SSTableReader.java:289)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.internalOpen(SSTableReader.java:197)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.open(SSTableReader.java:176)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.<init>(ColumnFamilyStore.java:208)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:342)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:308)\r\n    at org.apache.cassandra.db.Table.<init>(Table.java:245)\r\n    at org.apache.cassandra.db.Table.open(Table.java:102)\r\n    at org.apache.cassandra.db.SystemTable.checkHealth(SystemTable.java:121)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.setup(CassandraDaemon.java:93)\r\n    at org.apache.cassandra.service.AbstractCassandraDaemon.activate(AbstractCassandraDaemon.java:90)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.main(CassandraDaemon.java:224)\r\n INFO 17:05:08,974 Sampling index for /var/lib/cassandra/data/system/LocationInfo-e-16-<>\r\nERROR 17:05:08,974 Corrupt file /var/lib/cassandra/data/system/LocationInfo-e-16-Data.db; skipped\r\njava.io.FileNotFoundException: /var/lib/cassandra/data/system/LocationInfo-e-16-Index.db (No such file or directory)\r\n    at java.io.RandomAccessFile.open(Native Method)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)\r\n    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:142)\r\n    at org.apache.cassandra.io.util.BufferedRandomAccessFile.<init>(BufferedRandomAccessFile.java:137)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.load(SSTableReader.java:289)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.internalOpen(SSTableReader.java:197)\r\n    at org.apache.cassandra.io.sstable.SSTableReader.open(SSTableReader.java:176)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.<init>(ColumnFamilyStore.java:208)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:342)\r\n    at org.apache.cassandra.db.ColumnFamilyStore.createColumnFamilyStore(ColumnFamilyStore.java:308)\r\n    at org.apache.cassandra.db.Table.<init>(Table.java:245)\r\n    at org.apache.cassandra.db.Table.open(Table.java:102)\r\n    at org.apache.cassandra.db.SystemTable.checkHealth(SystemTable.java:121)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.setup(CassandraDaemon.java:93)\r\n    at org.apache.cassandra.service.AbstractCassandraDaemon.activate(AbstractCassandraDaemon.java:90)\r\n    at org.apache.cassandra.thrift.CassandraDaemon.main(CassandraDaemon.java:224)\r\n INFO 17:05:08,996 Loading schema version acc5646a-a59d-11df-83fb-e700f669bcfc\r\n WARN 17:05:09,158 Schema definitions were defined both locally and in cassandra.yaml. Definitions in cassandra.yaml were ignored.\r\n INFO 17:05:09,164 Replaying /var/lib/cassandra/commitlog/CommitLog-1281571453475.log, /var/lib/cassandra/commitlog/CommitLog-1281571508928.log\r\n INFO 17:05:09,172 Finished reading /var/lib/cassandra/commitlog/CommitLog-1281571453475.log\r\n INFO 17:05:09,172 Finished reading /var/lib/cassandra/commitlog/CommitLog-1281571508928.log\r\n INFO 17:05:09,173 switching in a fresh Memtable for LocationInfo at CommitLogContext(file='/var/lib/cassandra/commitlog/CommitLog-1281571508928.log', position=592)\r\n INFO 17:05:09,183 Enqueuing flush of Memtable-LocationInfo@137493297(17 bytes, 1 operations)\r\n INFO 17:05:09,183 Writing Memtable-LocationInfo@137493297(17 bytes, 1 operations)\r\n INFO 17:05:09,184 switching in a fresh Memtable for Statistics at CommitLogContext(file='/var/lib/cassandra/commitlog/CommitLog-1281571508928.log', position=592)\r\n INFO 17:05:09,184 Enqueuing flush of Memtable-Statistics@86823325(0 bytes, 0 operations)\r\n INFO 17:05:09,265 Completed flushing /var/lib/cassandra/data/system/LocationInfo-e-18-Data.db\r\n INFO 17:05:09,273 Writing Memtable-Statistics@86823325(0 bytes, 0 operations)\r\n INFO 17:05:09,352 Completed flushing /var/lib/cassandra/data/system/Statistics-e-1-Data.db\r\n INFO 17:05:09,353 Recovery complete ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12451948","id":"12451948","filename":"ASF.LICENSE.NOT.GRANTED--v1-0001-separate-CFS-dir-cleanup-from-CFS-instantiation.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-08-12T20:48:03.568+0000","size":9988,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12451948/ASF.LICENSE.NOT.GRANTED--v1-0001-separate-CFS-dir-cleanup-from-CFS-instantiation.txt"}],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"92194","summary":"Race condition leads to FileNotFoundException on startup","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rzotter","name":"rzotter","emailAddress":"robertzotter at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Zotter","active":true},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rzotter","name":"rzotter","emailAddress":"robertzotter at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Zotter","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"customfield_12311420":null,"customfield_12311421":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":6,"total":6,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471371/comment/12897867","id":"12897867","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"body":"When there are compacted files to delete, initializing the system table tries to delete its statistics, which results in trying to initialize the system table.  The statistics deletion needs to happen outside of the CFS initialization.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-08-12T18:13:38.761+0000","updated":"2010-08-12T18:13:38.761+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471371/comment/12897942","id":"12897942","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"body":"Another approach to this fix would have been us have an initialization stage and make sure that CFS creation and statistics clean up happen on it. The stats cleanup would be submitted at the end of the stage while a CFS was being initialized.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-08-12T20:49:38.935+0000","updated":"2010-08-12T20:49:38.935+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471371/comment/12898312","id":"12898312","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"it looks like this patch says we only delete statistics for sstables that had .compacted files left hanging around on the next restart, which won't be the case if they got cleaned up by the GC hook","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-08-13T16:51:02.229+0000","updated":"2010-08-13T16:51:02.229+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471371/comment/12898341","id":"12898341","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"body":"It was the same way before.  SSTable.deleteIfCompacted() is the only method that calls StatisticsTable.deleteSSTableStatistics().  The only place SST.deleteIfCompacted() gets called is from the CFS constructor which is called during init.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-08-13T17:52:52.116+0000","updated":"2010-08-13T17:52:52.116+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471371/comment/12899458","id":"12899458","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-08-17T16:34:21.617+0000","updated":"2010-08-17T16:34:21.617+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471371/comment/12899835","id":"12899835","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Cassandra #517 (See [https://hudson.apache.org/hudson/job/Cassandra/517/])\r\n    missed CHANGES.txt for CASSANDRA-1382\r\nseparate CFS dir cleanup from CFS instantiation. fixes race condition. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1382\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2010-08-18T13:13:49.526+0000","updated":"2010-08-18T13:13:49.526+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-1382/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0g4pr:"}}