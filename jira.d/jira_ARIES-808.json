{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12537900","self":"https://issues.apache.org/jira/rest/api/latest/issue/12537900","key":"ARIES-808","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310981","id":"12310981","key":"ARIES","name":"Aries","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310981&avatarId=10065","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310981&avatarId=10065","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310981&avatarId=10065","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310981&avatarId=10065"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10520","id":"10520","description":"Apache Aries","name":"Aries"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316139","id":"12316139","description":"","name":"0.4","archived":true,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-01-16 09:50:53.386","customfield_12312323":null,"customfield_12310420":"223406","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_72527_*|*_1_*:*_1_*:*_1880315255_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-02-01T08:45:16.970+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-808/watchers","watchCount":0,"isWatching":false},"created":"2012-01-10T14:25:29.418+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.png","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-02-01T08:45:17.117+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313176","id":"12313176","name":"JPA","description":"RFC 143 JPA Integration"}],"timeoriginalestimate":null,"description":"When running my OSGi application that uses JPA I get the following error:\r\n\r\njava.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n\tat java.lang.reflect.Method.invoke(Method.java:611)\r\n\tat com.ibm.osgi.jpa.jpa2.TestTools.run(TestTools.java:60)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n\tat java.lang.reflect.Method.invoke(Method.java:611)\r\n\tat org.apache.aries.blueprint.utils.ReflectionUtils.invoke(ReflectionUtils.java:238)\r\n\tat org.apache.aries.blueprint.container.BeanRecipe.invoke(BeanRecipe.java:838)\r\n\tat org.apache.aries.blueprint.container.BeanRecipe.runBeanProcInit(BeanRecipe.java:638)\r\n\tat org.apache.aries.blueprint.container.BeanRecipe.internalCreate(BeanRecipe.java:726)\r\n\tat org.apache.aries.blueprint.di.AbstractRecipe$1.call(AbstractRecipe.java:71)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:314)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:149)\r\n\tat org.apache.aries.blueprint.di.AbstractRecipe.create(AbstractRecipe.java:79)\r\n\tat org.apache.aries.blueprint.container.BlueprintRepository.createInstances(BlueprintRepository.java:220)\r\n\tat org.apache.aries.blueprint.container.BlueprintRepository.createAll(BlueprintRepository.java:154)\r\n\tat org.apache.aries.blueprint.container.BlueprintContainerImpl.instantiateEagerComponents(BlueprintContainerImpl.java:630)\r\n\tat org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:326)\r\n\tat org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:228)\r\n\tat org.apache.aries.blueprint.utils.threading.impl.DiscardableRunnable.run(DiscardableRunnable.java:48)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:452)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:314)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:149)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:109)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:218)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:897)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:919)\r\n\tat java.lang.Thread.run(Thread.java:736)\r\nCaused by: java.lang.NoClassDefFoundError: org.apache.openjpa.enhance.PersistenceCapable\r\n\tat java.lang.ClassLoader.defineClassImpl(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:275)\r\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:188)\r\n\tat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:601)\r\n\tat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:567)\r\n\tat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:490)\r\n\tat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_LockClassLoader(ClasspathManager.java:478)\r\n\tat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:458)\r\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:216)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:400)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:476)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:429)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:417)\r\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:619)\r\n\tat java.lang.Class.forNameImpl(Native Method)\r\n\tat java.lang.Class.forName(Class.java:172)\r\n\tat org.apache.openjpa.meta.MetaDataRepository.classForName(MetaDataRepository.java:1552)\r\n\tat org.apache.openjpa.meta.MetaDataRepository.loadPersistentTypesInternal(MetaDataRepository.java:1528)\r\n\tat org.apache.openjpa.meta.MetaDataRepository.loadPersistentTypes(MetaDataRepository.java:1506)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.loadPersistentTypes(AbstractBrokerFactory.java:282)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.initializeBroker(AbstractBrokerFactory.java:238)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:212)\r\n\tat org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:156)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:227)\r\n\tat com.ibm.ws.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:50)\r\n\tat com.ibm.ws.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:35)\r\n\tat org.apache.aries.jpa.container.impl.CountingEntityManagerFactory.createEntityManager(CountingEntityManagerFactory.java:65)\r\n\tat Proxy476b6bea_8a4d_42a3_ba7d_e0257275a826.createEntityManager(Unknown Source)\r\n\tat com.ibm.osgi.jpa.jpa2.NewAPITest.primeDB(NewAPITest.java:86)\r\n\tat com.ibm.osgi.jpa.jpa2.NewAPITest.before(NewAPITest.java:35)\r\n\t... 31 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.openjpa.enhance.PersistenceCapable\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:513)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:429)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:417)\r\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:619)\r\n\t... 62 more\r\n\r\nI am using Apache Aries with Composite Bundles in order to run my application. Due to the fact that we are using OSGi 4.3 we are using the JPAWeavingHook to perform load time enhancement of our entities. The JPAWeavingHook makes use of the org.apache.aries.jpa.container.weaving.impl.WrappingTransformer to help it determine which packages need to be added as dynamic imports. It contains the following code:\r\n\r\n  public WrappingTransformer(ClassTransformer delegate,\r\n      ServiceReference<?> persistenceProvider) {\r\n\r\n    if(delegate == null) \r\n      throw new NullPointerException(NLS.MESSAGES.getMessage(\"jpa.weaving.null.transformer\"));\r\n    \r\n    if(persistenceProvider == null) {\r\n      throw new NullPointerException(NLS.MESSAGES.getMessage(\"jpa.weaving.null.provider\"));\r\n    }\r\n    \r\n    this.delegate = delegate;\r\n    \r\n    Object packages = persistenceProvider.getProperty(\"org.apache.aries.jpa.container.weaving.packages\");\r\n    \r\n    Bundle provider = persistenceProvider.getBundle();\r\n    String suffix = \";\" + Constants.BUNDLE_SYMBOLICNAME_ATTRIBUTE + \"=\" +\r\n    provider.getSymbolicName() + \";\" + Constants.BUNDLE_VERSION_ATTRIBUTE \r\n    + \"=\" + provider.getVersion();\r\n    \r\n    if(packages instanceof String[]) {\r\n      for(String s : (String[]) packages) {\r\n        if (s.contains(Constants.BUNDLE_SYMBOLICNAME_ATTRIBUTE)) packageImportsToAdd.add(s);\r\n        else packageImportsToAdd.add(s + suffix);\r\n      }\r\n    } else {\r\n      BundleRevision br = provider.adapt(BundleWiring.class).getRevision();\r\n      for(BundleCapability bc : br.getDeclaredCapabilities(BundleRevision.PACKAGE_NAMESPACE)) {\r\n        packageImportsToAdd.add(bc.getAttributes().get(BundleRevision.PACKAGE_NAMESPACE) + suffix);\r\n      }\r\n    }\r\n  }\r\n\r\nThe problem is that the suffix is meant to tie the dynamic imports to the persistence provider bundle so that they only work if the packages come from that bundle. When using Composite Bundles, however, the bundle that provides those packages will be the surrogate bundle and not the original persistence provider bundle. This results in the ClassNotFoundException listed above. As a workaround I can remove the suffix so that the imports can be used from any bundle, but I am not sure what the long term fix should be that would allow the JPAWeavingHook to work both with and without Composite Bundles.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"166205","summary":"Problem with JPAWeavingHook in an environment that uses Composite Bundles","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"I am using Equinox org.eclipse.osgi_3.7.2.R37x_v20111028-1418.jar with Apache Aries revision 1187719","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":8,"total":8,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537900/comment/13185685","id":"13185685","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"body":"Adding a patch to address this issue","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"created":"2012-01-13T17:24:29.360+0000","updated":"2012-01-13T17:24:29.360+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537900/comment/13186821","id":"13186821","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"body":"Hi Brian,\r\n\r\nHaving reviewed the patch I have significant reservations about adding it to the codebase. Composites are a deprecated feature of Eclipse, that are entirely replaced by Resolver Hooks. I would not want to add more complex code to special case the structure of your environment.\r\n\r\nThere is also a much simpler fix for your issue - you highighted the following code:\r\n\r\n if(packages instanceof String[]) {\r\n      for(String s : (String[]) packages) {\r\n        if (s.contains(Constants.BUNDLE_SYMBOLICNAME_ATTRIBUTE)) packageImportsToAdd.add(s);\r\n        else packageImportsToAdd.add(s + suffix);\r\n      }\r\n    }\r\n\r\nLooking closely, wouldn't the simplest fix for you be to add the weaving packages property (complete with bundle-symbolicname attributes) to your Persistence Provider service? This would not need any change to the JPA container, and is how it was intended to be used.\r\n\r\nTim","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"created":"2012-01-16T09:50:53.386+0000","updated":"2012-01-16T09:50:53.386+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537900/comment/13187141","id":"13187141","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"body":"Hi Tim,\r\n\r\nThanks for the response. I did consider your suggested solution, but the problem that I have is that the packages are exported by the surrogate bundle in the composite framework. Unfortunately, I don't know the bundle symbolic name of the surrogate bundle at the time that the packages are added as a property of the persistence provider service, as it is generated based on the application that is installed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"created":"2012-01-16T19:55:01.928+0000","updated":"2012-01-16T19:55:01.928+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537900/comment/13188766","id":"13188766","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"body":"If I interpret your last comment correctly, would adding the weaving packages property to your service (without a bundle symbolic name attribute) and changing:\r\n\r\nif(packages instanceof String[]) {\r\n      for(String s : (String[]) packages) {\r\n        if (s.contains(Constants.BUNDLE_SYMBOLICNAME_ATTRIBUTE)) packageImportsToAdd.add(s);\r\n        else packageImportsToAdd.add(s + suffix);\r\n      } \r\n\r\nto :\r\n\r\nif(packages instanceof String[]) {\r\n      for(String s : (String[]) packages) {\r\n        packageImportsToAdd.add(s);\r\n      } \r\n\r\nwork for you?\r\n\r\nIt's much less invasive to the code, doesn't add any special knowledge of composites, and as there hasn't been a release of the JPA weaving function it can't break any existing releases. As you can use the Composite to control which imports are available through the Surrogate it gives exactly the same level of control. What do you think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"created":"2012-01-18T22:35:32.549+0000","updated":"2012-01-18T22:35:32.549+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537900/comment/13189125","id":"13189125","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"body":"Hi Tim,\r\n\r\nThat change would work for me. My proposed fix was an attempt to avoid the suffix so removing it entirely would be good.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"created":"2012-01-19T14:15:11.839+0000","updated":"2012-01-19T14:15:11.839+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537900/comment/13191147","id":"13191147","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"body":"Adding a new patch that takes into account the discussion that I have had with Tim","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"created":"2012-01-23T13:27:00.570+0000","updated":"2012-01-23T13:27:00.570+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537900/comment/13194844","id":"13194844","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"body":"Adding new patch containing test modification","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pradine","name":"pradine","emailAddress":"pradine at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brian DePradine","active":true},"created":"2012-01-27T15:19:15.789+0000","updated":"2012-01-27T15:19:15.789+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537900/comment/13197691","id":"13197691","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"body":"Code fixed as per discussion. Unit tests refactored to provide more specific result reporting, added one new test to verify the fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"created":"2012-02-01T08:45:17.103+0000","updated":"2012-02-01T08:45:17.103+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-808/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0st6n:"}}