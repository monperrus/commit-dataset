{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"32972","self":"https://issues.apache.org/jira/rest/api/latest/issue/32972","key":"DERBY-324","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311953","id":"12311953","description":"","name":"10.1.3.1","archived":false,"released":true,"releaseDate":"2006-06-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2005-06-02 08:15:39.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"21898","customfield_12310222":"3_*:*_1_*:*_5117969000_*|*_1_*:*_1_*:*_1622558000_*|*_6_*:*_2_*:*_22892934000_*|*_5_*:*_1_*:*_236952000_*|*_4_*:*_1_*:*_192000000","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-05-13T21:35:23.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-324/watchers","watchCount":0,"isWatching":false},"created":"2005-05-30T22:55:10.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-05-13T21:35:23.000+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"The store/aes.sql test on Solaris 10 produces the following diff report:\n\n*** Start: aes jdk1.4.2_02 2005-05-30 12:13:17 ***\n206 del\n< ERROR XJ001: Java exception: 'Wrong keysize: must be equal to 128, 192 or 256: java.security.InvalidParameterException'.\n206a206\n> ERROR XJ001: Java exception: 'AES key length must be 128, 192, or 256 bits: java.security.InvalidParameterException'.\nTest Failed.\n*** End:   aes jdk1.4.2_02 2005-05-30 12:14:06 ***\n\nThe cause of this problem is that on most OSs, the java.security.InvalidParameterException thrown by the JVM when an invalid encryption key length is requested contains a message with the following text:\n\n  Wrong keysize: must be equal to 128, 192 or 256\n\nwhile on Solaris 10 the message contained in the exception has been changed to:\n\n  AES key length must be 128, 192, or 256 bits\n\nThe reason for this is most likely that a different encryption library is included in Solaris 10 compared\nto the other OSs, either as part of the JVM or as a native library.\n\nThe problem occurs on Solaris 10 running on both x86 and Sparc processors. It occurs both with jdk 1.4 and jdk 1.5.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"40696","summary":"AES encryption test fails on Solaris 10","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Solaris 10 (both Sparc and x86) jdk 1.4 and 1.5.","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":9,"total":9,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/32972/comment/66807","id":"66807","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"From this description I cannot find out if this is really ok behavior or not.\r\n\r\nIf someone from Sun can pull some strings & find out it would help.\r\n\r\nIf the behavior is OK, then we are seeing a false diff, and it could be worked around by modifying the store/aes_sed.properties file.\r\nSomething like: \r\ncurrently:\r\nsubstitute=ERROR XJ001: Java exception: 'Keysize must;ERROR XJ001: Java exception: 'Wrong keysize: must\r\n\r\nchange it to:\r\nsubstitute=ERROR XJ001: Java exception: 'Keysize must;ERROR XJ001: Java exception: 'Wrong keysize: must,ERROR XJ001: Java exception: 'AES key length must be 128, 192, or 256 bits: java.security.InvalidParameterException,ERROR XJ001: Java exception: 'Wrong keysize: must be equal to 128, 192 or 256: java.security.InvalidParameterException","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2005-06-02T08:15:39.000+0000","updated":"2005-06-02T08:15:39.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/32972/comment/66808","id":"66808","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"The behavior is OK. I think its only error message diff needs to be sed out.\r\n \r\nIt would be great if someone who has access to the solaris machine/env where the diff occurred can test out by modifying the aes_sed.properties as Myrna suggested.   \r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2005-06-02T08:30:40.000+0000","updated":"2005-06-02T08:30:40.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/32972/comment/66855","id":"66855","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"body":"I too think this behavior is OK. The message text returned with the exception basically gives the\r\nsame explaination for why the operation failed. There is no reason for why we can expect message\r\nstrings like this be the same between platforms.\r\n\r\nI will test out the sed filter proposed by Myrna on a few Solaris 10 machines.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"created":"2005-06-02T21:38:52.000+0000","updated":"2005-06-02T21:38:52.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/32972/comment/12313394","id":"12313394","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"body":"I have tried to modify the aes_sed.properties file as suggested by Myrna. I had to trim down the size of the pattern/substitute parts to get rid of all the commas in the message strings. Unfortunately, I still have a problem with one comma. The original error message seen on most platforms contains the following sub-string:\r\n\r\n   128, 192 or 256\r\n\r\nwhile the new message string seen on Solaris 10 contains an extra comma:\r\n\r\n   128, 192, or 256\r\n\r\nSince neither the pattern nor the substitute part of the sed script are allowed to contain a comma, I am unable to get rid of the comma after 192. Any suggestions on how I can use the aes_sed.properties script to get rid of this or alternative ways to make the output from this test match the master file?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"created":"2005-06-13T04:05:25.000+0000","updated":"2005-06-13T04:05:25.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/32972/comment/12313813","id":"12313813","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"body":"This patch fixes a problem in the AES test when running it on Solaris 10.  The problem occurred due to a exception message text has been changed on Solaris 10. The problem is fixed by extending the substitute section of the aes_sed.properties file.\r\n\r\nderbyall has been run on Solaris10 (sparc and x86) to verify that the problem is gone and on Solaris9 (sparc and x86) and Linux to verify that the change\r\ndoes not influence on JVM producing the original error message text.  Although some tests failed none of these seems related to this fix.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"created":"2005-06-16T19:22:57.000+0000","updated":"2005-06-16T19:22:57.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/32972/comment/12318897","id":"12318897","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"body":"comitted","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"created":"2005-08-16T23:17:16.000+0000","updated":"2005-08-16T23:17:16.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/32972/comment/12319335","id":"12319335","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"body":"The AES encryption test runs without errors on Solaris 10.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olav","name":"olav","emailAddress":"olav dot sandstaa at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Olav Sandstaa","active":true},"created":"2005-08-19T17:06:29.000+0000","updated":"2005-08-19T17:06:29.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/32972/comment/12379052","id":"12379052","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"body":"Merge to 10.1.3","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"created":"2006-05-11T16:15:23.000+0000","updated":"2006-05-11T16:15:23.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/32972/comment/12383390","id":"12383390","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"body":"Committed revision 406114 on 10.1 branch\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"created":"2006-05-13T21:35:23.000+0000","updated":"2006-05-13T21:35:23.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-324/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i07bwv:"}}