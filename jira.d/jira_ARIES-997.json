{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12626078","self":"https://issues.apache.org/jira/rest/api/latest/issue/12626078","key":"ARIES-997","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310981","id":"12310981","key":"ARIES","name":"Aries","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310981&avatarId=10065","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310981&avatarId=10065","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310981&avatarId=10065","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310981&avatarId=10065"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10520","id":"10520","description":"Apache Aries","name":"Aries"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-01-07 21:35:02.462","customfield_12312323":null,"customfield_12310420":"302661","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_271240565_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2013-01-07T21:35:02.438+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-997/watchers","watchCount":2,"isWatching":false},"created":"2013-01-04T18:14:21.909+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-01-07T21:35:02.468+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313494","id":"12313494","name":"Subsystem"}],"timeoriginalestimate":null,"description":"The old Aries Application support (implemented using equinox composite bundles) has support for a header Application-ImportService.  This header has a different intention than the subsystems specified Subsystem-ImportService header.\r\n\r\nThe Subsystem-ImportService header is intended to be used by composite subsystem types only and is used to specify the import sharing policy for services.  For subsystems the imported services are expected to be provided by some provider (bundle) which is visible in the parent subsystem of the composite which is importing the service.\r\n\r\nThe Application-ImportService header on the other hand is used to specify services which are expected to be provided by some remote service technology, for example SCA.  For Aries applications no resources are provisioned to satisfy the service requirements specified by the Application-ImportService header.  Instead, at provisioning time the Aries application support mocks up a resource that provides service capabilities that can be used to resolve service requirements from the resources (bundles) included in an EBA that is being provisioned.\r\n\r\nThis issue proposes that the Aries Subsystem implementation should add support for the Application-ImportService header that is similar in behavior to the Aries Application support.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"249711","summary":"Support for the Aries Application header Application-ImportService","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tjwatson","name":"tjwatson","emailAddress":"tjwatson at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Watson","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tjwatson","name":"tjwatson","emailAddress":"tjwatson at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Watson","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":2,"total":2,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12626078/comment/13544265","id":"13544265","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tjwatson","name":"tjwatson","emailAddress":"tjwatson at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Watson","active":true},"body":"Here is a possible fix.  This solution adds a new \"fake\" resource the the LocalRepository for subsystems that are being installed which have an Application-ImportService header.  The fake resource has no requirements and only contains osgi.service capabilities that can be used to satisfy the imported services specified by the Application-ImportService header.  \r\n\r\nThese capabilities can then be used during resolution to help resolve and osgi.service requirements from content resources when provisioning the ESA.\r\n\r\nI introduced a new internal resource type (aries.subsystem.fake.resource) that is used to indicate to the ResourceInstaller to ignore the fake resources during installation.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tjwatson","name":"tjwatson","emailAddress":"tjwatson at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Watson","active":true},"created":"2013-01-04T21:20:10.237+0000","updated":"2013-01-04T21:20:10.237+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12626078/comment/13546287","id":"13546287","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"body":"Patch contents committed with http://svn.apache.org/viewvc?view=revision&revision=1430023.\r\n\r\nI changed the resource type constant to org.apache.aries.subsystem.resource.synthesizedand moved it to a Constants class. The dependency calculator uses thesame constant.I also removed the \"filter\"constant and reused an already existing one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"created":"2013-01-07T21:35:02.462+0000","updated":"2013-01-07T21:35:02.462+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-997/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i174l3:"}}