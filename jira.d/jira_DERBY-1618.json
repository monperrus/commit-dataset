{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12346997","self":"https://issues.apache.org/jira/rest/api/latest/issue/12346997","key":"DERBY-1618","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-08-18 20:14:48.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22601","customfield_12310222":"1_*:*_1_*:*_3868914000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_109214000","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-09-14T16:50:18.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1618/watchers","watchCount":0,"isWatching":false},"created":"2006-07-31T22:08:24.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-01T17:05:32.572+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"bootAll test fails on ibm131, wctme5.7.\r\n\r\n********* Diff file derbyall/storeall/storemore/BootAllTest.diff\r\n*** Start: BootAllTest jdk1.3.1 storeall:storemore 2006-07-30 06:35:16 ***\r\n0 add\r\n> .F\r\n> There was 1 failure:\r\n> 1) testSettingBootAllPropertyWithHomePropertySet(org.apache.derbyTesting.functionTests.tests.store.BootAllTest)junit.framework.AssertionFailedError: The number of databases should be expected:<3> but was:<0>\r\n> FAILURES!!!\r\n> Tests run: 1,  Failures: 1,  Errors: 0\r\nTest Failed.\r\n*** End:   BootAllTest jdk1.3.1 storeall:storemore 2006-07-30 06:35:35 ***\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10420","value":"Regression","id":"10420"},{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38408","summary":"store/BootAllTest.junit fails on with jdk13 based jvms","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"windows. (insane jars) 10.2.0.5 alpha - (426734)\r\n","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":13,"total":13,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12429111","id":"12429111","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stan","name":"stan","emailAddress":"Stan dot Bradbury at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stan Bradbury","active":true},"body":"Same failure on SLES 9 using IBM131 SR10 - testing 10.2.1.0 beta","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stan","name":"stan","emailAddress":"Stan dot Bradbury at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Stan Bradbury","active":true},"created":"2006-08-18T20:14:48.000+0000","updated":"2006-08-18T20:14:48.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12431379","id":"12431379","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"There are actually 2 failing behaviors with this test\r\n\r\n- jdk131/ibm131: 3 databases expected, was 3 (stack 1 below)\r\n  But the databases are actually there.\r\n- wsdd5.6/wctme5.7/wctme5.7_foundation:\r\n  AccessPropertylPermission framework read denied (stack 2 below)\r\n  Odd because these environments don't run with security manager from the 'old' test harness, so not sure how it can give this error.\r\n\r\nstack1: \r\nThere was 1 failure:\r\n1) testSettingBootAllPropertyWithHomePropertySet(org.apache.derbyTesting.functionTests.tests.store.BootAllTest)junit.framework.AssertionFailedError: The number of databases should be expected:<3> but was:<0>\r\n\tat org.apache.derbyTesting.functionTests.tests.store.BootAllTest.testSettingBootAllPropertyWithHomePropertySet(BootAllTest.java:129)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76)\r\n\r\nstack 2:\r\nThere was 1 error:\r\n1) testSettingBootAllPropertyWithHomePropertySet(org.apache.derbyTesting.functionTests.tests.store.BootAllTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission framework read)\r\n\tat java.security.AccessController.checkPermission(AccessController.java:74)\r\n\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:612)\r\n\tat java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:366)\r\n\tat java.lang.System.getProperty(System.java:319)\r\n\tat java.lang.System.getProperty(System.java:301)\r\n\tat org.apache.derbyTesting.functionTests.util.TestUtil$1.run(TestUtil.java:177)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:147)\r\n\tat org.apache.derbyTesting.functionTests.util.TestUtil.getFramework(TestUtil.java:174)\r\n\tat org.apache.derbyTesting.functionTests.util.TestUtil.getDataSourcePrefix(TestUtil.java:391)\r\n\tat org.apache.derbyTesting.functionTests.util.TestUtil.getSimpleDataSource(TestUtil.java:330)\r\n\tat org.apache.derbyTesting.functionTests.util.TestUtil.getDataSource(TestUtil.java:324)\r\n\tat org.apache.derbyTesting.functionTests.util.TestDataSourceFactory.getDataSource(TestDataSourceFactory.java:47)\r\n\tat org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:336)\r\n\tat org.apache.derbyTesting.junit.BaseJDBCTestCase.openConnection(BaseJDBCTestCase.java:197)\r\n\tat org.apache.derbyTesting.functionTests.tests.store.BootAllTest.setUp(BootAllTest.java:58)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76)\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-08-29T21:40:24.000+0000","updated":"2006-08-29T21:40:24.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12431712","id":"12431712","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"This second problem is now logged as DERBY-1785.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-08-30T21:46:19.000+0000","updated":"2006-08-30T21:46:19.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12431731","id":"12431731","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"modifying the title to move this failure onto the general radar.\r\n\r\nSo far I've narrowed down the problem to when the test is accessing the field DriverPropertyInfo.choices. \r\n\r\nNote that I would've expected this access to get tested in the test lang/GetPropertyInfoTest.java, but it's not there - nor are the fields description or required. \r\n\r\nThe problem appears that the services array isn't populated the same way with jdk131 as it is with jdk142 - the method startProviderService from java/engine/org/apache/derby/impl/services/monitor/BaseMonitor never gets called with jdk131.\r\n\r\n\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-08-30T22:24:42.000+0000","updated":"2006-08-30T22:24:42.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12432191","id":"12432191","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Attaching a patch which I think addresses this issue. \r\nThe patch changes these files:\r\nM      java\\engine\\org\\apache\\derby\\impl\\io\\DirStorageFactory.java\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\GetPropertyInfoTest.java\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\master\\GetPropertyInfoTest.out\r\n\r\nIt appeared to me that for some reason, with jdk131, in the situation invoked by the testSettingBootAllPropertyWithHomePropertySet() test in BootAllTest.java, when the DriverPropertyInfo.choices were accessed, the problem was because in BaseMonitor.java there were no elements found resulting from provider.getBootTimeServices(), which was because in StorageFactoryService the following:\r\n                            StorageFile properties = storageFactory.newStorageFile( PersistentService.PROPERTIES_NAME);\r\n                            if (!properties.exists())\r\nresulted in no properties files found. Here, however, I found that the properties with jdk14 had a path prepended, but jdk13 did not. \r\nAnd this was because of DirStorageFactory4 prepending the canonicalName, but DirStorageFactory not.\r\n\r\nSo this patch copies a section of code of DirStorageFactory4.\r\nThat fixes the failure in BootAllTest.java with jdk131 and ibm131. Derbyall passes with jdk14 (except for failure in CheckDataSource, which also fails in nightlies, so is unrelated). Still running with ibm131.\r\n\r\nIf a reviewer has a suggestion of where this can be placed better, I'd be interested. \r\n\r\nI modified the test lang/GetPropertyInfoTest.java to access the choices, description, and required fields, but it didn't actually duplicate the problem in BootAllTest.java. But as that's in that test I thought it was unnecessary to add more...\r\n\r\n\r\n\r\n\r\n\r\nPoking further showed that th\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-09-01T17:32:34.000+0000","updated":"2006-09-01T17:32:34.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12432354","id":"12432354","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"No further poking showed anything - that last bit in my previous comment should've gotten deleted. \r\n\r\nibm131 results showed no new failures (encryption failed because of the really old jvm version I had on the machine, it does the same with other derby versions).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-09-03T16:12:35.000+0000","updated":"2006-09-03T16:12:35.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12433274","id":"12433274","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"Thanks for working on this bug, Mryna.  I briefly looked at the patch, \r\nthis issue seems to be related to the DERBY-1296, fix for that seems to have \r\naddressed the problem on jdk14 jvms and above, but not on jvms version before that. \r\n\r\nFollowing code you copied to DirStorageFactory.java from DirStorageFactor4.java\r\n\r\n+        String dir = dataDirectory;\r\n+        if (canonicalName != null && path != null && home != null && \r\n+                !path.startsWith(home)) {\r\n+            dir = canonicalName;\r\n\r\nis not the ideal fix.  I think  dataDirecroy , should get set to the correct\r\nvalue in the DirStorageFactory.doInit() throws IOException method. \r\n\r\n\r\nI think there is also another method in DirStorageFactory.java/DirStorageFactory4.java,\r\nwhere the  database directory may be set to a wrong value. \r\n\r\nStorageFile newPersistentFile( String directoryName, String fileName)\r\n{\r\n        return new DirFile( separatedDataDirectory + directoryName, fileName);\r\n}\r\n\r\n\r\nif the dataDirectory value is wrong for the method you are fixing , I am sure\r\nthe above method also will get the wrong path. I think instead of adding checks\r\nfor individual methods;   dataDirectory  should get set to the correct value\r\nin the doInit() method. \r\n\r\nThanks for updating the GetPropertyInfoTest.java to print all the fields. \r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2006-09-07T23:25:49.000+0000","updated":"2006-09-07T23:25:49.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12433760","id":"12433760","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Here's a patch - DERBY-1618_20060910.* - which tries to force the correct value for dataDirectory in the doInit() method of DirStorageFactory.\r\nI hope this is what was intended...Again I've run derbyall with jdk14 and ibm13 without seeing new failures.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-09-11T03:10:54.000+0000","updated":"2006-09-11T03:10:54.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12434273","id":"12434273","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"I reviewed the latest patch, it  look good.   I wanted to  check with you couple of small  changes in the diff file, \r\nbefore committing  the patch. \r\n \r\n1)   How  is the following change in the diff is related to this bug fix ?\r\nName: svn:externals\r\n\r\n   - derby/10.1 https://svn.apache.org/repos/asf/db/derby/jars/10.1.1.0\r\n\r\n + derby/10.1 https://svn.apache.org/repos/asf/db/derby/jars/10.1.3.1\r\n\r\n\r\n2)  There are some new  println() statements in BootAllTest.java , which are commented out.  I typically remove such debug statements, once I  find the problem.   I am ok , if you  would  like to keep them there. \r\n\r\n+println(\" start testSettingBootAllPropertyWithHomePropertySet \");\r\n+        //println(\" attributes length:  \" + attributes.length);\r\n //println(\" attributes[\" + i + \"].name\"  + attributes[i].name);\r\n...etc.\r\n\r\n\r\n\r\nThanks\r\n/suresh\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2006-09-12T20:57:34.000+0000","updated":"2006-09-12T20:57:34.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12434288","id":"12434288","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Thx for looking at the patch and apologies for the unrelated changes that I left in.\r\n\r\nAttached patch - DERBY-1618_20060912.* - reverts those mistakenly left modified things - the BootAllTest.java should've been left untouched, and the externals for the 10.1 jars were modified for another bug.\r\n\r\nApart from those, this patch is the same as the one from Sept 10, I haven't even done a sync in between.\r\n\r\nAs the relevant parts have not changed (I did not run upgrade tests on this machine, so the externals setting didn't matter to my test run, and the println statements don't affect the BootAllTest unless you run with derby.tests.debug=true) I can't imagine the reverting of those 2 issues to impact the behavior, so I'm not rerunning the tests...\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-09-12T21:38:32.000+0000","updated":"2006-09-12T21:38:32.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12434495","id":"12434495","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"Committed DERBY-1618_20060912.diff to trunk on revision 443038.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2006-09-13T17:23:52.000+0000","updated":"2006-09-13T17:23:52.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12434732","id":"12434732","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"fixed in 10.3 - leaving open until this has gotten merged into 10.2.1. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-09-14T16:50:17.000+0000","updated":"2006-09-14T16:50:17.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346997/comment/12435147","id":"12435147","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"mega-merged into 10.2 with 446709.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-09-15T23:10:32.000+0000","updated":"2006-09-15T23:10:32.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1618/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06xsf:"}}