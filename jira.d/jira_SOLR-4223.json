{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12624808","self":"https://issues.apache.org/jira/rest/api/latest/issue/12624808","key":"SOLR-4223","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310230","id":"12310230","key":"SOLR","name":"Solr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310230&avatarId=22151","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310230&avatarId=22151","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310230&avatarId=22151"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321141","id":"12321141","description":"Major release after 4.0","name":"4.1","archived":false,"released":true,"releaseDate":"2013-01-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12321664","id":"12321664","description":"Current trunk","name":"Trunk","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-12-20 13:42:39.329","customfield_12312323":null,"customfield_12310420":"301316","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_377132200_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-12-24T21:27:49.239+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-4223/watchers","watchCount":5,"isWatching":false},"created":"2012-12-20T12:42:17.066+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":["configuration"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12322551","id":"12322551","description":"First major release from the 4.x branch: http://svn.apache.org/viewvc/lucene/dev/branches/branch_4x/","name":"4.0","archived":false,"released":true,"releaseDate":"2012-10-12"}],"issuelinks":[{"id":"12362687","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12362687","type":{"id":"12310051","name":"Supercedes","inward":"is superceded by","outward":"supercedes","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310051"},"inwardIssue":{"id":"12626085","key":"SOLR-4265","self":"https://issues.apache.org/jira/rest/api/2/issue/12626085","fields":{"summary":"Fix decoding of GET/POST parameters for servlet containers with non-UTF-8 URL parsing (Tomcat)","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shalinmangar","name":"shalinmangar","emailAddress":"shalin dot mangar at lucidworks dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shalinmangar&avatarId=19501","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shalinmangar&avatarId=19501","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shalinmangar&avatarId=19501","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shalinmangar&avatarId=19501"},"displayName":"Shalin Shekhar Mangar","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-01-24T06:33:52.756+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310674","id":"12310674","name":"search","description":"Query the search collection"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12319802","id":"12319802","name":"Tests","description":"Test issue"}],"timeoriginalestimate":null,"description":"In jetty.xml, the cofiguration to set the maximum form content size does not work, because jetty contextHandler reads System property org.eclipse.jetty.server.Request.maxFormContentSize.\r\n\r\nIn CotextHandler.java line 137, the method call \"Integer.getInteger(\"org.eclipse.jetty.server.Request.maxFormContentSize\",200000).intValue();\" returns always the default value 200000 regardless what is set below.\r\n\r\nSo instead of:\r\n<Call name=\"setAttribute\">\r\n   <Arg>org.eclipse.jetty.server.Request.maxFormContentSize</Arg>\r\n   <Arg>400000</Arg>\r\n</Call>\r\n\r\nReplace with: \r\n<Call class=\"java.lang.System\" name=\"setProperty\">\r\n    <Arg>org.eclipse.jetty.server.Request.maxFormContentSize</Arg>\r\n    <Arg>400000</Arg>\r\n</Call>\r\n\r\nPS:\r\nThere are other ways to set this config limit in commandline like -Dorg.eclipse.jetty.server.Request.maxFormContentSize=700000 or in web-jetty.xml which works fine.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"247609","summary":"jetty8 with solr4.0: In jetty.xml maxFormContentSize configuration needs Fixing","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vnathan","name":"vnathan","emailAddress":"ksrivisagan at bloomberg dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nathan Visagan","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vnathan","name":"vnathan","emailAddress":"ksrivisagan at bloomberg dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nathan Visagan","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":14,"total":14,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13537002","id":"13537002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vnathan","name":"vnathan","emailAddress":"ksrivisagan at bloomberg dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nathan Visagan","active":true},"body":"This has been already raised in the comments of https://issues.apache.org/jira/browse/SOLR-3159\r\n But still unresolved.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vnathan","name":"vnathan","emailAddress":"ksrivisagan at bloomberg dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nathan Visagan","active":true},"created":"2012-12-20T12:50:39.749+0000","updated":"2012-12-20T12:52:37.407+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13537019","id":"13537019","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shalinmangar","name":"shalinmangar","emailAddress":"shalin dot mangar at lucidworks dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shalinmangar&avatarId=19501","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shalinmangar&avatarId=19501","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shalinmangar&avatarId=19501","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shalinmangar&avatarId=19501"},"displayName":"Shalin Shekhar Mangar","active":true},"body":"This should also work.\r\n\r\n{code}\r\n<Call name=\"setMaxFormContentSize\">\r\n<Arg>400000</Arg>\r\n</Call>\r\n{code}\r\n\r\nCan you verify?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shalinmangar","name":"shalinmangar","emailAddress":"shalin dot mangar at lucidworks dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shalinmangar&avatarId=19501","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shalinmangar&avatarId=19501","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shalinmangar&avatarId=19501","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shalinmangar&avatarId=19501"},"displayName":"Shalin Shekhar Mangar","active":true},"created":"2012-12-20T13:42:39.329+0000","updated":"2012-12-20T13:42:39.329+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13537025","id":"13537025","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vnathan","name":"vnathan","emailAddress":"ksrivisagan at bloomberg dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nathan Visagan","active":true},"body":"It does not work in jetty.xml.\r\n{code}\r\n<Call name=\"setMaxFormContentSize\">\r\n<Arg>400000</Arg>\r\n</Call>\r\n{code}\r\n\r\nNo method called setMaxFormContentSize is found in class org.eclipse.jetty.server.Server\r\nBut you can do \r\n{code}\r\n<Configure class=\"org.eclipse.jetty.webapp.WebAppContext\">\r\n  <Set name=\"maxFormContentSize\">400000</Set>\r\n</Configure>\r\n{code} \r\nin web-jetty.xml. But this is a setting file in WEB-INF folder which can override the settings mentioned in jetty.xml.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vnathan","name":"vnathan","emailAddress":"ksrivisagan at bloomberg dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nathan Visagan","active":true},"created":"2012-12-20T13:59:08.961+0000","updated":"2012-12-20T18:20:59.766+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13537243","id":"13537243","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"body":"Why do we need to set this at all?\r\nWe read POST content by an InputStream, but we are never interested in the contents interpreted as form-content at all?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"created":"2012-12-20T18:38:48.860+0000","updated":"2012-12-20T18:38:48.860+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13537264","id":"13537264","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vnathan","name":"vnathan","emailAddress":"ksrivisagan at bloomberg dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nathan Visagan","active":true},"body":"This happens when I submit a query\r\n{code}\r\ncurl -X POST -d @query.txt http://localhost:8787/solr/select\r\n{code}\r\nquery.txt is the file containg the query","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vnathan","name":"vnathan","emailAddress":"ksrivisagan at bloomberg dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nathan Visagan","active":true},"created":"2012-12-20T19:02:00.237+0000","updated":"2012-12-20T19:02:00.237+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13537765","id":"13537765","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dancollins","name":"dancollins","emailAddress":"danwcollins at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel Collins","active":true},"body":"As nathan says we are seeing errors in Solr, such as:\r\n\r\n{code}\r\n05:53:44 newssolr:ERROR o.a.solr.servlet.SolrDispatchFilter - null:java.lang.IllegalStateException: Form too large348594>200000\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.Request.extractParameters(Request.java:285)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.Request.getParameterMap(Request.java:711)\r\n05:53:44 newssolr:~at org.apache.solr.request.ServletSolrParams.<init>(ServletSolrParams.java:29)\r\n05:53:44 newssolr:~at org.apache.solr.servlet.StandardRequestParser.parseParamsAndFillStreams(SolrRequestParsers.java:394)\r\n05:53:44 newssolr:~at org.apache.solr.servlet.SolrRequestParsers.parse(SolrRequestParsers.java:115)\r\n05:53:44 newssolr:~at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:260)\r\n05:53:44 newssolr:~at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1307)\r\n05:53:44 newssolr:~at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:453)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\r\n05:53:44 newssolr:~at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:559)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1072)\r\n05:53:44 newssolr:~at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:382)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1006)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.Server.handle(Server.java:365)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:485)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:926)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:988)\r\n05:53:44 newssolr:~at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:642)\r\n05:53:44 newssolr:~at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:72)\r\n05:53:44 newssolr:~at org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:264)\r\n05:53:44 newssolr:~at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\r\n05:53:44 newssolr:~at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\r\n05:53:44 newssolr:~at java.lang.Thread.run(Thread.java:619)\r\n{code}\r\n\r\nWe have very long queries (we are testing the XML parser) so we POST data instead of GET.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dancollins","name":"dancollins","emailAddress":"danwcollins at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel Collins","active":true},"created":"2012-12-21T09:10:29.785+0000","updated":"2012-12-21T09:10:29.785+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13537773","id":"13537773","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"Running a very recent branch_4x.  I have this in jetty.xml:\r\n\r\n{noformat}\r\n<Configure id=\"Server\" class=\"org.eclipse.jetty.server.Server\">\r\n\r\n    <!-- Increase the maximum POST size to 1 MB to be able to handle large shard requests -->\r\n    <Call name=\"setAttribute\">\r\n      <Arg>org.eclipse.jetty.server.Request.maxFormContentSize</Arg>\r\n      <Arg>1048576</Arg>\r\n    </Call>\r\n{noformat}\r\n\r\nBy artificially making my code add 200000 spaces to a deleteByQuery, I duplicated this issue:\r\n\r\n{noformat}\r\nERROR - 2012-12-21 02:29:00.108; org.apache.solr.common.SolrException; null:java.lang.IllegalStateException: Form too large200077>200000\r\n        at org.eclipse.jetty.server.Request.extractParameters(Request.java:326)\r\n{noformat}\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2012-12-21T09:34:40.147+0000","updated":"2012-12-21T09:34:40.147+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13538648","id":"13538648","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"As noted in SOLR-3159, we're already using hte jetty recommended method for \"Changing the Maximum Form Size for All Apps on a Server\" -- except that apparently that doesn't actually work.\r\n\r\nThe attached patch seems to fix this by setting it in the solr context file -- i was hoping to write a junit test to sanity check it moving forward, but all the solr example tests use the \"JettySolrRunner\" to test out hte _solr_ example configs in a jetty instance wired via java -- they weren't designed to test the example _jetty_ configs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-12-22T02:23:40.808+0000","updated":"2012-12-22T02:23:40.808+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13539079","id":"13539079","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"I filed a matching bug against the jetty project.\r\n\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=397130\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2012-12-23T19:45:02.074+0000","updated":"2012-12-23T19:45:02.074+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13539322","id":"13539322","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[trunk commit] Shalin Shekhar Mangar\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1425683\r\n\r\nSOLR-4223: \"maxFormContentSize\" in jetty.xml is not picked up by jetty 8\r\n  so set it via solr webapp context file\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2012-12-24T21:10:34.288+0000","updated":"2012-12-24T21:10:34.288+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13539323","id":"13539323","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shalinmangar","name":"shalinmangar","emailAddress":"shalin dot mangar at lucidworks dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shalinmangar&avatarId=19501","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shalinmangar&avatarId=19501","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shalinmangar&avatarId=19501","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shalinmangar&avatarId=19501"},"displayName":"Shalin Shekhar Mangar","active":true},"body":"Committed Hoss's patch in trunk and branch_4x.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shalinmangar","name":"shalinmangar","emailAddress":"shalin dot mangar at lucidworks dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shalinmangar&avatarId=19501","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shalinmangar&avatarId=19501","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shalinmangar&avatarId=19501","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shalinmangar&avatarId=19501"},"displayName":"Shalin Shekhar Mangar","active":true},"created":"2012-12-24T21:27:49.258+0000","updated":"2012-12-24T21:27:49.258+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13539324","id":"13539324","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[branch_4x commit] Shalin Shekhar Mangar\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1425684\r\n\r\nSOLR-4223: \"maxFormContentSize\" in jetty.xml is not picked up by jetty 8\r\n  so set it via solr webapp context file\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2012-12-24T21:28:18.405+0000","updated":"2012-12-24T21:28:18.405+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13545905","id":"13545905","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"Just received an email from eclipse bugzilla - a fix for the jetty bug will be in 8.1.9.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2013-01-07T14:14:19.182+0000","updated":"2013-01-07T14:14:19.182+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12624808/comment/13545920","id":"13545920","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"body":"Hi,\r\nI am not sure, but this problem was fixed in Solr by my commit yesterday: SOLR-4265 (solr no longer uses ServletRequest.getParameter*() at all, it parses the POST contents by itsself using an own UTF-8 compatible parser). The above settings are affecting POST, right? Because GET URLs are still limited to maximum URL length, right?\r\n\r\nThe maximum length inside the default Solr config file for formdata sent through POST is now 2048 KiB ! You can raise it easily using solrconfig.xml. There is no config needed anymore in Solr's web.xml/jetty config, I did not know there were changes in Solr's web.xml about this. We should remove them now.\r\n\r\nSee also CHANGES.txt and Solr Wiki about Tomcat configuration.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"created":"2013-01-07T14:36:21.041+0000","updated":"2013-01-07T14:37:07.487+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-4223/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i16rmv:"}}