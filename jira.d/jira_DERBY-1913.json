{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12352234","self":"https://issues.apache.org/jira/rest/api/latest/issue/12352234","key":"DERBY-1913","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315436","id":"12315436","description":"Head of 10.5 branch - version bump for DERBY-4835","name":"10.5.3.2","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315370","id":"12315370","description":"Old head of 10.6 branch","name":"10.6.2.2","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315902","id":"12315902","description":"Head of 10.7 branch as of 2010-11-29","name":"10.7.1.4","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12323456","id":"12323456","description":"Third release on the 10.8 branch","name":"10.8.3.0","archived":false,"released":true,"releaseDate":"2012-11-16"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12316344","id":"12316344","description":"First release on the 10.9 branch","name":"10.9.1.0","archived":false,"released":true,"releaseDate":"2012-06-25"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2008-04-05 22:27:12.758","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22787","customfield_12310222":"1_*:*_1_*:*_169991457166_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-02-21T07:36:16.526+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1913/watchers","watchCount":0,"isWatching":false},"created":"2006-10-02T19:45:22.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":["derby_triage10_5_2"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12323456","id":"12323456","description":"Third release on the 10.8 branch","name":"10.8.3.0","archived":false,"released":true,"releaseDate":"2012-11-16"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12325486","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12325486","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12413577","key":"DERBY-4037","self":"https://issues.apache.org/jira/rest/api/2/issue/12413577","fields":{"summary":"On Z/OS storetests/st_reclaim_longcol.java  fails with a large number of pages","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-11-01T21:10:42.037+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11412","id":"11412","name":"Store"}],"timeoriginalestimate":null,"description":"I saw this diff when running derbyall:\r\n\r\n********* Diff file derbyall/storeall/storetests/st_reclaim_longcol.diff\r\n*** Start: st_reclaim_longcol jdk1.5.0_07 storeall:storetests 2006-10-02 18:11:13 ***\r\n1a2,4\r\n> Test failed, expected less than 32 pages - count is:\r\n> free pages     : 25\r\n> allocated pages: 20\r\nTest Failed.\r\n*** End:   st_reclaim_longcol jdk1.5.0_07 storeall:storetests 2006-10-02 18:13:35 ***\r\n\r\nA similar diff has also been seen in the nightlies: http://www.multinet.no/~solberg/public/Apache/DerbyJvm1.4/testlog/SunOS-5.10_i86pc-i386/441833-derbyall_diff.txt","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"35566","summary":"storetests/st_reclaim_longcol.java fails intermittently","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"subtasks":[],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10423","value":"Newcomer","id":"10423"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Seen on Solaris 10, 11, jdk1.4, jdk1.5 and jdk 1.6","customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10052","value":"Normal","id":"10052"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":17,"total":17,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/12586067","id":"12586067","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I saw this on linux on  10.3.2.2 - (644993)\r\njava version \"1.6.0\"\r\nJava(TM) SE Runtime Environment (build pxi3260sr1-20080402_01(SR1))\r\nIBM J9 VM (build 2.4, J2RE 1.6.0 IBM J9 2.4 Linux x86-32  (JIT enabled, AOT enabled)\r\nJ9VM - 20080403_018470_lHdSMr\r\nJIT  - r9_20080403_0402\r\nGC   - 20080402_AA)\r\nJCL  - 20080331_01\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2008-04-05T22:27:12.758+0000","updated":"2008-04-05T22:27:12.758+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/12664659","id":"12664659","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Saw a similar diff 1/15/2009 on IBM 1.6 10.5.0.0 alpha - (734893)\r\n\r\n*** Start: st_reclaim_longcol jdk1.6.0 storeall:storetests 2009-01-16 05:34:10 ***\r\n3a4,6\r\n> Test failed, expected less than 150 pages - count is:\r\n> free pages     : 123\r\n> allocated pages: 55\r\nTest Failed.\r\n*** End:   st_reclaim_longcol jdk1.6.0 storeall:storetests 2009-01-16 05:35:54 ***\r\n\r\nassuming it is the same thing. I hope that is a correct assumption.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2009-01-16T20:10:29.655+0000","updated":"2009-01-16T20:10:29.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/12728710","id":"12728710","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Triaged for 10.5.2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-07-08T14:13:44.495+0000","updated":"2009-07-08T14:13:44.495+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/12912610","id":"12912610","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I saw this while testing 10.6.2 with weme 6.2:\r\n3a4,7\r\n> Test 2 failed, expected less than 150 pages - count is:\r\n> free pages     : 99\r\n> allocated pages: 55\r\n> Waited 100020ms. for background work.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2010-09-20T17:45:56.188+0000","updated":"2010-09-20T17:45:56.188+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13096755","id":"13096755","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Saw this on trunk with JDK 1.6 on Solaris 11:\r\n\r\n> Test 2 failed, expected less than 150 pages - count is:\r\n> free pages     : 96\r\n> allocated pages: 73\r\n> Waited 100020ms. for background work.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2011-09-03T20:08:28.784+0000","updated":"2011-09-03T20:08:28.784+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13109138","id":"13109138","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"With 10.8.2.1 release  testing I saw this with both the regular and 64 bit JVM\r\n\r\nWith:\r\nJava(TM) SE Runtime Environment (build pmz3160sr9fp1-20110303_01(SR9 FP1))\r\nIBM J9 VM (build 2.4, JRE 1.6.0 IBM J9 2.4 z/OS s390-31 jvmmz3160sr9-20110203_74623 (JIT enabled, AOT enabled)\r\nJ9VM - 20110203_074623\r\nJIT  - r9_20101028_17488ifx3\r\nGC   - 20101027_AA)\r\nJCL  - 20110203_01\r\n\r\n*** Start: st_reclaim_longcol jdk1.6.0 storeall:storetests 2011-09-20 20:01:21 ***\r\n3a4,7\r\n> Test 2 failed, expected less than 150 pages - count is:\r\n> free pages     : 296\r\n> allocated pages: 55\r\n> Waited 100020ms. for background work.\r\nTest Failed.\r\n*** End:   st_reclaim_longcol jdk1.6.0 storeall:storetests 2011-09-20 20:04:58 ***\r\n\r\nand with 64 bit:\r\njava version \"1.6.0\"\r\nJava(TM) SE Runtime Environment (build pmz6460sr9fp1-20110303_01(SR9 FP1))\r\nIBM J9 VM (build 2.4, JRE 1.6.0 IBM J9 2.4 z/OS s390x-64 jvmmz6460sr9-20110203_74623 (JIT enabled,\r\nJ9VM - 20110203_074623\r\nJIT  - r9_20101028_17488ifx3\r\nGC   - 20101027_AA)\r\nJCL  - 20110203_01\r\n$\r\n\r\n> Test 2 failed, expected less than 150 pages - count is:\r\n> free pages     : 426\r\n> allocated pages: 55\r\n> Waited 100020ms. for background work.\r\nTest Failed.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2011-09-21T00:46:23.230+0000","updated":"2011-09-21T00:46:23.230+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13170300","id":"13170300","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Saw this again with a slightly different signature (trunk, sane jars, Java 1.6.0_15, Solaris 11):\r\n\r\n> Test 1 failed, expected less than 32 pages - count is:                                           \r\n> free pages     : 13                                                                              \r\n> allocated pages: 20                                                                              \r\n> Waited 100020ms. for background work.                                                            ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2011-12-15T15:52:05.960+0000","updated":"2011-12-15T15:52:05.960+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13188708","id":"13188708","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"Saw again again: 10.8 current branch, windows, ibm1.4.2 jvm\r\n\r\n********* Diff file derbyall/storeall/storetests/st_reclaim_longcol.diff\r\n*** Start: st_reclaim_longcol jdk1.4.2 storeall:storetests 2012-01-17 20:03:13 ***\r\n1a2,5\r\n> Test 1 failed, expected less than 32 pages - count is:\r\n> free pages     : 29\r\n> allocated pages: 20\r\n> Waited 100020ms. for background work.\r\nTest Failed.\r\n*** End:   st_reclaim_longcol jdk1.4.2 storeall:storetests 2012-01-17 20:07:57 ***\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2012-01-18T21:21:21.613+0000","updated":"2012-01-18T21:21:21.613+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13188815","id":"13188815","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"nightly's, linux, ibm15, 10.8 current branch\r\n\r\nhttp://people.apache.org/~myrnavl/derby_test_results/v10_8/linux/testlog/ibm15/1231438-derbyall_diff.txt\r\n\r\nFailure Details:\r\n********* Diff file derbyall/derbynetclientmats/DerbyNetClient/encodingTests/TestEnc.diff\r\n*** Start: TestEnc jdk1.5.0 DerbyNetClient derbynetclientmats:encodingTests 2012-01-13 22:13:02 ***\r\nderbyTesting.encoding can only be used with jdk15, skipping test\r\nTest skipped: test cannot run with jvm: ibm15.  TestEnc.java\r\n*** End:   TestEnc jdk1.5.0 DerbyNetClient derbynetclientmats:encodingTests 2012-01-13 22:13:02 ***\r\n********* Diff file derbyall/storeall/storetests/st_reclaim_longcol.diff\r\n*** Start: st_reclaim_longcol jdk1.5.0 storeall:storetests 2012-01-13 21:43:03 ***\r\n1a2,5\r\n> Test 1 failed, expected less than 32 pages - count is:\r\n> free pages     : 16\r\n> allocated pages: 20\r\n> Waited 100020ms. for background work.\r\nTest Failed.\r\n*** End:   st_reclaim_longcol jdk1.5.0 storeall:storetests 2012-01-13 21:51:20 ***\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2012-01-18T23:50:30.242+0000","updated":"2012-01-18T23:50:30.242+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13188816","id":"13188816","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"failed in nightly's, linux, ibm17, 10.8 current branch\r\n\r\nhttp://people.apache.org/~myrnavl/derby_test_results/v10_8/linux/testlog/ibm17/1231438-derbyall_diff.txt\r\n\r\nFailure Details:\r\n********* Diff file derbyall/derbynetclientmats/DerbyNetClient/encodingTests/TestEnc.diff\r\n*** Start: TestEnc jdk1.7.0 DerbyNetClient derbynetclientmats:encodingTests 2012-01-14 03:35:57 ***\r\nderbyTesting.encoding can only be used with jdk15, skipping test\r\n*** End:   TestEnc jdk1.7.0 DerbyNetClient derbynetclientmats:encodingTests 2012-01-14 03:35:57 ***\r\n********* Diff file derbyall/storeall/storetests/st_reclaim_longcol.diff\r\n*** Start: st_reclaim_longcol jdk1.7.0 storeall:storetests 2012-01-14 02:58:00 ***\r\n1a2,5\r\n> Test 1 failed, expected less than 32 pages - count is:\r\n> free pages     : 16\r\n> allocated pages: 20\r\n> Waited 100020ms. for background work.\r\nTest Failed.\r\n*** End:   st_reclaim_longcol jdk1.7.0 storeall:storetests 2012-01-14 03:10:00 ***\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2012-01-18T23:51:39.887+0000","updated":"2012-01-18T23:51:39.887+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13195151","id":"13195151","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"failed in nightly's, windows, ibm15, 10.8 branch.  This seems to be failing more often in 10.8 and trunk than other\r\nbranches.  Maybe there is some unintended interaction with stat background thread.  \r\n\r\nhttp://people.apache.org/~myrnavl/derby_test_results/v10_8/windows/testlog/ibm15/1236501-derbyall_diff.txt\r\n\r\n********* Diff file derbyall/storeall/storetests/st_reclaim_longcol.diff\r\n*** Start: st_reclaim_longcol jdk1.5.0 storeall:storetests 2012-01-26 21:47:14 ***\r\n1a2,5\r\n> Test 1 failed, expected less than 32 pages - count is:\r\n> free pages     : 16\r\n> allocated pages: 20\r\n> Waited 100020ms. for background work.\r\nTest Failed.\r\n*** End:   st_reclaim_longcol jdk1.5.0 storeall:storetests 2012-01-26 21:51:27 ***\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2012-01-27T22:21:47.758+0000","updated":"2012-01-27T22:21:47.758+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13195203","id":"13195203","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I think it definitely makes sense to turn off statistics update for this test.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2012-01-27T23:00:47.760+0000","updated":"2012-01-27T23:00:47.760+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13204039","id":"13204039","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"i don't think statistics are the problem, at least not the main issue. It looks like if the background task does not get a chance to run early in the test, then the assumptions on total\r\nnumber of pages are wrong, and waiting at the end does not help.  The problem is most likely on machines with enough other work running such that the\r\nbackground thread does not get a chance to run.  I think we are seeing a lot of these now in the ibm runs 10.8 runs because we have switched to running multiple jvms concurrently leaving less spare cpu cycles for background threads to run.  \r\n\r\nUnfortunately I am not having luck reproducing in my environment, but I think i understand at least the Test 1 problems - so will code and submit and see if nighltys work better.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2012-02-08T21:56:19.154+0000","updated":"2012-02-08T21:56:19.154+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13204370","id":"13204370","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I could reproduce the Test 1 and Test 2 problems in my environment by making BasicDeamon sleep for a second before performing a background task. See the attached sleep.diff.\r\n\r\nRunning the storetests suite with the patched version produced this result:\r\n\r\nFailure Details:\r\n********* Diff file storetests/storetests/st_reclaim_longcol.diff\r\n*** Start: st_reclaim_longcol jdk1.6.0_26 storetests:storetests 2012-02-09 09:32:13 ***\r\n1a2,5\r\n> Test 1 failed, expected less than 32 pages - count is:\r\n> free pages     : 152\r\n> allocated pages: 20\r\n> Waited 100020ms. for background work.\r\n3a8,11\r\n> Test 2 failed, expected less than 150 pages - count is:\r\n> free pages     : 873\r\n> allocated pages: 3502\r\n> Waited 100020ms. for background work.\r\nTest Failed.\r\n*** End:   st_reclaim_longcol jdk1.6.0_26 storetests:storetests 2012-02-09 09:36:48 ***","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2012-02-09T08:55:19.229+0000","updated":"2012-02-09T08:55:19.229+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13206475","id":"13206475","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"See this in nightlies:\r\n********* Diff file derbyall/storeall/storetests/st_reclaim_longcol.diff\r\n*** Start: st_reclaim_longcol jdk1.7.0_02 storeall:storetests 2012-02-12 16:03:38 ***\r\n2 del\r\n< Beginning test: test2:queue of 5 rows with blob(250000), total_work = 500\r\n< Ending test: test2:queue of 5 rows with blob(250000), total_work = 500\r\nTest Failed.\r\n*** End:   st_reclaim_longcol jdk1.7.0_02 storeall:storetests 2012-02-12 16:03:45 ***\r\n\r\nMissing master update?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2012-02-12T18:36:45.721+0000","updated":"2012-02-12T18:36:45.721+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13207002","id":"13207002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"i will fix the nightly problem.  thought running the suite passed for me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2012-02-13T17:35:50.037+0000","updated":"2012-02-13T17:35:50.037+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12352234/comment/13212425","id":"13212425","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"changed test significantly to avoid timing issues.  backported fix from trunk to 10.8, 10.7, 10.6, and 10.5.  It can go farther if anyone is interested.  At this point test has changed significantly so if there are any new intermittent errors, lets file a new bug and track progress there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2012-02-21T07:36:18.079+0000","updated":"2012-02-21T07:36:18.079+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1913/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06g8v:"}}