{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12617967","self":"https://issues.apache.org/jira/rest/api/latest/issue/12617967","key":"SOLR-4117","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310230","id":"12310230","key":"SOLR","name":"Solr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310230&avatarId=22151","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310230&avatarId=22151","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310230&avatarId=22151"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321141","id":"12321141","description":"Major release after 4.0","name":"4.1","archived":false,"released":true,"releaseDate":"2013-01-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12321664","id":"12321664","description":"Current trunk","name":"Trunk","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-11-28 15:19:14.448","customfield_12312323":null,"customfield_12310420":"292565","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_20926806_*|*_5_*:*_2_*:*_418314317_*|*_4_*:*_1_*:*_641187575","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-12-10T23:56:41.425+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-4117/watchers","watchCount":5,"isWatching":false},"created":"2012-11-28T11:49:32.748+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321664","id":"12321664","description":"Current trunk","name":"Trunk","archived":false,"released":false}],"issuelinks":[{"id":"12361871","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12361871","type":{"id":"12310060","name":"Container","inward":"Is contained by","outward":"contains","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310060"},"outwardIssue":{"id":"12618445","key":"SOLR-4135","self":"https://issues.apache.org/jira/rest/api/2/issue/12618445","fields":{"summary":"java.lang.IllegalArgumentException when getting index size in replication handler","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12360834","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12360834","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12614766","key":"SOLR-4032","self":"https://issues.apache.org/jira/rest/api/2/issue/12614766","fields":{"summary":"Files larger than an internal buffer size fail to replicate","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.png","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12360835","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12360835","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12614767","key":"SOLR-4033","self":"https://issues.apache.org/jira/rest/api/2/issue/12614767","fields":{"summary":"No lockType configured for NRTCachingDirectory","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12360975","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12360975","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12618445","key":"SOLR-4135","self":"https://issues.apache.org/jira/rest/api/2/issue/12618445","fields":{"summary":"java.lang.IllegalArgumentException when getting index size in replication handler","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12360831","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12360831","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12617965","key":"SOLR-4116","self":"https://issues.apache.org/jira/rest/api/2/issue/12617965","fields":{"summary":"Log Replay [recoveryExecutor-8-thread-1] - : java.io.EOFException","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-03-22T16:13:16.555+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313841","id":"12313841","name":"SolrCloud"}],"timeoriginalestimate":null,"description":"With SOLR-4032 fixed we see other issues when randomly taking down nodes (nicely via tomcat restart) while indexing a few million web pages from Hadoop. We do make sure that at least one node is up for a shard but due to recovery issues it may not be live.\r\n\r\nOne node seems to work but generates IO errors in the log and ZookeeperExeption in the GUI. In the GUI we only see:\r\n{code}\r\n\r\nSolrCore Initialization Failures\r\n\r\n    openindex_f: org.apache.solr.common.cloud.ZooKeeperException:org.apache.solr.common.cloud.ZooKeeperException: \r\n\r\nPlease check your logs for more information\r\n{code}\r\n\r\nand in the log we only see the following exception:\r\n\r\n{code}\r\n2012-11-28 11:47:26,652 ERROR [solr.handler.ReplicationHandler] - [http-8080-exec-28] - : IO error while trying to get the size of the Directory:org.apache.lucene.store.NoSuchDirectoryException: directory '/opt/solr/cores/shard_f/data/index' does not exist\r\n        at org.apache.lucene.store.FSDirectory.listAll(FSDirectory.java:217)\r\n        at org.apache.lucene.store.FSDirectory.listAll(FSDirectory.java:240)\r\n        at org.apache.lucene.store.NRTCachingDirectory.listAll(NRTCachingDirectory.java:132)\r\n        at org.apache.solr.core.DirectoryFactory.sizeOfDirectory(DirectoryFactory.java:146)\r\n        at org.apache.solr.handler.ReplicationHandler.getIndexSize(ReplicationHandler.java:472)\r\n        at org.apache.solr.handler.ReplicationHandler.getReplicationDetails(ReplicationHandler.java:568)\r\n        at org.apache.solr.handler.ReplicationHandler.handleRequestBody(ReplicationHandler.java:213)\r\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:144)\r\n        at org.apache.solr.core.RequestHandlers$LazyRequestHandlerWrapper.handleRequest(RequestHandlers.java:240)\r\n        at org.apache.solr.core.SolrCore.execute(SolrCore.java:1830)\r\n        at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:476)\r\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:276)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n        at org.apache.coyote.http11.Http11NioProcessor.process(Http11NioProcessor.java:889)\r\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:744)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:2274)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:662)\r\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"162948","summary":"IO error while trying to get the size of the Directory","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markus17","name":"markus17","emailAddress":"markus at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markus17&avatarId=13831","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markus17&avatarId=13831","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markus17&avatarId=13831","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markus17&avatarId=13831"},"displayName":"Markus Jelsma","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markus17","name":"markus17","emailAddress":"markus at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markus17&avatarId=13831","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markus17&avatarId=13831","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markus17&avatarId=13831","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markus17&avatarId=13831"},"displayName":"Markus Jelsma","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"5.0.0.2012.11.28.10.42.06\r\nDebian Squeeze, Tomcat 6, Sun Java 6, 10 nodes, 10 shards, rep. factor 2.","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":16,"total":16,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13505391","id":"13505391","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markus17","name":"markus17","emailAddress":"markus at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markus17&avatarId=13831","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markus17&avatarId=13831","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markus17&avatarId=13831","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markus17&avatarId=13831"},"displayName":"Markus Jelsma","active":true},"body":"This issue is the same as reported in SOLR-4032. It does not resolve itself, as it did before in SOLR-4032, when reloading a core or restarting the servlet container. The Zookeeper exception in the GUI is gone after restart so it's likely not related.\r\n\r\nedit: the index.properties file in both cores point to the correct index.LARGE_NUMBER directory but NRTDir tries ./data/index regardless.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markus17","name":"markus17","emailAddress":"markus at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markus17&avatarId=13831","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markus17&avatarId=13831","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markus17&avatarId=13831","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markus17&avatarId=13831"},"displayName":"Markus Jelsma","active":true},"created":"2012-11-28T12:12:18.212+0000","updated":"2012-11-28T12:17:58.885+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13505507","id":"13505507","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markus17","name":"markus17","emailAddress":"markus at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markus17&avatarId=13831","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markus17&avatarId=13831","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markus17&avatarId=13831","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markus17&avatarId=13831"},"displayName":"Markus Jelsma","active":true},"body":"I have another node now logging the same exception for a core that has 0 docs which is not the leader but clusterstate says the node is active and does not attempt recovery. To my surprise it has two index.NUMBER directories of different sizes and index.properties points to the largest directory.\r\n\r\nThe node won't come back up properly. Search and indexing works but accessing the GUI is impossible:\r\n{code}\r\n2012-11-28 14:50:00,026 ERROR [solr.servlet.SolrDispatchFilter] - [http-8080-exec-6] - : null:org.apache.solr.common.SolrException: Error handling 'status' action \r\n        at org.apache.solr.handler.admin.CoreAdminHandler.handleStatusAction(CoreAdminHandler.java:724)\r\n        at org.apache.solr.handler.admin.CoreAdminHandler.handleRequestBody(CoreAdminHandler.java:157)\r\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:144)\r\n        at org.apache.solr.servlet.SolrDispatchFilter.handleAdminRequest(SolrDispatchFilter.java:372)\r\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:181)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n        at org.apache.coyote.http11.Http11NioProcessor.process(Http11NioProcessor.java:889)\r\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:744)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:2274)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:662)\r\nCaused by: org.apache.solr.common.SolrException: java.util.concurrent.RejectedExecutionException\r\n        at org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1674)\r\n        at org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1330)\r\n        at org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1265)\r\n        at org.apache.solr.handler.admin.CoreAdminHandler.getCoreStatus(CoreAdminHandler.java:996)\r\n        at org.apache.solr.handler.admin.CoreAdminHandler.handleStatusAction(CoreAdminHandler.java:710)\r\n        ... 18 more\r\nCaused by: java.util.concurrent.RejectedExecutionException\r\n        at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:1768)\r\n        at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:767)\r\n        at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:658)\r\n        at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:92)\r\n        at java.util.concurrent.Executors$DelegatedExecutorService.submit(Executors.java:603)\r\n        at org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1605)\r\n        ... 22 more\r\n{code}\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markus17","name":"markus17","emailAddress":"markus at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markus17&avatarId=13831","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markus17&avatarId=13831","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markus17&avatarId=13831","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markus17&avatarId=13831"},"displayName":"Markus Jelsma","active":true},"created":"2012-11-28T14:51:56.273+0000","updated":"2012-11-28T14:51:56.273+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13505530","id":"13505530","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eksdev","name":"eksdev","emailAddress":"eksdev at yahoo dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eks Dev","active":true},"body":"fwiw, we *think* we observed the following problem in simple master slave setup with NRTCachingDirectory... I am not sure it has something to do with issue, because ewe did not see this exception, anyhow   \r\n\r\non replication, slave gets the index from master and works fine, then on:\r\n1. graceful restart, the world looks fine \r\n2. kill -9 or such, solr does not start because an index gets corrupt (should actually not happen)\r\n\r\nWe speculate that solr now does replication directly to Directory implementation and does not ensure that replicated files get fsck-ed completely after replication. As far as I remember, replication was going to /temp (disk) and than moving files if all went ok. Working under assumption that everything is already persisted. Maybe this invariant does not hold any more and some explicit fsck is needed for caching directories? \r\n\r\nI might be completely wrong, we just observed symptoms in not really debug-friendly environment\r\n\r\nHere Exception after  \"hard\" restart:\r\n\r\nCaused by: org.apache.solr.common.SolrException: Error opening new searcher\r\n   at org.apache.solr.core.SolrCore.<init>(SolrCore.java:804)\r\n   at org.apache.solr.core.SolrCore.<init>(SolrCore.java:618)\r\n   at org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:973)\r\n   at org.apache.solr.core.CoreContainer.create(CoreContainer.java:1003)\r\n   ... 10 more\r\nCaused by: org.apache.solr.common.SolrException: Error opening new searcher\r\n   at org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1441)\r\n   at org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1553)\r\n   at org.apache.solr.core.SolrCore.<init>(SolrCore.java:779)\r\n   ... 13 more\r\nCaused by: java.io.FileNotFoundException: ...\\core0\\data\\index\\segments_1 (The system cannot find the file specified)\r\n   at java.io.RandomAccessFile.open(Native Method)\r\n   at java.io.RandomAccessFile.<init>(RandomAccessFile.java:233)\r\n   at org.apache.lucene.store.MMapDirectory.openInput(MMapDirectory.java:222)\r\n   at org.apache.lucene.store.NRTCachingDirectory.openInput(NRTCachingDirectory.java:232)\r\n   at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:281)\r\n   at org.apache.lucene.index.StandardDirectoryReader$1.doBody(StandardDirectoryReader.java:56)\r\n   at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:668)\r\n   at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:52)\r\n   at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:87)\r\n   at org.apache.solr.core.StandardIndexReaderFactory.newReader(StandardIndexReaderFactory.java:34)\r\n   at org.apache.solr.search.SolrIndexSearcher.<init>(SolrIndexSearcher.java:120)\r\n   at org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1417)\r\n....\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eksdev","name":"eksdev","emailAddress":"eksdev at yahoo dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eks Dev","active":true},"created":"2012-11-28T15:19:14.448+0000","updated":"2012-11-28T15:27:51.656+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13505542","id":"13505542","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"Do you mean fsync rather than fsck (isnt that a file system check?)\r\n\r\nThat did change in that we are now using the Directory's sync method - but it *should* still work the same as before...\r\n\r\n2 should not happen though - so we should dig in. I'm guessing it's not related to this issue, but we will see.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2012-11-28T15:29:35.917+0000","updated":"2012-11-28T15:29:35.917+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13505555","id":"13505555","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eksdev","name":"eksdev","emailAddress":"eksdev at yahoo dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eks Dev","active":true},"body":"fsync of course, fsck was intended for my terminal window :) ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eksdev","name":"eksdev","emailAddress":"eksdev at yahoo dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eks Dev","active":true},"created":"2012-11-28T15:36:15.111+0000","updated":"2012-11-28T15:36:15.111+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13505581","id":"13505581","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"Markus, I'm about to commit a fix to this issue - but I doubt it's the same as the issue you then mention in a comment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2012-11-28T15:53:35.338+0000","updated":"2012-11-28T15:53:35.338+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13505584","id":"13505584","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[trunk commit] Mark Robert Miller\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1414773\r\n\r\nSOLR-4117: Retrieving the size of the index may use the wrong index dir if you are replicating.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2012-11-28T15:56:13.209+0000","updated":"2012-11-28T15:56:13.209+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13505594","id":"13505594","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[branch_4x commit] Mark Robert Miller\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1414774\r\n\r\nSOLR-4117: Retrieving the size of the index may use the wrong index dir if you are replicating.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2012-11-28T16:02:12.251+0000","updated":"2012-11-28T16:02:12.251+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13505600","id":"13505600","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markus17","name":"markus17","emailAddress":"markus at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markus17&avatarId=13831","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markus17&avatarId=13831","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markus17&avatarId=13831","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markus17&avatarId=13831"},"displayName":"Markus Jelsma","active":true},"body":"Likely indeed. I'll check on this issue tomorrow and try to reproduce the other one, will open new issue if i can.\r\n\r\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markus17","name":"markus17","emailAddress":"markus at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markus17&avatarId=13831","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markus17&avatarId=13831","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markus17&avatarId=13831","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markus17&avatarId=13831"},"displayName":"Markus Jelsma","active":true},"created":"2012-11-28T16:07:45.769+0000","updated":"2012-11-28T16:07:45.769+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13508735","id":"13508735","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markus17","name":"markus17","emailAddress":"markus at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markus17&avatarId=13831","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markus17&avatarId=13831","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markus17&avatarId=13831","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markus17&avatarId=13831"},"displayName":"Markus Jelsma","active":true},"body":"For some reason we're seeing this again on a node with today's trunk check out:\r\n\r\n{code}\r\n2012-12-03 13:46:46,300 ERROR [handler.admin.CoreAdminHandler] - [http-8080-exec-10] - : IO error while trying to get the size of the Directory:org.apache.lucene.store.NoSuchDirectoryException: directory '/opt/solr/cores/core_b/data/index' does not exist\r\n        at org.apache.lucene.store.FSDirectory.listAll(FSDirectory.java:217)\r\n        at org.apache.lucene.store.FSDirectory.listAll(FSDirectory.java:240)\r\n        at org.apache.lucene.store.NRTCachingDirectory.listAll(NRTCachingDirectory.java:132)\r\n        at org.apache.solr.core.DirectoryFactory.sizeOfDirectory(DirectoryFactory.java:146)\r\n        at org.apache.solr.handler.admin.CoreAdminHandler.getIndexSize(CoreAdminHandler.java:1020)\r\n        at org.apache.solr.handler.admin.CoreAdminHandler.getCoreStatus(CoreAdminHandler.java:1000)\r\n        at org.apache.solr.handler.admin.CoreAdminHandler.handleStatusAction(CoreAdminHandler.java:711)\r\n        at org.apache.solr.handler.admin.CoreAdminHandler.handleRequestBody(CoreAdminHandler.java:158)\r\n        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:144)\r\n        at org.apache.solr.servlet.SolrDispatchFilter.handleAdminRequest(SolrDispatchFilter.java:372)\r\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:181)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n        at org.apache.coyote.http11.Http11NioProcessor.process(Http11NioProcessor.java:889)\r\n        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:744)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:2274)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:662)\r\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markus17","name":"markus17","emailAddress":"markus at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markus17&avatarId=13831","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markus17&avatarId=13831","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markus17&avatarId=13831","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markus17&avatarId=13831"},"displayName":"Markus Jelsma","active":true},"created":"2012-12-03T13:50:13.867+0000","updated":"2012-12-03T13:50:13.867+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13527194","id":"13527194","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"Thanks Markus - another race around updating to the new index and looking for the size of the index. I'll fix this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2012-12-08T17:01:17.526+0000","updated":"2012-12-08T17:01:17.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13527214","id":"13527214","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"Here is a patch that does 2 things:\r\n\r\nIf we find the directory and see a file listed, but then get a file not found trying to access it (it was removed out from under us), just return a 0 size\r\n\r\nAlso, if we can't find the directory at all, try using the newIndexDir.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2012-12-08T17:57:03.494+0000","updated":"2012-12-08T17:57:03.494+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13527221","id":"13527221","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[trunk commit] Mark Robert Miller\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1418725\r\n\r\nSOLR-4117: harden size of directory code\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2012-12-08T18:20:08.028+0000","updated":"2012-12-08T18:20:08.028+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13527222","id":"13527222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"Mark, it seems like this is also likely to resolve SOLR-4135.  Can you look into that?\r\n\r\nI was seeing another issue in my log that Yonik thought might be tied to the disappearing file issue.  If I continue to get that after this patch, I will open another issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2012-12-08T18:28:38.786+0000","updated":"2012-12-08T18:28:38.786+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13530636","id":"13530636","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"I think all of the changes in r1418725 got merged to 4x as part of r1420992...\r\n\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1420992\r\n\r\n(or in any event: attempting to merge r1418725 into 4x as of r1421071 is a No-Op)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-12-13T03:22:46.992+0000","updated":"2012-12-13T03:22:46.992+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12617967/comment/13610492","id":"13610492","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[branch_4x commit] Mark Robert Miller\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1414774\r\n\r\nSOLR-4117: Retrieving the size of the index may use the wrong index dir if you are replicating.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2013-03-22T16:13:16.555+0000","updated":"2013-03-22T16:13:16.555+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-4117/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0s933:"}}