{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12311652","self":"https://issues.apache.org/jira/rest/api/latest/issue/12311652","key":"DERBY-390","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2005-06-25 06:25:45.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"21929","customfield_12310222":"1_*:*_1_*:*_1667153000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_39224410000","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2005-07-13T09:51:11.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-390/watchers","watchCount":0,"isWatching":false},"created":"2005-06-24T02:45:18.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10991","id":"10991","description":"snapshot","name":"10.0.2.1","archived":false,"released":true,"releaseDate":"2004-12-06"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-10-10T09:31:21.000+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11414","id":"11414","name":"Tools"}],"timeoriginalestimate":null,"description":"import  fails   irrespective off whether the name is passed as  a quoted sttring or not:\nij> call SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, '\"ORDER\"' , 'order.dat' ,\n                                      null, null, null, 0) ;\nERROR XIE0M: Table '\"ORDER\"' does not exist.\nij> call SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, 'ORDER' , 'order.dat' ,\n                                      null, null, null, 0) ;\nERROR 38000: The exception 'SQL Exception: Syntax error: Encountered \"ORDER\" at\nline 1, column 13.' was thrown while evaluating an expression.\nERROR 42X01: Syntax error: Encountered \"ORDER\" at line 1, column 13.\n\nExport works with  a quoted table name but fails if the name is not quoted :\ncall SYSCS_UTIL.SYSCS_EXPORT_TABLE (null, '\"ORDER\"' , 'order.dat' ,\n                                 null, null, null) ;   --- PASSES\n\nij> call SYSCS_UTIL.SYSCS_EXPORT_TABLE (null, 'ORDER' , 'order.dat' ,\n                                 null, null, null) ;\nERROR 38000: The exception 'SQL Exception: Syntax error: Encountered \"ORDER\" at\nline 1, column 15.' was thrown while evaluating an expression.\nERROR 42X01: Syntax error: Encountered \"ORDER\" at line 1, column 15.\n\n\n\nRepro:\nconnect 'jdbc:derby:wombat;create=true';\ncreate table \"ORDER\"(a int ) ;\ninsert into \"ORDER\" values(1) ;\ninsert into \"ORDER\" values(2) ;\ninsert into \"ORDER\" values(3) ;\ncall SYSCS_UTIL.SYSCS_EXPORT_TABLE (null, '\"ORDER\"' , 'order.dat' ,\n                                 null, null, null) ;\n-- Perform Import\ncall SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, '\"ORDER\"' , 'order.dat' ,\n                                      null, null, null, 0) ;\n\nERROR XIE0M: Table '\"ORDER\"' does not exist.\ncall SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, 'ORDER' , 'order.dat' ,\n                                      null, null, null, 0) ;\nERROR 38000: The exception 'SQL Exception: Syntax error: Encountered \"ORDER\" at\nline 1, column 13.' was thrown while evaluating an expression.\nERROR 42X01: Syntax error: Encountered \"ORDER\" at line 1, column 13.\n\n\nNote:  I think  the same problem will occur with  when  quoted schema Names and column names are passed to import/export procedures. \n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"40351","summary":"Import/export  fails   with table names that are quoted in SQL  like import  to table  \"Order\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"subtasks":[{"id":"12311851","key":"DERBY-426","self":"https://issues.apache.org/jira/rest/api/2/issue/12311851","fields":{"summary":"documentation need to be modified to reflect the derby-390 fix(once it is committed) ,  schem , table , column names need to be in case-sensitive form.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png","name":"Sub-task","subtask":true}}}],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":7,"total":7,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311652/comment/12314344","id":"12314344","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"There are  two ways to  fix  this problem:\r\n1) Import/Export   should  treat   schema Names ,  table  Names , Column Names  as  case-insensitive , unless delimited by double quotes.   For  example ,   valid call for a quoted table name is :\r\ncall SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, '\"ORDER\"' , 'order.dat' ,  null, null, null, 0) ; \r\ncall SYSCS_UTIL.SYSCS_EXPORT_TABLE (null, '\"ORDER\"' , 'order.dat' , null, null, null) ; \r\n\r\nNote that  table name is passed is delimited by double quotes. \r\n\r\n2) Import/Export   should  treat   schema Names ,  table  Names , Column Names  as  case sensitive.   Because \r\nthe   database  automatically translated the SQL identifier into uppercase by the system.    All unquoted \r\ntable names ..etc  should  be passed in   upper case.   For example:\r\nTo import/export into  a   table emp (create table emp(a int ) ) .\r\ncall SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, 'EMP' , 'emp.dat' ,  null, null, null, 0) ; \r\ncall SYSCS_UTIL.SYSCS_EXPORT_TABLE (null, 'EMP' , 'emp.dat' , null, null, null) ; \r\n \r\nNote that  table name is passed in upper case. \r\n\r\nI like the first approach  because it  is more  consistent with SQL92 names and users need not  pass  upper case\r\nnames   for  all  unquoted names(cases insensitive  names).    and also will not break any existing application that\r\nmight be working becasue  current import/export procedures   accepts  names in case-insensitive form. \r\n I would like to  fix this problem with the first approach,   unless some one has objections. \r\n \r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2005-06-24T03:42:27.000+0000","updated":"2005-06-24T03:42:27.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311652/comment/12314415","id":"12314415","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"By  looking at other system procedures  and the way JDBC methods takes the table names,    it looks like following  the second approach is more consistent with other system procedures in Derby.   i.e\r\nImport/Export should treat schema Names , table Names , Column Names as case sensitive. Because\r\nthe database automatically translated the SQL identifier into uppercase by the system. All unquoted\r\ntable names ..etc  should be passed in upper case to import/export procedure. \r\n\r\nAny comments ?\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2005-06-25T03:08:54.000+0000","updated":"2005-06-25T03:08:54.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311652/comment/12314426","id":"12314426","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bandaram","name":"bandaram","emailAddress":"bandaram at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satheesh Bandaram","active":true},"body":"I agree with the suggestion for system procedures to treat arguments as case sensitive. This has the unwanted side-effect of requiring users to provide table/column names (unquoted identifiers) in upper case while calling system procedures and hence should be documented clearly. Can we add the documentation, where applicable, for 10.1 manuals?\r\n\r\nThis should also go into release notes, I think.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bandaram","name":"bandaram","emailAddress":"bandaram at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satheesh Bandaram","active":true},"created":"2005-06-25T06:25:45.000+0000","updated":"2005-06-25T06:25:45.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311652/comment/12314798","id":"12314798","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"patch to  handle case-sensitive SQL identifiers correctly.   Import/export procedure  parameters  for \r\ntable names , schema names , columns names should be passed in the case-sensitive form \r\nif they are quoted identfiers and  in upper case if they are not quoted SQL identifiers. Import/export \r\nwill  generate   insert/select statements with quoted table names , schema name and column names \r\nto be execute on the database after this patch.\r\n\r\n\r\nRan debyall test suite  , all tests passed. \r\n\r\nI will create sub-task to modify the documentaion for import/export , once the patch is accepted. \r\nI would like  this fix to  be ported to 10.1 also. \r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2005-07-01T03:11:46.000+0000","updated":"2005-07-01T03:11:46.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311652/comment/12314842","id":"12314842","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"Same patch (derby390.diff) also works fine for 10.1 branch also. Ran Derbyall on 10.1 after applying the patch for a 10.1 client ,  all tests passed. \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2005-07-01T10:49:16.000+0000","updated":"2005-07-01T10:49:16.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311652/comment/12315648","id":"12315648","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"patch was committed to 10.1 branch wiith svn  208776\r\npatch was committed to 10.2 (main)  branch wiith svn  208770\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2005-07-13T09:51:11.000+0000","updated":"2005-07-13T09:51:11.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311652/comment/12420357","id":"12420357","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Assigning to Tools component.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2006-07-11T23:55:57.000+0000","updated":"2006-07-11T23:55:57.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-390/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i079s7:"}}