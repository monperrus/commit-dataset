{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12693341","self":"https://issues.apache.org/jira/rest/api/latest/issue/12693341","key":"ARIES-1156","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310981","id":"12310981","key":"ARIES","name":"Aries","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310981&avatarId=10065","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310981&avatarId=10065","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310981&avatarId=10065","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310981&avatarId=10065"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10520","id":"10520","description":"Apache Aries","name":"Aries"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326747","id":"12326747","name":"subsystem-1.0.1","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":null,"customfield_12312323":null,"customfield_12310420":"371926","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_79278793_*|*_1_*:*_1_*:*_444143531_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2014-02-11T14:42:35.589+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-1156/watchers","watchCount":1,"isWatching":false},"created":"2014-02-05T13:18:53.302+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321544","id":"12321544","name":"1.0","archived":false,"released":true}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-01-15T13:29:30.691+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[],"timeoriginalestimate":null,"description":"When processing the spi-fly-example-client2-bundle with the static tool, the bundle contains invalid metadata and will not install. \r\n\r\nInstallation of the org.apache.aries.spifly.examples.client2.bundle-1.0.1-SNAPSHOT_spifly.jar bundle in Equinox yields the following exception:\r\n\r\nInvalid manifest header Require-Capability: \"osgi.serviceloader; filter:=\"(osgi.serviceloader=org.apache.aries.spifly.mysvc.SPIProvider)\";cardinality:=multiple,\"\r\n\r\nNote the trailing comma that should not be there.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"372230","summary":"SPI-Fly static tool does not work with Require-Capability bundles","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":4,"total":4,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12693341/comment/13892082","id":"13892082","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"body":"Workaround: use the Aries-proprietary \r\n  SPI-Consumer: *\r\nheader which will work with the static tool.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"created":"2014-02-05T13:20:25.496+0000","updated":"2014-02-05T13:20:25.496+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12693341/comment/13896745","id":"13896745","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"body":"I noticed that the static tool leaves a syntax error in the manifest:\r\n{code}Require-Capability: osgi.serviceloader; filter:=\"(osgi.serviceloader=o\r\n rg.apache.aries.spifly.mysvc.SPIProvider)\";cardinality:=multiple,{code}\r\nThat trailing comma shouldn't be there.\r\n\r\nI'm changing the code to remove the trailing comma.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"created":"2014-02-10T16:42:37.783+0000","updated":"2014-02-10T16:42:37.783+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12693341/comment/13896781","id":"13896781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"body":"The syntax error with the manifest generation was fixed in http://svn.apache.org/viewvc?view=revision&revision=1566682\r\n\r\nHowever there is one additional problem (exception on startup) which only appears when running the statically woven bundle in combination with the org.apache.aries.spifly.static.bundle. It does not appear when used with the dynamic bundle. \r\n\r\nI will look at that soon.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"created":"2014-02-10T17:35:45.435+0000","updated":"2014-02-10T17:35:45.435+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12693341/comment/13897879","id":"13897879","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"body":"This issue should be fixed with commit http://svn.apache.org/viewvc?view=revision&revision=1567152 ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"created":"2014-02-11T14:42:35.617+0000","updated":"2014-02-11T14:42:35.617+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-1156/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1s3iv:"}}