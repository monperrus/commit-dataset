{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12459826","self":"https://issues.apache.org/jira/rest/api/latest/issue/12459826","key":"MAHOUT-344","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314396","id":"12314396","description":"","name":"0.4","archived":false,"released":true,"releaseDate":"2010-10-31"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-03-24 20:15:48.164","customfield_12312323":null,"customfield_12310420":"9721","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_15626369631_*|*_1_*:*_1_*:*_1048632106_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-10-01T07:40:45.934+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-344/watchers","watchCount":2,"isWatching":false},"created":"2010-03-22T07:44:04.197+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"7.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314281","id":"12314281","description":"","name":"0.3","archived":false,"released":true,"releaseDate":"2010-03-17"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-11-29T13:18:44.735+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312151","id":"12312151","name":"Clustering","description":"Bugs related to any of the clustering packages"}],"timeoriginalestimate":null,"description":"Minhash clustering performs probabilistic dimension reduction of high dimensional data. The essence of the technique is to hash each item using multiple independent hash functions such that the probability of collision of similar items is higher. Multiple such hash tables can then be constructed  to answer near neighbor type of queries efficiently.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"23074","summary":"Minhash based clustering ","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":39,"total":39,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12848049","id":"12848049","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"As per \"Yonik's law of patches\" submitting my implementation. Please feel free to provide ideas for improvement or even submit an improved patch. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-03-22T07:58:08.298+0000","updated":"2010-03-22T07:58:08.298+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12849402","id":"12849402","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"body":"I've studied the min-hash algorithm these days, and your implementation a little bit. Also been looking through Mahout's code, the wiki, how to contribute etc.\r\n\r\nI'm thinking to try my hand at applying a patch to Mahout before submitting my proposal for GSoC. I would like to extend/improve this implementation. Could you please point out a way/idea on how I might do this ? (I would leave it's integrating with Taste as a second task for me.)\r\n\r\nThank you.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"created":"2010-03-24T20:15:48.164+0000","updated":"2010-03-24T20:15:48.164+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12849598","id":"12849598","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Appreciate your interest in this. I'd suggest that we pick a dataset to try this on and then make changes as required. \r\nFor ideas :-\r\n    1.  Clustering  a p2p dataset like this - http://warsteiner.db.cs.cmu.edu/db-site/Datasets/graphData/eDoneky-p2p/ to find out nodes closer to each other. \r\n    2.  Clustering similar items/songs in this - http://www.iua.upf.es/~ocelma/MusicRecommendationDataset/index.html for recommendations.\r\n\r\nTalking about missing things in the implementation:-\r\n   1. Option of more hash functions for user's to experiment with. \r\n   2. Code for cluster goodness evaluation (Precision/Recall tests?)\r\n   3. Unit tests for completeness.\r\n\r\nMay be other Mahout folks can take a quick look at the patch and suggest more ideas.   ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-03-25T06:34:49.646+0000","updated":"2010-03-25T06:34:49.646+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12851416","id":"12851416","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"body":"I ran the code on the last.fm data set (2.). Due to the nature of the data set I had to write a small program that converts it to the a format used by the algorithm. Also I have clustered similar users instead of songs (the transformation I mentioned above was easier to do) and I wanted to see how does the algorithm runs. I've used MurmurHash for mapping artists hashes to integers - which can be used by the min-hash algorithm. \r\n\r\nRelated to this I would like to ask, how does Mahout usually deals with this kind of situations: \r\n- Is there a standard formatting for the input on each clustering alg or the input format follows the same rules for all algorithms, and then the users write conversion tools which ? \r\n- would it be ok if I attach the code which does an example of running min-hash clustering in the examples dirs ? (it would first convert the dataset format accordingly)\r\n\r\n@Ankur: you are using a DdistributedCache for sharing the hash functions. That requires the distributed file to be on HDFS as far as I know. I believe it would be nice to have a flag or something which allows storing the hash on \"normal\" file system, for testing purposes. What do you think ?\r\n\r\nSorry everybody If I'm doing something wrong, it's the first time I'm contributing to an open source project. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"created":"2010-03-30T14:38:23.977+0000","updated":"2010-03-30T14:38:23.977+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12851686","id":"12851686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"body":"Hi Cristi,\r\n\r\nSounds like a great start. Answers for a couple of your questions:\r\n\r\n{quote}\r\nIs there a standard formatting for the input on each clustering alg or the input format follows the same rules for all algorithms, and then the users write conversion tools which ?\r\n{quote}\r\n\r\nTake a look at the various Vector clases in the math module and the VectorWritable wrapper. Most of the clustering algorithms take vectors of one kind or another as input and the assumption is that users will write tools to convert their data to these common formats. The wiki page http://cwiki.apache.org/MAHOUT/creating-vectors-from-text.html is a good place to start\r\n\r\n{quote}\r\nwould it be ok if I attach the code which does an example of running min-hash clustering in the examples dirs ? (it would first convert the dataset format accordingly)\r\n{quote}\r\n\r\nGo for it, code is good, patches are even better, see: http://cwiki.apache.org/MAHOUT/howtocontribute.html#HowToContribute-Creatingthepatchfile and simply attach it to this issue. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"created":"2010-03-31T01:28:28.268+0000","updated":"2010-03-31T01:28:28.268+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12851756","id":"12851756","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Drew, thanks for pitching in as I've been running super busy with some crap :-)\r\n\r\n@Cristi\r\nThat's right but its totally unnecessary as each of the mappers can do their own initialization of hash functions. They will be the same hash function if they used the same seed for java.util.Random(). So distributed cache can be removed alltogther with that change. The code will be shorter and simpler.\r\n\r\nWhat is the min-cluster size you are using? How many hash hash functions? How many hashes are grouped together? \r\nWe will need some tests to show how good the clusters are. As a start we can compute a simple metrics like average similarity of items within a cluster aggregated over all clusters.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-03-31T07:29:54.387+0000","updated":"2010-03-31T07:29:54.387+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12853117","id":"12853117","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"body":"Thank you guys for all the encouragement and advices. \r\n\r\nI'm committing my first patch for MinHah clustering. The patch contain the following things:\r\n\r\n- in core - minhash:\r\n * MinHashMapRed - removed the distributed hash need; Each mapper generates the same hash functions using the same seed (as per instructions from Ankur).\r\n * RandomLinearHashFunction - added another random linear hash function in form: h( x ) = ax + b mod p . p will be as big as possible > 10000000 and it should be prime(not done yet, but committing in this form due to some time restrictions) . \r\n\r\n- in examples - minhash directory:\r\n * DisplayMinHash - contains an example of running min-hash, with the options commented. It's basically the main function from MinHashMapRed.\r\n * PrepareDataset - this class offers the ability to convert the last-fm database suggested above in a format readable by the MinHash algorithm. It also shows a progress bar with the percent done :) . \r\nFor the future I believe that all the code in the algorithm should take a more generalized form and use the Vectors classes used by Mahout, then the users could either write their own version with a Vector interface or create a tool that converts their ds to the vector format the code will know.\r\nMurmurHash is used by PrepareDataset to hash the strings which denoted users (in the original last_fm dataset) - to integers. \r\n * TestClusterQuality - gets a clustered file, generated by the minhash algorithm and computes the average for each cluster aggregated over all clusters. \r\nIn each cluster the mean is computed by:\r\nSUM (similarity (item_i, item_j)) / TOTAL_SIMILARITIES, for i != j . TOTAL_SIMILARITIES = n! / k! * (n -k)!, n = total number of items in cluster, k = 2.\r\nThe aggregated mean is the mean of all these values. \r\n\r\nAs an example. Having the following input:\r\n\r\n1\t1\t2\t3\t4\t5\r\n2\t1\t2\t3\t4\t6\r\n3\t7\t6\t3\t8\t9\r\n4\t7\t8\t9\t6\t1\r\n5\t5\t6\t7\t8\t9\r\n6\t8\t7\t5\t6\r\n\r\nThe first column are the users. For each user, on the lines we have the items preferred (browsed, listened to) by him. Same format in the contents of each cluster bellow. \r\n\r\nwe get the following output(PARAMETERS: 20 hash functions, 4 keygroups (hash indices in a bucket), 2 - minimum items within cluster):\r\n\r\nCLUSTER ID -- 2359983695385880352354530253637788 (items=2)\t\r\n=========================================\r\n2\t1\t2\t3\t4\t6\r\n1\t1\t2\t3\t4\t5\r\n \r\nCLUSTER ID -- 236643825172184878353970117486898894 (items=2)\t\r\n=========================================\r\n4\t7\t8\t9\t6\t1\r\n3\t7\t6\t3\t8\t9\r\n \r\nCLUSTER ID -- 35606006580772015548743126287496777 (items=2)\t\r\n=========================================\r\n6\t8\t7\t5\t6\r\n5\t5\t6\t7\t8\t9\r\n \r\nCLUSTER ID -- 38797144231157365543316465389702468 (items=2)\t\r\n=========================================\r\n6\t8\t7\t5\t6\r\n5\t5\t6\t7\t8\t9\r\n\r\nThe aggregated average over theses clusters is 0.6793650793650793.\r\n\r\nI'm now testing on the last_fm dataset. The problem I currently encounter is that the size for the clustered file is kind of big, but I'm working on tuning the params. \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"created":"2010-04-03T11:01:16.266+0000","updated":"2010-04-03T11:01:16.266+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12853118","id":"12853118","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"body":"See comment above for this patch. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"created":"2010-04-03T11:03:55.078+0000","updated":"2010-04-03T11:03:55.078+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12872126","id":"12872126","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"Just cleaning house here -- is this suitable for committing? I don't see any comments to the contrary. Maybe you are in the best position to comment Ankur?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2010-05-27T07:44:13.422+0000","updated":"2010-05-27T07:44:13.422+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12873541","id":"12873541","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Just back from a vacation. I am catching up with a lot of things so won't be able to review Cristi's changes for next 3 - 4 days but I am hoping that any further changes would be minor. \r\n\r\nCristi, do you have some results to share from your testing over last.fm dataset ? \r\n\r\nOnce this is in we can start working towards using this to generate recommendations.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-05-31T04:38:38.432+0000","updated":"2010-05-31T04:38:38.432+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12894286","id":"12894286","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"Just cleaning house and pinging this issue. Since it's possibly a 'bug' want to make sure it's not dropped.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2010-07-31T15:08:36.484+0000","updated":"2010-07-31T15:08:36.484+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12894476","id":"12894476","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"body":"Sorry for the big delay - I had to finish my dissertation and other stuff. Anyways, here are some things I managed to do and for which I commit a patch:\r\n\r\n- Converted the existing code to work with hadoop 0.20+ \r\n- Converted the input of the algorithm to RandomAccessSparseVector \r\n- Converted the LastFM db into RandomAccessSparseVector format\r\n- Added command options using the DefaultOptionCreator mechanism\r\nRunning the MinHash clustering algorithm can be done using a configuration like this:\r\n\r\n-i(--input) lastfm/med_db_seq \r\n-o(--output) lastfm/med_db_clusters \r\n-mcs(--minClusterSize) 5 \r\n-nh(--numHashFunctions) 2 \r\n-kg(--keyGroups) 2  \r\n-ow(--overwriteOutput)\r\n\r\n- Evaluating the clustering results with the above configuration using the metric suggested by Ankur yields a value of 0.20303965982542901 .. which is not to good IMO. I will still run tests with other parameters and see what happens. \r\n\r\nThe following steps are the following:\r\n1. write tests for the current code (doing this now);\r\n2. refactor the code so that it uses \"points\" and \"vectors\" instead of \"items\" and \"users\". The algorithm will also cluster text files, for finding very similar files. \r\n3. Write some documentation on how to use the algorithm. \r\n4. Investigate a more general format for the output algorithm (Vectors or something like that). \r\n\r\nIf you have any suggestions I would very much like to hear them. \r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"created":"2010-08-02T07:13:52.687+0000","updated":"2010-08-02T07:13:52.687+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12894477","id":"12894477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"body":"See above comment. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"created":"2010-08-02T07:15:02.875+0000","updated":"2010-08-02T07:15:02.875+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12896771","id":"12896771","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Marking as fix for version 0.4. I will review Cristi's patch in a day to see if we need any changes. Besides that can anyone take a cursory look to suggest what else this patch needs to make it to 0.4","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-08-10T05:42:14.295+0000","updated":"2010-08-10T05:42:14.295+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12913112","id":"12913112","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"Ankur?\r\n\r\nHow does this look for committing?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2010-09-21T17:50:46.410+0000","updated":"2010-09-21T17:50:46.410+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12913560","id":"12913560","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Hi Ted,\r\n             There is bit of work left in this, specifically:-\r\n\r\n1. Adding murmurhash as an option for available hash functions. Looks like I can use the checkin of MAHOUT-503.\r\n2. Unit test case completion demonstrating correctness.\r\n3. Example code completion and cleanup. After a bit of thought I feel that the average item similarity across all clusters might not be a good criteria for a probabilistic clustering technique like this. Instead I am planning to write a unit test to calculate precision as folllows:-\r\n             - Set a min similarity threshold for intra cluster items, for e.x 0.4\r\n             - For each cluster out of randomly selected subset of all clusters, run pairwise similarity test to count true positives (TP) that pass the threshold.\r\n             - Precision = (TP/Total-items-in-clusters)\r\nDo you see any problems ? Any other suggestions ?\r\n4. Documentation and cleanup.\r\n\r\nI should be able to provide an updated patch by end of this week and with one more round of review and changes this should be good to go in by end of next week. If the timeline sounds acceptable for 0.4 then we're good else we'll have to push this one out to 0.5","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-09-22T14:04:16.392+0000","updated":"2010-09-22T14:04:16.392+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12913564","id":"12913564","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"Sounds like end of the week is a good time to decide.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2010-09-22T14:14:58.927+0000","updated":"2010-09-22T14:14:58.927+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12914867","id":"12914867","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Finally some action from my side ;-)\r\n\r\n1. HashFunction is now an interface with a single method - hash().\r\n2. Implementations of different hash functions are now moved to a HashFactory that also provides factory method for fetching hashFunctions of a requested type (linear, polynomial, murmur).\r\n3. Minhash mapper/reducer code cleaned up quite a bit.\r\n4. Added options for minimum vector size and hashType.\r\n\r\nPending tasks\r\n1. Fix the Unit test case.\r\n2. Fix example code over Last FM dataset.\r\n3. Add Javadoc documentation.\r\n\r\nI hope to complete the above task by EOD tomorrow and submit a new patch.     \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-09-25T19:42:39.746+0000","updated":"2010-09-25T19:42:39.746+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12915022","id":"12915022","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Updated patch with complete minhash implementation along with Unit test case. However I did not get enough time to finish\r\n\r\n1. Javadoc comments to my satisfaction.\r\n2. Example code re-write for Last.fm dataset.\r\n\r\nWhile I'll be certainly completing the javadoc comments within a days time, the example code rewrite might stretch this to a couple of days.\r\n\r\nTed/Sean can you please take a look and provide review comments ? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-09-26T19:26:32.788+0000","updated":"2010-09-26T19:26:32.788+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916186","id":"12916186","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Updated (and hopefully) penultimate patch with\r\n\r\n1. All the code issues Fixed after another round of cleanup and testing.\r\n2. Example code for conversion of LastFM dataset into Mahout vector format written to sequenceFiles.\r\n3. Cluster quality evaluation code for analyzing the precision at various similarity thresholds.\r\n\r\nHere are the steps to run the clustering code on Last FM dataset after applying the patch and building mahout jars :-\r\n\r\n1. Download  http://mtg.upf.edu/static/datasets/last.fm/lastfm-dataset-360K.tar.gz and uncompress and untar into a local dir.\r\n\r\n2. Run the following command to create data converted into vector format, dumped into sequence files:-\r\n       * java -Xms512m -Xmx512m -cp  /path/to/commons-logging-1.0.4.jar:/path/to/log4j-1.2.15.jar:/path/to/hadoop-0.20.2-core.jar:/path/to/mahout-math-0.4-SNAPSHOT.jar:/path/to/mahout-examples-0.4-SNAPSHOT.jar:/path/to/mahout-core-0.4-SNAPSHOT.jar org.apache.mahout.clustering.minhash.LastfmDataConverter /path/to/lastfm-dataset-360K/usersha1-artmbid-artname-plays.tsv /path/to/lastfm-vector-formated.seq\r\n\r\n3. Upload file 'lastfm-vector-formated.seq' to DFS dir 'lastfm'\r\n\r\n4. Before running the clustering MR job do the following on the shell prompt:-\r\n        * export HADOOP_CLASSPATH=/path/to/mahout-math-0.4-SNAPSHOT.jar:/path/to/mahout-core-0.4-SNAPSHOT.jar:/path/to/commons-cli-2.0-mahout.jar.\r\n\r\n5. Run the clustering MR job on the data. Here is a sample command line\r\n        * hadoop jar /path/to/mahout-core-0.4-SNAPSHOT.jar  org.apache.mahout.clustering.minhash.MinHashDriver -Dio.sort.mb=256 -Dio.sort.factor=20 -libjars /path/to/mahout-math-0.4-SNAPSHOT.jar --input lastfm  --output lastfm-out --minClusterSize 10 --minVectorSize 10 --hashType polynomial --numHashFunctions 60 --keyGroups 2 --debugOutput true --numReducers 1 \r\n        * Note:- debugOutput is set to true so that entire vectors are clustered which later on will be used for similarity computation in quality evaluation.\r\n\r\n6. Download the file under 'lastfm-out' to local dir and run the evaluation code as follows:-\r\n        * java -cp /path/to/commons-logging-1.0.4.jar:/path/to/log4j-1.2.15.jar:/path/to/hadoop-0.20.2-core.jar:/path/to/mahout-math-0.4-SNAPSHOT.jar:/path/to/mahout-examples-0.4-SNAPSHOT.jar:/path/to/mahout-core-0.4-SNAPSHOT.jar org.apache.mahout.clustering.minhash.LastfmClusterEvaluator lastfm-cluster-data.seq 0.2 0.5\r\n        \r\nHere are some of the results I got with different threshold parameters and sampling parameters\r\n\r\nTest Results\r\n=============\r\n (A) Listeners in same cluster with simiarity above threshold (0.2) : 4997\r\n (B) All listeners: 15564\r\n Average cluster precision: A/B = 32.11 \r\n\r\n(A) Listeners in same cluster with simiarity above threshold (0.3) : 1872\r\n (B) All listeners: 15564\r\n Average cluster precision: A/B = 12.03\r\n\r\nThe only task remaining here is updating Javadoc comments and incorporating any review comments. Apart from those 2 this should be good to go in.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-09-29T16:14:39.602+0000","updated":"2010-09-29T16:14:39.602+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916403","id":"12916403","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"I'm ready to commit after adjusting the code for project code style. However there are two outstanding issues IMHO:\r\n\r\nCatching OutOfMemoryError -- this looks bad. Is it really possible to proceed in this case versus just crashing?\r\nRandom -- java.util.Random is used directly and hard-coded to a seed. Should it not use an un-seeded RNG? and use RandomUtils.getRandom() in particular so that tests are repeatable? But then the tests fail for me.\r\n\r\nDon't need a new patch, perhaps just targeted advice on how we might adjust for these as necessary.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2010-09-30T07:41:14.388+0000","updated":"2010-09-30T07:41:14.388+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916435","id":"12916435","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"> Catching OutOfMemoryError\r\nLastfmClusterEvaluator - I was getting OOME as I was trying to run this on simply concatenated sequence files. Don't think we can proceed in this case as simply concatenated sequence files essentially mean corrupt data. Once this was fixed, there was no problem so we can safely remove the OOME catch block.\r\nLastfmDataConverter - The code works fine with -Xmx512m heap settings that should be reasonable for 1.5G of uncompressed data. This is what is suggested. Can't think of a reasonable in-memory approach.\r\n\r\n>Random - java.util.Random\r\nEach mapper should get the exact copy of hash functions for constructing the minhash signatures or else the chances of collision are quite less even for highly similar items. that is the reason for hard-coding seed for Random(). The reason for test failure is not that, it is the linear hash function that has a higher false positive rate than murmur and polynomial hash functions. The remedy is to concatenate more hashes for a key groups. For testLinearMinHashMRJob() I changed number of hash functions to 20 and number of key groups to 4 and now test passes successfully. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-09-30T10:51:13.290+0000","updated":"2010-09-30T10:51:13.290+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916475","id":"12916475","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"I see. So really we might as well take the first 6 integers generated by \"new Random(11)\" and stick them in as the fixed parameters for these hash functions. If we do that, might we not make sure to pick good values rather than leave it to the RNG? For example, it's bad if \"seedA\" in linear hash is 0. I'm sure it isn't. But if they're both even, that's not so great I think?\r\n\r\nThat is, what happens if I just stick in some arbitrary primes here?\r\nWould that remove the need to divide module a large prime at the end?\r\n\r\n(Also does it matter that 'byteVal' values can be negative? doesn't really seem so, from the math, but I stopped to wonder at it for a moment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2010-09-30T13:47:02.183+0000","updated":"2010-09-30T13:47:02.183+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916491","id":"12916491","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Having the seed as fixed parameters does not give us a family of hash functions, it will be the same hash functions repeated K times. What we need is a family of hash functions F where each function  h(s) is defined as follows:-\r\nh(s) = index of first element in a random permutation of all possible values that is also present in set s\r\nThen probability that two sets agree on a hash value is equal to their Jaccard coefficient i.e.\r\nP[h(s1) = h(s2) ] = (s1 intersect s2) / (s1 union s2)\r\n\r\nHaving multiple different hash functions is an implementation trick that simulates the random permutation of all possible values. Having said that, there is nothing that prevents our seed generator to generate duplicate seeds, essentially making 2 or more hash functions identical. Also I think it will make a difference if we just accept prime seeds.  What do you think ?\r\nLet me make the change of discarding duplicate seeds and accepting only primes to see what happens.\r\n\r\nBTW I completed the javadoc comments and also added support for http://mtg.upf.edu/static/datasets/last.fm/lastfm-dataset-1K.tar.gz dataset which I think is more dense.\r\nI will post a new patch shortly.      ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-09-30T14:37:09.721+0000","updated":"2010-09-30T14:37:09.721+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916494","id":"12916494","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"Got it, I understand the point of this class now. Well I might only humbly suggest \"RandomUtils.getRandom(11)\" for sheer consistency in that line.\r\n\r\nI also have a modified version of your patch locally where I tried to adjust the items that were giving off minor style warnings. I am happy to bear the burden of merging your latest changes. If they're small, it might be simple too to commit and let you add them in too.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2010-09-30T14:46:04.828+0000","updated":"2010-09-30T14:46:04.828+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916519","id":"12916519","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Sean, \r\n    Thanks for agreeing to merge the style and latest code changes.I'll study your style changes and hopefully do better next time :-). Code changes should only be in 'LastfmDataConverter' & 'LastfmClusterEvaluator'.\r\n\r\nUpdated patch with fixed Javadoc comments and added support for converting LastFM 1K users dataset http://www.dtic.upf.edu/~ocelma/MusicRecommendationDataset/lastfm-1K.html into vector format for running MinHash.\r\n\r\nSadly the changes in seed generation as we discussed did not help much and addition RandomUtil.getRandom(11) was causing testLinearMinHashMRJob() to fail consistently :-( . So I reverted the code change in HashFactory.java    \r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-09-30T15:37:21.059+0000","updated":"2010-09-30T15:37:21.059+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916579","id":"12916579","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"Sorry to chime in late,\r\n{quote}\r\n>Random - java.util.Random\r\nEach mapper should get the exact copy of hash functions for constructing the minhash signatures or else the chances of collision are quite less even for highly similar items. that is the reason for hard-coding seed for Random(). The reason for test failure is not that, it is the linear hash function that has a higher false positive rate than murmur and polynomial hash functions. The remedy is to concatenate more hashes for a key groups. For testLinearMinHashMRJob() I changed number of hash functions to 20 and number of key groups to 4 and now test passes successfully.\r\n{quote}\r\n\r\nThis sounds like we should be using murmurHash instead.  It is almost as fast a j.u.Random and has MUCH better properties.  This kind of change is fine to defer to 0.5.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2010-09-30T17:57:54.712+0000","updated":"2010-09-30T17:57:54.712+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916690","id":"12916690","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"I'm gonna submit my flavor of Ankur's patches, with \"new Random(11)\" left in place. We can iterate from there. Cool with all? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2010-09-30T21:40:23.748+0000","updated":"2010-09-30T21:40:23.748+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916834","id":"12916834","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Mahout-Quality #358 (See [https://hudson.apache.org/hudson/job/Mahout-Quality/358/])\r\n    MAHOUT-344\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2010-10-01T09:02:08.115+0000","updated":"2010-10-01T09:02:08.115+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12916849","id":"12916849","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"I am glad this was accepted. Thanks you folks.\r\n\r\nAlso, Thanks to Cristi Prodan for making progress on this. Cristi hope you see this :-)  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2010-10-01T10:04:31.764+0000","updated":"2010-10-01T10:04:31.764+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/12917942","id":"12917942","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"body":"I sure do :) . I've been silently watching the set of changes. I had a lot to learn when working on it as well as when seeing others contribute. Glad to see this making it into the trunk and hoping to contribute more in the future. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cristi","name":"cristi","emailAddress":"prodan dot cristian at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cristi Prodan","active":true},"created":"2010-10-05T11:16:56.606+0000","updated":"2010-10-05T11:16:56.606+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/13101188","id":"13101188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Ankur,\r\n\r\nCould you doc this at https://cwiki.apache.org/confluence/display/MAHOUT/Minhash+Clustering","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2011-09-09T13:01:24.555+0000","updated":"2011-09-09T13:01:24.555+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/13102460","id":"13102460","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Sure, will do it in next 2 - 3 days","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2011-09-12T06:40:41.652+0000","updated":"2011-09-12T06:40:41.652+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/13141892","id":"13141892","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Ankur, any luck on documenting this stuff?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2011-11-02T03:57:21.157+0000","updated":"2011-11-02T03:57:21.157+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/13142978","id":"13142978","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"I will surely get it done by 08/Nov/11. Apologies for delay","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2011-11-03T09:13:33.332+0000","updated":"2011-11-03T09:13:33.332+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/13144150","id":"13144150","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Also, Ankur, do you have a reference to what your implementation is based off of?  I'm mostly wondering about the purpose of the keyGroups option.  (I get what it does at the syntax level, wondering about the purpose of it)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2011-11-04T16:49:50.827+0000","updated":"2011-11-04T16:49:50.827+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/13144493","id":"13144493","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Mahout-Quality #1150 (See [https://builds.apache.org/job/Mahout-Quality/1150/])\r\n    MAHOUT-344: added minhash to build-asf-email.sh and to driver.classes.props\r\n\r\ngsingers : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1197803\r\nFiles : \r\n* /mahout/trunk/examples/bin/build-asf-email.sh\r\n* /mahout/trunk/src/conf/driver.classes.props\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2011-11-05T00:51:13.422+0000","updated":"2011-11-05T00:51:13.422+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/13146215","id":"13146215","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"body":"Grant, The idea behind keyGroups is to concatenate hashes from multiple hash functions reduce the probability of collision between 2 users that agreed on 1 or more individual hash values. This essentially improves the average similarity of users in a cluster.\r\n\r\nAbout documentation, I am caught up with a few urgent issues at work and will need more time. Hope to get some free cycles before end of this week.   ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ankur","name":"ankur","emailAddress":"ankur_goel79 at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ankur","active":true},"created":"2011-11-08T10:59:36.802+0000","updated":"2011-11-08T10:59:36.802+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12459826/comment/13159249","id":"13159249","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Ankur, do you have a reference for this implementation.  Trying to compare this with the original Broder paper.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2011-11-29T13:18:44.667+0000","updated":"2011-11-29T13:18:44.667+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-344/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i04b5z:"}}