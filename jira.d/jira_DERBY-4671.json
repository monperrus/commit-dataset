{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12465069","self":"https://issues.apache.org/jira/rest/api/latest/issue/12465069","key":"DERBY-4671","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314182","id":"12314182","description":"Old head of 10.5 branch","name":"10.5.3.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315343","id":"12315343","description":"Derby 10.6.2.1 Release","name":"10.6.2.1","archived":false,"released":true,"releaseDate":"2010-10-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315564","id":"12315564","description":"First release on the 10.7 branch.","name":"10.7.1.1","archived":false,"released":true,"releaseDate":"2010-12-14"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2010-05-21 09:14:23.894","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"24400","customfield_12310222":"3_*:*_1_*:*_512358022_*|*_1_*:*_1_*:*_59140811_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-05-27T12:23:04.088+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4671/watchers","watchCount":3,"isWatching":false},"created":"2010-05-20T21:38:05.255+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314182","id":"12314182","description":"Old head of 10.5 branch","name":"10.5.3.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313727","id":"12313727","description":"Feature release","name":"10.6.1.0","archived":false,"released":true,"releaseDate":"2010-05-18"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12333051","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12333051","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12469683","key":"DERBY-4749","self":"https://issues.apache.org/jira/rest/api/2/issue/12469683","fields":{"summary":"parametric insert faiure with mixed int/bigint params","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.png","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12332221","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12332221","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12465798","key":"DERBY-4683","self":"https://issues.apache.org/jira/rest/api/2/issue/12465798","fields":{"summary":"NPE in parameterized INSERT/SELECT","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12333444","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12333444","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12471880","key":"DERBY-4780","self":"https://issues.apache.org/jira/rest/api/2/issue/12471880","fields":{"summary":"NullPointerException thrown when creating nested query","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12332061","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12332061","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12438891","key":"DERBY-4420","self":"https://issues.apache.org/jira/rest/api/2/issue/12438891","fields":{"summary":"NullPointerException with INSERT INTO ... from EXCEPT/INTERSECT","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12332220","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12332220","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12465124","key":"DERBY-4672","self":"https://issues.apache.org/jira/rest/api/2/issue/12465124","fields":{"summary":"NullPointerException in insert from nested select with parameter","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-06-17T09:19:34.427+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11408","id":"11408","name":"SQL"}],"timeoriginalestimate":null,"description":"When trying to use jbossCache (version 3.2.5) and an embedded derby driver the following exception is thrown when jbossCache tries to persist information to the database\r\n\r\n48610 [AsyncCacheLoader-0] ERROR org.jboss.cache.loader.JDBCCacheLoader [] - Failed to insert node :Java exception: ': java.lang.NullPointerException'.\r\n 48610 [AsyncCacheLoader-0] WARN  org.jboss.cache.loader.AsyncCacheLoader [] - Failed to process async modifications: java.lang.IllegalStateException: Failed to insert node: Java e\r\nxception: ': java.lang.NullPointerException'.\r\n 48610 [AsyncCacheLoader-0] DEBUG org.jboss.cache.loader.AsyncCacheLoader [] - Exception:\r\n java.lang.IllegalStateException: Failed to insert node: Java exception: ': java.lang.NullPointerException'.\r\n        at org.jboss.cache.loader.AdjListJDBCCacheLoader.insertNode(AdjListJDBCCacheLoader.java:562)\r\n        at org.jboss.cache.loader.JDBCCacheLoader.addNewSubtree(JDBCCacheLoader.java:367)\r\n        at org.jboss.cache.loader.JDBCCacheLoader.put(JDBCCacheLoader.java:110)\r\n        at org.jboss.cache.loader.AbstractCacheLoader.put(AbstractCacheLoader.java:303)\r\n        at org.jboss.cache.loader.AbstractDelegatingCacheLoader.put(AbstractDelegatingCacheLoader.java:110)\r\n        at org.jboss.cache.loader.AsyncCacheLoader.access$601(AsyncCacheLoader.java:105)\r\n        at org.jboss.cache.loader.AsyncCacheLoader$AsyncProcessor.put(AsyncCacheLoader.java:417)\r\n        at org.jboss.cache.loader.AsyncCacheLoader$AsyncProcessor.run0(AsyncCacheLoader.java:409)\r\n        at org.jboss.cache.loader.AsyncCacheLoader$AsyncProcessor.run(AsyncCacheLoader.java:371)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:619)\r\nCaused by: java.sql.SQLException: Java exception: ': java.lang.NullPointerException'.\r\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(SQLExceptionFactory40.java:95)\r\n        at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:142)\r\n        at org.apache.derby.impl.jdbc.Util.javaException(Util.java:299)\r\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:403)\r\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:346)\r\n        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:2269)\r\n        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(ConnectionChild.java:81)\r\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.<init>(EmbedPreparedStatement.java:148)\r\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement20.<init>(EmbedPreparedStatement20.java:82)\r\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement30.<init>(EmbedPreparedStatement30.java:63)\r\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement40.<init>(EmbedPreparedStatement40.java:40)\r\n        at org.apache.derby.jdbc.Driver40.newEmbedPreparedStatement(Driver40.java:105)\r\n        at org.apache.derby.impl.jdbc.EmbedConnection.prepareStatement(EmbedConnection.java:1607)\r\n        at org.apache.derby.impl.jdbc.EmbedConnection.prepareStatement(EmbedConnection.java:1435)\r\n        at com.mchange.v2.c3p0.impl.NewProxyConnection.prepareStatement(NewProxyConnection.java:213)\r\n        at org.jboss.cache.loader.AdjListJDBCCacheLoader.prepareAndLogStatement(AdjListJDBCCacheLoader.java:90)\r\n        at org.jboss.cache.loader.AdjListJDBCCacheLoader.insertNode(AdjListJDBCCacheLoader.java:545)\r\n        ... 14 more\r\nCaused by: java.sql.SQLException: Java exception: ': java.lang.NullPointerException'.\r\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)\r\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(SQLExceptionFactory40.java:119)\r\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(SQLExceptionFactory40.java:70)\r\n        ... 30 more\r\nCaused by: java.lang.NullPointerException\r\n        at org.apache.derby.impl.sql.compile.CharTypeCompiler.convertible(CharTypeCompiler.java:54)\r\n        at org.apache.derby.impl.sql.compile.CharTypeCompiler.storable(CharTypeCompiler.java:100)\r\n        at org.apache.derby.impl.sql.compile.ResultColumn.checkStorableExpression(ResultColumn.java:887)\r\n        at org.apache.derby.impl.sql.compile.ResultColumn.checkStorableExpression(ResultColumn.java:879)\r\n        at org.apache.derby.impl.sql.compile.ResultColumnList.checkStorableExpressions(ResultColumnList.java:953)\r\n        at org.apache.derby.impl.sql.compile.InsertNode.bindStatement(InsertNode.java:456)\r\n        at org.apache.derby.impl.sql.GenericStatement.prepMinion(GenericStatement.java:324)\r\n        at org.apache.derby.impl.sql.GenericStatement.prepare(GenericStatement.java:90)\r\n        at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(GenericLanguageConnectionContext.java:828)\r\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.<init>(EmbedPreparedStatement.java:130)\r\n        ... 23 more\r\n\r\nIt works fine using ClientDriver.\r\n\r\nSample code and configuration files are attached.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10420","value":"Regression","id":"10420"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"37824","summary":"Embedded driver does not work with jbossCache","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raimy69","name":"raimy69","emailAddress":"raimy69 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ray O'Hagan","active":true},"subtasks":[],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10424","value":"Repro attached","id":"10424"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raimy69","name":"raimy69","emailAddress":"raimy69 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ray O'Hagan","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"------------------ Java Information ------------------\r\nJava Version:    1.5.0_12\r\nJava Vendor:     Sun Microsystems Inc.\r\nJava home:       c:\\FDE\\JDK1.5.0_12\\jre\r\nJava classpath:  .;C:\\Program Files\\Java\\jre1.5.0_06\\lib\\ext\\QTJava.zip;C:\\FDE\\db-derby-10.6.1.0-bin/lib/derby.jar;C:\\FDE\\db-derby-10.6.1.0-bin/lib/derbynet.jar;C:\\FDE\\db-derby-10\r\n6.1.0-bin/lib/derbyclient.jar;C:\\FDE\\db-derby-10.6.1.0-bin/lib/derbytools.jar\r\nOS name:         Windows XP\r\nOS architecture: x86\r\nOS version:      5.1\r\nJava user name:  rayohagan\r\nJava user home:  C:\\Documents and Settings\\rayohagan.FUTRIX\r\nJava user dir:   C:\\FDE\\db-derby-10.6.1.0-bin\\bin\r\njava.specification.name: Java Platform API Specification\r\njava.specification.version: 1.5\r\njava.runtime.version: 1.5.0_12-b04\r\n--------- Derby Information --------\r\nJRE - JDBC: J2SE 5.0 - JDBC 3.0\r\n[C:\\FDE\\db-derby-10.6.1.0-bin\\lib\\derby.jar] 10.6.1.0 - (938214)\r\n[C:\\FDE\\db-derby-10.6.1.0-bin\\lib\\derbytools.jar] 10.6.1.0 - (938214)\r\n[C:\\FDE\\db-derby-10.6.1.0-bin\\lib\\derbynet.jar] 10.6.1.0 - (938214)\r\n[C:\\FDE\\db-derby-10.6.1.0-bin\\lib\\derbyclient.jar] 10.6.1.0 - (938214)\r\n------------------------------------------------------\r\n----------------- Locale Information -----------------\r\nCurrent Locale :  [English/New Zealand [en_NZ]]\r\nFound support for locale: [cs]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [de_DE]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [es]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [fr]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [hu]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [it]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [ja_JP]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [ko_KR]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [pl]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [pt_BR]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [ru]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [zh_CN]\r\n         version: 10.6.1.0 - (938214)\r\nFound support for locale: [zh_TW]\r\n         version: 10.6.1.0 - (938214)\r\n------------------------------------------------------","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":13,"total":13,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12869781","id":"12869781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raimy69","name":"raimy69","emailAddress":"raimy69 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ray O'Hagan","active":true},"body":"Also attached a full eclipseProject which contains all jars & code to reproduce the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=raimy69","name":"raimy69","emailAddress":"raimy69 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ray O'Hagan","active":true},"created":"2010-05-20T21:42:03.590+0000","updated":"2010-05-20T21:42:03.590+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12869913","id":"12869913","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"The zip file contains a derby.log which shows the query that fails:\r\n\r\nINSERT INTO jbosscache (fqn, node, parent) SELECT ?, ?, ? FROM jbosscache_D WHERE NOT EXISTS (SELECT fqn FROM jbosscache WHERE fqn = ?)\r\n\r\nThe NPE is easily reproducible in ij:\r\n\r\nij> create table t (x int);\r\n0 rows inserted/updated/deleted\r\nij> prepare ps as 'insert into t select ? from t';\r\nERROR XJ001: Java exception: ': java.lang.NullPointerException'.\r\n\r\nPreparation of the insert statement fails with a NullPointerException in Derby 10.6.1.0, whereas 10.5.3.0 and earlier versions successfully prepare and execute the query.\r\n\r\nI'm not sure if it is intentional that the older versions allow ? in the select list, as the same select statement fails when it's not within an insert statement:\r\n\r\nij> prepare ps as 'select ? from t';\r\nERROR 42X34: There is a ? parameter in the select list.  This is not allowed.\r\n\r\nI would have expected the same result from the insert statement. Anyhow, it should not fail with a NullPointerException.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-05-21T09:14:23.894+0000","updated":"2010-05-21T09:14:23.894+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12869915","id":"12869915","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Attaching an SQL script that reproduces the NullPointerException on Derby 10.6.1.0. No error is raised with 10.5.3.0 and earlier releases.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-05-21T09:16:25.013+0000","updated":"2010-05-21T09:16:25.013+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12869938","id":"12869938","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"The NPE was introduced in this commit:\r\n\r\n------------------------------------------------------------------------\r\nr832379 | kahatlen | 2009-11-03 11:31:21 +0100 (Tue, 03 Nov 2009) | 16 lines\r\n\r\nDERBY-4420: NullPointerException with INSERT INTO ... from EXCEPT/INTERSECT\r\n\r\nThe failing code in ResultSetNode.setTableConstructorTypes() was meant\r\nto handle the case where the node represented a table constructor (aka\r\nVALUES clause). UnionNode already had an override to make it a no-op\r\nunless it actually represented a multi-row VALUES clause that had been\r\nrewritten to a union of single-row VALUES clauses.\r\n\r\nSince a VALUES clause is never rewritten to EXCEPT or INTERSECT, the\r\ncorrect handling is to make setTableConstructorTypes() a no-op in\r\nIntersectOrExceptNode. Rather than adding an empty override in\r\nIntersectOrExceptNode, the code was moved from\r\nResultSetNode.setTableConstructorTypes() to\r\nRowResultSetNode.setTableConstructorTypes(), and the default\r\nimplementation in ResultSetNode was left empty.\r\n\r\n------------------------------------------------------------------------","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-05-21T10:51:45.969+0000","updated":"2010-05-21T10:51:45.969+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12869939","id":"12869939","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Adding 10.5.3.1 to the affected versions since DERBY-4420 was backported to the 10.5 branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-05-21T10:53:06.453+0000","updated":"2010-05-21T10:53:06.453+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12869988","id":"12869988","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"The attached patch fixes the NullPointerException by reintroducing some code that was removed in the DERBY-4420 fix. Now the type will be initialized for dynamic parameters in the select list of INSERT INTO ... SELECT FROM statements, so that we don't run into a NullPointerException later in the compilation. The patch also adds a regression test case for this bug.\r\n\r\nI'm running the full regression test suite now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-05-21T14:07:48.662+0000","updated":"2010-05-21T14:07:48.662+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12870028","id":"12870028","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"I'm not completely sure I understand why this case is legal and the DERBY-4672 case\r\nis an error. What sorts of setXXX calls are allowed to be used with\r\n\r\n    insert into t select ? from t\r\n\r\nCan I substitute a simple literal value into that statement? Can I substitute a column\r\nname into that statement? Can I substitute a sub-query into that statement?\r\n\r\nI suppose what I'm saying is that it seems like this statement should be illegal, too\r\n(though it shouldn't throw a NPE, obviously)\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2010-05-21T16:08:54.956+0000","updated":"2010-05-21T16:08:54.956+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12870168","id":"12870168","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"> I'm not completely sure I understand why this case is legal and the DERBY-4672  case\r\n> is an error.\r\n[...]\r\n> I suppose what I'm saying is that it seems like this statement should be illegal, too\r\n> (though it shouldn't throw a NPE, obviously) \r\n\r\nI think we have two different classes of statements here:\r\n\r\n1) INSERT INTO ... SELECT FROM statements that have untyped parameter\r\nmarkers in their top-level select lists. Inferring the type of the\r\nparameter from the context is easy, because it's directly available\r\nfrom the target column list. Derby has always accepted statements that\r\nfall into this category.\r\n\r\n2) INSERT INTO ... SELECT FROM statements that have untyped parameter\r\nmarkers in the select list of one of the sub-queries. Inferring the\r\ntype of the parameter from the context is trickier, because the target\r\ncolumn list is not on the same nesting level in the query. Derby has\r\nalways rejected statements that fall into this category.\r\n\r\nDERBY-4671 belongs to category (1), whereas DERBY-4672 belongs to\r\ncategory (2).\r\n\r\nYou may be right that category 1 statements are not conforming to the\r\nstandard and should be illegal too. It may even be the case that it\r\nwas unintentional that those statements were accepted by Derby in the\r\nfirst place. However, since they have always been accepted, and there\r\napparently are applications that depend on this feature, I think it's\r\nsafer to keep the behaviour.\r\n\r\nSo I guess my take on this is\r\n\r\n- DERBY-4671 - this statement worked until DERBY-4420 broke it, so the\r\n  correct fix is to make it work again. If there are compelling\r\n  reasons to disallow the statement, and the benefits outweigh the\r\n  disadvantage of breaking existing apps, we could consider\r\n  disallowing it and document the changed behaviour in a release\r\n  note. Currently, I don't see any compelling reasons to disallow it.\r\n\r\n- DERBY-4672 - this statement has never worked, so making it fail\r\n  gracefully is an improvement. Further improvement is possible\r\n  later, though, if someone thinks it should be accepted.\r\n\r\n> What sorts of setXXX calls are allowed to be used with\r\n>\r\n>     insert into t select ? from t\r\n>\r\n> Can I substitute a simple literal value into that statement? Can I substitute a column\r\n> name into that statement? Can I substitute a sub-query into that statement?\r\n\r\nOnly literals.\r\n\r\nThe type will be taken from the context, so if T has one INT column,\r\nas in the example above, the statement will be equivalent to\r\n\r\n    insert into t select cast(? as int) from t\r\n\r\n(which is also accepted syntax, by the way). Then you can use\r\nsetInt(), setLong(), setString(), or any other of the setters we\r\naccept for an INT parameter, to tell which value to insert into T.\r\n\r\nFor example, the following code fragment\r\n\r\n    ps = c.prepareStatement(\"insert into t select ? from t\");\r\n    ps.setInt(1, 77);\r\n    ps.executeUpdate();\r\n\r\nwill double the number of rows in the table, and all the new rows will\r\nhave X=77. This is the same result as you get from this statement:\r\n\r\n    s.executeUpdate(\"insert into t select 77 from t\");\r\n\r\nNote also that we allow parameters in the select list of plain SELECT\r\nstatements too, just not untyped ones, since there we don't have\r\ncontext to get the type information from:\r\n\r\nij> prepare ps as 'select ? from t';\r\nERROR 42X34: There is a ? parameter in the select list.  This is not allowed.\r\nij> prepare ps as 'select cast(? as varchar(10)) from t';\r\nij> execute ps using 'values ''hello''';\r\n1         \r\n----------\r\nhello     \r\nhello     \r\nhello     \r\n\r\n3 rows selected\r\nij> prepare ps as 'select x+? from t';\r\nij> execute ps using 'values 1';\r\n1          \r\n-----------\r\n2          \r\n3          \r\n4          \r\n\r\n3 rows selected","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-05-21T21:22:53.998+0000","updated":"2010-05-21T21:22:53.998+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12870169","id":"12870169","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"All the regression tests ran cleanly with the patch, so I'm setting Patch Available.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-05-21T21:24:51.787+0000","updated":"2010-05-21T21:24:51.787+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12870218","id":"12870218","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"Thanks for the thorough and detailed explanation, it was quite clear and helpful!\r\n\r\n> this statement worked until DERBY-4420 broke it, so the correct fix is to make it work again\r\n\r\nAgreed. I'm comfortable with this approach; your notes helped me understand the distinction.\r\n\r\nI also read your patch and it looks fine to me; there is a good variety of test cases there.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2010-05-21T23:21:24.247+0000","updated":"2010-05-21T23:21:24.247+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12871157","id":"12871157","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks for looking at the patch, Bryan.\r\nCommitted revision 948045.\r\n\r\nI plan to backport the fix to 10.6 and 10.5, since the fix that caused the NPE also went into those branches.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-05-25T14:08:32.105+0000","updated":"2010-05-25T14:08:32.105+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/12872193","id":"12872193","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Merged to 10.6 branch (revision 948798) and 10.5 branch (revision 948799). Marking the issue as resolved.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-05-27T12:23:04.016+0000","updated":"2010-05-27T12:23:04.016+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465069/comment/13685284","id":"13685284","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"[bulk update] Close all resolved issues that haven't been updated for more than one year.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2013-06-17T09:19:34.424+0000","updated":"2013-06-17T09:19:34.424+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4671/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06u6n:"}}