{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12332784","self":"https://issues.apache.org/jira/rest/api/latest/issue/12332784","key":"DERBY-1262","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311953","id":"12311953","description":"","name":"10.1.3.1","archived":false,"released":true,"releaseDate":"2006-06-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-05-04 17:35:55.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22403","customfield_12310222":"1_*:*_1_*:*_3134299000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_2_*:*_25176331390_*|*_4_*:*_1_*:*_5228000","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-06-08T02:07:57.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1262/watchers","watchCount":0,"isWatching":false},"created":"2006-04-27T18:23:20.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10920","id":"10920","description":"initial source drop","name":"10.0.2.0","archived":false,"released":true,"releaseDate":"2004-08-30"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2007-05-16T06:51:01.779+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11408","id":"11408","name":"SQL"}],"timeoriginalestimate":null,"description":"% in like predicates does not seem to match tab character.  In the following example all whitespace in character literals is the tab character:\n\n\nij> create table t4(i integer primary key, j integer, c varchar(10));\n0 rows inserted/updated/deleted\nij> insert into t4 values (1, 1, 'abc\tdef');\n1 row inserted/updated/deleted\nij> select * from t4 where c like 'abc%';\nI          |J          |C         \n----------------------------------\n\n0 rows selected\nij> select * from t4 where c like 'abc\t%';\nI          |J          |C         \n----------------------------------\n1          |1          |abc    def   \n\n1 row selected","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"40004","summary":"Like-predicates: % does not match tab character","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Embedded, Solaris 10 x86","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":19,"total":19,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12377762","id":"12377762","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"body":"I believe this is a duplicate of DERBY-20.\r\nThis behaviour is due to the optimization of LikeEscapeOperatorNode. This node is converted to less-than and greater-than expressions (\"abc\" < column < \"abd\" ) that are  sent to the scan controller through 'qualifier' objects. When these are evaluated with SQLChar.stringCompare, the shorter string is padded with spaces, and the comparison fail due to that the ordinal value of TAB is less than Space. The comparison is correct, but optimization probably not.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"created":"2006-05-04T17:35:55.000+0000","updated":"2006-05-04T17:35:55.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12377878","id":"12377878","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bandaram","name":"bandaram","emailAddress":"bandaram at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satheesh Bandaram","active":true},"body":"Good find. By avoiding Like optimization, the results appear to be right. Like optimizations can be disabled by having an expression on the left, as below. But it has unwanted side effect to prevent using of any indexes, if present.\r\n\r\nPossible work around could be:\r\n\r\nij> select * from t4 where c like 'abc%';\r\nI          |J          |C\r\n----------------------------------\r\n\r\n0 rows selected\r\nij> select * from t4 where cast(c as varchar(20)) like 'abc%';\r\nI          |J          |C\r\n----------------------------------\r\n1          |1          |abc     def\r\n\r\n1 row selected\r\n\r\nFixing the code issue will involve correctly generating a lessThan/greaterThan value, I think.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bandaram","name":"bandaram","emailAddress":"bandaram at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Satheesh Bandaram","active":true},"created":"2006-05-05T02:40:04.000+0000","updated":"2006-05-05T02:40:04.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12378414","id":"12378414","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"body":"Thanks Satheesh for your input. I believe you are right that correcting the lessthan/greaterthan values is the way to go. I made a tentative patch for this issue, which pads the greaterthan and lessthan values with null chars, up to the number of chars in the 'receiver' column (at the left side of the LIKE statement).\r\n\r\nAs always, I'm not confident this is the most efficient approach. A different solution than adding a new param for Like.greaterThanXX() would be to insert a method call node that adds the padding (for preparedstatement executions).\r\n\r\nPatch passes derbylang.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"created":"2006-05-08T19:53:57.000+0000","updated":"2006-05-08T19:53:57.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12413100","id":"12413100","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"body":"Patch looks good, but I am not expert on this code.  I would very much like this to be fixed in 10.1.3 so it would be nice if someone with more experience with this code could look at it.  \r\n\r\nOne minor comment:\r\n- Why are the old versions of greaterEqualStringFromParameter() and greaterEqualStringFromParameterWithEsc() kept?  Do you need them anymore? Seems like they are only called from one location.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oysteing","name":"oysteing","emailAddress":"oystein dot grovlen at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Øystein Grøvlen","active":true},"created":"2006-05-24T17:14:00.000+0000","updated":"2006-05-24T17:14:00.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12413834","id":"12413834","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"body":"Thanks for your comment. The reason I didn't remove the old functions was due to metadata upgrade. Since stored preparedstatements in EmbedDatabaseMetaData is referring to the old functions, it wasn't immediately apparent to me how to deal with this.\r\n\r\nBut it is now my understanding that this is dealt with automatically by the upgrade mechanism? http://wiki.apache.org/db-derby/MetadataUpgrade\r\nI will make the changes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"created":"2006-05-30T21:03:04.000+0000","updated":"2006-05-30T21:03:04.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12413842","id":"12413842","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"body":"New patch:\r\nRemoved duplicate greaterThan/lessThan methods, and now relying on the upgrade mechanism to upgrade the stored preparedstatements (SPS).\r\n\r\nThe patch addresses both greaterThan and lessThan, and adds null padding on the right side so the comparisons will correctly respond to control characters. Changing lessThan was necessary to make 'asdf%' not include 'asdg\\t' (\\t is tab char).\r\n\r\nAll derbylang still passes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"created":"2006-05-30T22:07:52.000+0000","updated":"2006-05-30T22:07:52.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12414032","id":"12414032","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"body":"Instead of the loop in padWithNulls, you could use StringBuffer.setLength(len) instead, e.g:\r\n\r\n\t\tStringBuffer buf = new StringBuffer(len).append(string);\r\n                buf.setLength(len);\r\n\t\treturn buf.toString();\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"created":"2006-05-31T18:35:17.000+0000","updated":"2006-05-31T18:35:17.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12414035","id":"12414035","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"body":"Isn't it somewhat dnagerous to use tab-cahacters in strings in dynamicLikeOptimization.sql since it seems to me that Derby developers converts tabs to spaces and vice versa almost at will?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"created":"2006-05-31T18:59:24.000+0000","updated":"2006-05-31T18:59:24.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12414213","id":"12414213","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"body":"Attached new patch with corrections (thanks, Bernt)\r\n- using the more efficient stringbuffer.setLength for null-char padding\r\n- esc (0x1b) as control char in test case, to avoid potential future tab->space conversion.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"created":"2006-06-01T17:54:58.000+0000","updated":"2006-06-01T17:54:58.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12414218","id":"12414218","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"body":"Sorry about bugspam. :-)\r\nLast patch was unnecessarily resource-hungry, use this one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"created":"2006-06-01T18:08:45.000+0000","updated":"2006-06-01T18:08:45.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12414239","id":"12414239","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Couple of minor comments on the patch (1262_5.diff)\r\n\r\nIn padWithNulls() can StandardException ever be thrown? If not the method should not declare that it throws it.\r\n\r\nIn padWithNulls()  can  the input ever be null? Seems all the callers have already checked for null.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2006-06-01T21:20:34.000+0000","updated":"2006-06-01T21:20:34.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12414309","id":"12414309","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"body":"Removed unnecessary code. Thanks Daniel.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hmork","name":"hmork","emailAddress":"havard dot mork at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Håvard Mork","active":true},"created":"2006-06-02T04:45:24.000+0000","updated":"2006-06-02T04:45:24.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12414440","id":"12414440","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"All tests ran successfully. Committed 1262_6.diff to trunk with revision 411174. I have started derbyall on 10.1 with this fix, and I intend to check it in on that branch too.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2006-06-02T22:14:01.000+0000","updated":"2006-06-02T22:14:01.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12414489","id":"12414489","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Committed to 10.1 with revision 411223.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2006-06-03T01:01:38.000+0000","updated":"2006-06-03T01:01:38.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12415184","id":"12415184","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"I think there's a *regression* after this patch was checked in.  The following query returns 2 rows before svn revision 411174 and NO rows after.  I admit I haven't looked closely enough to figure out which behavior is correct, but some more investigation is definitely required (at the very least, a release note is needed if the new behavior is correct).\r\n\r\nThis change went into the 10.1 codeline as well, and I have verified that it returned 2 rows with the snapshot  405564 but no rows with the latest 10.1 codeline.\r\n\r\nSo I'm reopening this issue.  Note: it's currently marked as \"Unassigned\", so anyone who is inclined to pick it up should certainly feel free...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2006-06-08T00:40:49.000+0000","updated":"2006-06-08T00:40:49.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12415185","id":"12415185","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Oops, forgot to include the query:\r\n\r\ncreate table escTable (c1 char(10));\r\ninsert into escTable values ('%_\\a');\r\ninsert into escTable values ('%_b');\r\ninsert into escTable values ('%c');\r\ninsert into escTable values ('d');\r\ninsert into escTable values ('%_\\e');\r\nselect c1 from escTable where c1 like '\\%\\_\\\\%' ESCAPE '\\';","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2006-06-08T00:41:25.000+0000","updated":"2006-06-08T00:41:25.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12415186","id":"12415186","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Army said:\r\n\r\n|I think there's a *regression* after this patch was checked in. The following |query returns 2 rows before svn revision 411174 and NO rows after.\r\n\r\nAs I read it, the fix for this issue  created a bug that is  a wrong Results\r\nregression that is in the 10.1 maintenance  branch.\r\n\r\nI think instead of reopening this bug there should be a new bug marked regression and we should not release 10.1.3 while it exists.  \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-06-08T00:57:29.000+0000","updated":"2006-06-08T00:57:29.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12415195","id":"12415195","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Putting this back to \"Resolved\" after having filed DERBY-1386 for the regression.  If anyone decides to back out this change in 10.1 (instead of trying to fix DERBY-1386), please reopen as appropriate.  Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2006-06-08T02:07:57.000+0000","updated":"2006-06-08T02:07:57.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332784/comment/12496209","id":"12496209","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Assigning the issue to Håvard since he was the one fixing it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-05-16T06:51:01.762+0000","updated":"2007-05-16T06:51:01.762+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1262/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i077n3:"}}