{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12407498","self":"https://issues.apache.org/jira/rest/api/latest/issue/12407498","key":"DERBY-3931","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313771","id":"12313771","description":"build: 764942, 14/Apr/09. Voted release: 28/Apr/09. Announced: 1/May/09","name":"10.5.1.1","archived":false,"released":true,"releaseDate":"2009-04-28"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2008-10-30 14:11:52.462","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"23923","customfield_12310222":"1_*:*_1_*:*_18024474_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_328317173","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2008-10-30T14:12:20.260+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-3931/watchers","watchCount":0,"isWatching":false},"created":"2008-10-30T09:11:55.786+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313771","id":"12313771","description":"build: 764942, 14/Apr/09. Voted release: 28/Apr/09. Announced: 1/May/09","name":"10.5.1.1","archived":false,"released":true,"releaseDate":"2009-04-28"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-06-29T22:58:02.515+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"See http://dbtg.thresher.com/derby/test/Daily/javaME/testing/Limited/testSummary-708941.html / http://dbtg.thresher.com/derby/test/Daily/javaME/testing/testlog/ubuntu/708941-suitesAll_diff.txt\r\n\r\n3) test_008_basicForeignKeys(org.apache.derbyTesting.functionTests.tests.lang.GeneratedColumnsTest)java.sql.SQLException: 'F_MINUS' is not recognized as a function or procedure.\r\n\tat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Ljava/lang/String;Ljava/lang/String;Ljava/sql/SQLException;ILjava/lang/Throwable;[Ljava/lang/Object;)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.Util.generateCsSQLException(Lorg/apache/derby/iapi/error/StandardException;)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Ljava/lang/Throwable;)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Ljava/lang/Throwable;ZZ)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.handleException(Ljava/lang/Throwable;)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.ConnectionChild.handleException(Ljava/lang/Throwable;)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.EmbedPreparedStatement.<init>(Lorg/apache/derby/impl/jdbc/EmbedConnection;Ljava/lang/String;ZIIII[I[Ljava/lang/String;)V(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.EmbedPreparedStatement169.<init>(Lorg/apache/derby/impl/jdbc/EmbedConnection;Ljava/lang/String;ZIIII[I[Ljava/lang/String;)V(Unknown Source)\r\n\tat org.apache.derby.jdbc.Driver169.newEmbedPreparedStatement(Lorg/apache/derby/impl/jdbc/EmbedConnection;Ljava/lang/String;ZIIII[I[Ljava/lang/String;)Ljava/sql/PreparedStatement;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.prepareStatement(Ljava/lang/String;IIII[I[Ljava/lang/String;)Ljava/sql/PreparedStatement;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.prepareStatement(Ljava/lang/String;)Ljava/sql/PreparedStatement;(Unknown Source)\r\n\tat org.apache.derbyTesting.functionTests.tests.lang.GeneratedColumnsTest.chattyPrepare(Ljava/sql/Connection;Ljava/lang/String;)Ljava/sql/PreparedStatement;(GeneratedColumnsTest.java:991)\r\n\tat org.apache.derbyTesting.functionTests.tests.lang.GeneratedColumnsTest.goodStatement(Ljava/sql/Connection;Ljava/lang/String;)V(GeneratedColumnsTest.java:977)\r\n\tat org.apache.derbyTesting.functionTests.tests.lang.GeneratedColumnsTest.test_008_basicForeignKeys()V(GeneratedColumnsTest.java:834)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare()V(BaseTestCase.java:105)\r\n\tat junit.extensions.TestDecorator.basicRun(Ljunit/framework/TestResult;)V(TestDecorator.java:24)\r\n\tat junit.extensions.TestSetup$1.protect()V(TestSetup.java:21)\r\n\tat junit.extensions.TestSetup.run(Ljunit/framework/TestResult;)V(TestSetup.java:25)\r\n\tat org.apache.derbyTesting.junit.BaseTestSetup.run(Ljunit/framework/TestResult;)V(BaseTestSetup.java:57)\r\n\tat sun.misc.CVM.runMain()V(CVM.java:514)\r\nCaused by: ERROR 42Y03: 'F_MINUS' is not recognized as a function or procedure.\r\n\tat org.apache.derby.iapi.error.StandardException.newException(Ljava/lang/String;Ljava/lang/Object;)Lorg/apache/derby/iapi/error/StandardException;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.compile.StaticMethodCallNode.bindExpression(Lorg/apache/derby/impl/sql/compile/FromList;Lorg/apache/derby/impl/sql/compile/SubqueryList;Ljava/util/Vector;)Lorg/apache/derby/impl/sql/compile/JavaValueNode;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.compile.JavaToSQLValueNode.bindExpression(Lorg/apache/derby/impl/sql/compile/FromList;Lorg/apache/derby/impl/sql/compile/SubqueryList;Ljava/util/Vector;)Lorg/apache/derby/impl/sql/compile/ValueNode;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.compile.GenerationClauseNode.bindExpression(Lorg/apache/derby/impl/sql/compile/FromList;Lorg/apache/derby/impl/sql/compile/SubqueryList;Ljava/util/Vector;)Lorg/apache/derby/impl/sql/compile/ValueNode;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.compile.TableElementList.bindAndValidateGenerationClauses(Lorg/apache/derby/impl/sql/compile/FromList;)V(Unknown Source)\r\n\tat org.apache.derby.impl.sql.compile.CreateTableNode.bindStatement()V(Unknown Source)\r\n\tat org.apache.derby.impl.sql.GenericStatement.prepMinion(Lorg/apache/derby/iapi/sql/conn/LanguageConnectionContext;Z[Ljava/lang/Object;Lorg/apache/derby/iapi/sql/dictionary/SchemaDescriptor;Z)Lorg/apache/derby/iapi/sql/PreparedStatement;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.GenericStatement.prepare(Lorg/apache/derby/iapi/sql/conn/LanguageConnectionContext;Z)Lorg/apache/derby/iapi/sql/PreparedStatement;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(Lorg/apache/derby/iapi/sql/dictionary/SchemaDescriptor;Ljava/lang/String;ZZ)Lorg/apache/derby/iapi/sql/PreparedStatement;(Unknown Source)\r\n\t... 32 more\r\n4) test_007_basicTriggers(org.apache.derbyTesting.functionTests.tests.lang.GeneratedColumnsTest)java.sql.SQLException: 'F_MINUS' is not recognized as a function or procedure.\r\n\tat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Ljava/lang/String;Ljava/lang/String;Ljava/sql/SQLException;ILjava/lang/Throwable;[Ljava/lang/Object;)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.Util.generateCsSQLException(Lorg/apache/derby/iapi/error/StandardException;)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Ljava/lang/Throwable;)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Ljava/lang/Throwable;ZZ)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.handleException(Ljava/lang/Throwable;)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.ConnectionChild.handleException(Ljava/lang/Throwable;)Ljava/sql/SQLException;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.EmbedPreparedStatement.<init>(Lorg/apache/derby/impl/jdbc/EmbedConnection;Ljava/lang/String;ZIIII[I[Ljava/lang/String;)V(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.EmbedPreparedStatement169.<init>(Lorg/apache/derby/impl/jdbc/EmbedConnection;Ljava/lang/String;ZIIII[I[Ljava/lang/String;)V(Unknown Source)\r\n\tat org.apache.derby.jdbc.Driver169.newEmbedPreparedStatement(Lorg/apache/derby/impl/jdbc/EmbedConnection;Ljava/lang/String;ZIIII[I[Ljava/lang/String;)Ljava/sql/PreparedStatement;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.prepareStatement(Ljava/lang/String;IIII[I[Ljava/lang/String;)Ljava/sql/PreparedStatement;(Unknown Source)\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.prepareStatement(Ljava/lang/String;)Ljava/sql/PreparedStatement;(Unknown Source)\r\n\tat org.apache.derbyTesting.functionTests.tests.lang.GeneratedColumnsTest.chattyPrepare(Ljava/sql/Connection;Ljava/lang/String;)Ljava/sql/PreparedStatement;(GeneratedColumnsTest.java:991)\r\n\tat org.apache.derbyTesting.functionTests.tests.lang.GeneratedColumnsTest.goodStatement(Ljava/sql/Connection;Ljava/lang/String;)V(GeneratedColumnsTest.java:977)\r\n\tat org.apache.derbyTesting.functionTests.tests.lang.GeneratedColumnsTest.test_007_basicTriggers()V(GeneratedColumnsTest.java:661)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare()V(BaseTestCase.java:105)\r\n\tat junit.extensions.TestDecorator.basicRun(Ljunit/framework/TestResult;)V(TestDecorator.java:24)\r\n\tat junit.extensions.TestSetup$1.protect()V(TestSetup.java:21)\r\n\tat junit.extensions.TestSetup.run(Ljunit/framework/TestResult;)V(TestSetup.java:25)\r\n\tat org.apache.derbyTesting.junit.BaseTestSetup.run(Ljunit/framework/TestResult;)V(BaseTestSetup.java:57)\r\n\tat sun.misc.CVM.runMain()V(CVM.java:514)\r\nCaused by: ERROR 42Y03: 'F_MINUS' is not recognized as a function or procedure.\r\n\tat org.apache.derby.iapi.error.StandardException.newException(Ljava/lang/String;Ljava/lang/Object;)Lorg/apache/derby/iapi/error/StandardException;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.compile.StaticMethodCallNode.bindExpression(Lorg/apache/derby/impl/sql/compile/FromList;Lorg/apache/derby/impl/sql/compile/SubqueryList;Ljava/util/Vector;)Lorg/apache/derby/impl/sql/compile/JavaValueNode;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.compile.JavaToSQLValueNode.bindExpression(Lorg/apache/derby/impl/sql/compile/FromList;Lorg/apache/derby/impl/sql/compile/SubqueryList;Ljava/util/Vector;)Lorg/apache/derby/impl/sql/compile/ValueNode;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.compile.GenerationClauseNode.bindExpression(Lorg/apache/derby/impl/sql/compile/FromList;Lorg/apache/derby/impl/sql/compile/SubqueryList;Ljava/util/Vector;)Lorg/apache/derby/impl/sql/compile/ValueNode;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.compile.TableElementList.bindAndValidateGenerationClauses(Lorg/apache/derby/impl/sql/compile/FromList;)V(Unknown Source)\r\n\tat org.apache.derby.impl.sql.compile.CreateTableNode.bindStatement()V(Unknown Source)\r\n\tat org.apache.derby.impl.sql.GenericStatement.prepMinion(Lorg/apache/derby/iapi/sql/conn/LanguageConnectionContext;Z[Ljava/lang/Object;Lorg/apache/derby/iapi/sql/dictionary/SchemaDescriptor;Z)Lorg/apache/derby/iapi/sql/PreparedStatement;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.GenericStatement.prepare(Lorg/apache/derby/iapi/sql/conn/LanguageConnectionContext;Z)Lorg/apache/derby/iapi/sql/PreparedStatement;(Unknown Source)\r\n\tat org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(Lorg/apache/derby/iapi/sql/dictionary/SchemaDescriptor;Ljava/lang/String;ZZ)Lorg/apache/derby/iapi/sql/PreparedStatement;(Unknown Source)\r\n\t... 32 more\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38927","summary":"GeneratedColumnsTest fails with \"'F_MINUS' is not recognized as a function or procedure.\" on cvm/phoneME","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Product: phoneME Advanced (phoneme_advanced_mr2-b34)\r\nProfile: Foundation Profile Specification 1.1\r\nJVM: CVM phoneme_advanced_mr2-b34 (interpreter loop)","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":2,"total":2,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407498/comment/12643973","id":"12643973","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Attaching derby-3931-01-aa-makeIndependent.diff. I believe the problem was that the test cases weren't independent. Later test cases expected the f_minus function to have been created already. This worked fine on most platforms, which run the test cases in alphabetical order. However, on the phoneME platform, the cases run in reverse-alphabetical order.\r\n\r\nI have verified the problem by running the tests on phoneME. This patch fixes the problem for me. Committed at subversion revision 709161.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2008-10-30T14:11:52.462+0000","updated":"2008-10-30T14:11:52.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12407498/comment/12643975","id":"12643975","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"The committed patch fixes the problem for me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2008-10-30T14:12:20.237+0000","updated":"2008-10-30T14:12:20.237+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-3931/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i070zr:"}}