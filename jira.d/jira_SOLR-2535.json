{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12507990","self":"https://issues.apache.org/jira/rest/api/latest/issue/12507990","key":"SOLR-2535","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310230","id":"12310230","key":"SOLR","name":"Solr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310230&avatarId=22151","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310230&avatarId=22151","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310230&avatarId=22151"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316683","id":"12316683","description":"Major release after 3.3","name":"3.4","archived":false,"released":true,"releaseDate":"2011-09-15"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314992","id":"12314992","description":"Alpha release of 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-06-02 15:50:40.326","customfield_12312323":null,"customfield_12310420":"5005","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_4644708777_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2011-07-14T17:04:04.731+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-2535/watchers","watchCount":1,"isWatching":false},"created":"2011-05-21T22:52:16.004+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314371","id":"12314371","description":"Major release after 1.4.1","name":"3.1","archived":false,"released":true,"releaseDate":"2011-03-31"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12316172","id":"12316172","description":"Major release after 3.1","name":"3.2","archived":false,"released":true,"releaseDate":"2011-06-03"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314992","id":"12314992","description":"Alpha release of 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-09-16T14:48:53.707+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313214","id":"12313214","name":"SearchComponents - other","description":"Issues related to Search Components that aren't specifically called out elsewhere: TermsComponent, TermVector, etc."}],"timeoriginalestimate":null,"description":"In Solr 1.4.1, going to the path solr/admin/file I see an XML-formatted listing of the conf directory, like:\r\n{noformat}\r\n<response>\r\n<lst name=\"responseHeader\"><int name=\"status\">0</int><int name=\"QTime\">1</int></lst>\r\n<lst name=\"files\">\r\n  <lst name=\"elevate.xml\"><long name=\"size\">1274</long><date name=\"modified\">2011-03-06T20:42:54Z</date></lst>\r\n  ...\r\n</lst>\r\n</response>\r\n{noformat}\r\n\r\nI can list the xslt sub-dir using solr/admin/files?file=/xslt\r\n\r\n\r\nIn Solr 3.1.0, both of these fail with a 500 error:\r\n{noformat}\r\nHTTP ERROR 500\r\n\r\nProblem accessing /solr/admin/file/. Reason:\r\n\r\n    did not find a CONTENT object\r\n\r\njava.io.IOException: did not find a CONTENT object\r\n{noformat}\r\n\r\nLooking at the code in class ShowFileRequestHandler, it seem like 3.1.0 should still handle directory listings if not file name is given, or if the file is a directory, so I am filing this as a bug.\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"18701","summary":"REGRESSION: in Solr 3.x and trunk the admin/file handler fails to show directory listings","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pwolanin","name":"pwolanin","emailAddress":"peter dot wolanin at acquia dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Wolanin","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pwolanin","name":"pwolanin","emailAddress":"peter dot wolanin at acquia dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Wolanin","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"java 1.6, jetty","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":20,"total":20,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13042836","id":"13042836","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steffkes","name":"steffkes","emailAddress":"matheis dot stefan at googlemail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=steffkes&avatarId=10183","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=steffkes&avatarId=10183","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=steffkes&avatarId=10183","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=steffkes&avatarId=10183"},"displayName":"Stefan Matheis (steffkes)","active":true},"body":"Same for trunk\r\n\r\n{code}$ svn info\r\nPath: .\r\nURL: https://svn.apache.org/repos/asf/lucene/dev/trunk/solr\r\nRepository Root: https://svn.apache.org/repos/asf\r\nRepository UUID: 13f79535-47bb-0310-9956-ffa450edef68\r\nRevision: 1130610\r\nNode Kind: directory\r\nSchedule: normal\r\nLast Changed Author: rmuir\r\nLast Changed Rev: 1130527\r\nLast Changed Date: 2011-06-02 14:58:22 +0200 (Thu, 02 Jun 2011){code}\r\n\r\nStacktrace:\r\n\r\n{code}INFO: [] webapp=/solr path=/admin/file params={} status=0 QTime=7\r\nJun 2, 2011 5:49:29 PM org.apache.solr.common.SolrException log\r\nSEVERE: java.io.IOException: did not find a CONTENT object\r\n        at org.apache.solr.response.RawResponseWriter.write(RawResponseWriter.java:113)\r\n        at org.apache.solr.servlet.SolrDispatchFilter.writeResponse(SolrDispatchFilter.java:333)\r\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:261)\r\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)\r\n        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)\r\n        at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n        at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n        at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\r\n        at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)\r\n        at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\r\n        at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n        at org.mortbay.jetty.Server.handle(Server.java:326)\r\n        at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\r\n        at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)\r\n        at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)\r\n        at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n        at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n        at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)\r\n        at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582){code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steffkes","name":"steffkes","emailAddress":"matheis dot stefan at googlemail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=steffkes&avatarId=10183","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=steffkes&avatarId=10183","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=steffkes&avatarId=10183","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=steffkes&avatarId=10183"},"displayName":"Stefan Matheis (steffkes)","active":true},"created":"2011-06-02T15:50:40.326+0000","updated":"2011-06-02T15:50:40.326+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13043816","id":"13043816","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Bulk move 3.2 -> 3.3","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2011-06-03T16:47:13.329+0000","updated":"2011-06-03T16:47:13.329+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13046122","id":"13046122","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pwolanin","name":"pwolanin","emailAddress":"peter dot wolanin at acquia dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Wolanin","active":true},"body":"This ought to be a trivial fix, so I hope we can get it in 3.1.1, or is 3.3 going to be the next minor version?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pwolanin","name":"pwolanin","emailAddress":"peter dot wolanin at acquia dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Wolanin","active":true},"created":"2011-06-08T18:26:43.470+0000","updated":"2011-06-08T18:26:43.470+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13047396","id":"13047396","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dsmiley","name":"dsmiley","emailAddress":"dsmiley at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dsmiley&avatarId=10110","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dsmiley&avatarId=10110","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dsmiley&avatarId=10110","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dsmiley&avatarId=10110"},"displayName":"David Smiley","active":true},"body":"The attached patch fixes this bug and adds new tests for a directory listing and getting a file. This bug was triggered with the introduction of SOLR-2263 in which RawResponseWriter was changed to implement BinaryQueryResponseWriter. This wasn't a problem in and of itself, but the SolrDispatchFilter checks if a response writer is the binary variant and if so calls the write(OutputStream...) variant. But the responses from ShowFileRequestHandler that list directory contents are incompatible with the RawResponseWriter if RawResponseWriter's write(OutputStream...) method is uses, instead of a character based stream. The solution was to move the defaulting of the \"raw\" response type from ShowFileRequestHandler.init() into into a condition within handleRequestBody() where it knows the response is a file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dsmiley","name":"dsmiley","emailAddress":"dsmiley at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dsmiley&avatarId=10110","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dsmiley&avatarId=10110","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dsmiley&avatarId=10110","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dsmiley&avatarId=10110"},"displayName":"David Smiley","active":true},"created":"2011-06-10T19:45:41.147+0000","updated":"2011-06-10T19:45:41.147+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13047411","id":"13047411","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pwolanin","name":"pwolanin","emailAddress":"peter dot wolanin at acquia dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Wolanin","active":true},"body":"Thanks for the patch.  Is every thing in there related to this bug?  Some of it looks like other cleanup.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pwolanin","name":"pwolanin","emailAddress":"peter dot wolanin at acquia dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Wolanin","active":true},"created":"2011-06-10T20:04:44.411+0000","updated":"2011-06-10T20:04:44.411+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13047420","id":"13047420","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dsmiley","name":"dsmiley","emailAddress":"dsmiley at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dsmiley&avatarId=10110","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dsmiley&avatarId=10110","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dsmiley&avatarId=10110","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dsmiley&avatarId=10110"},"displayName":"David Smiley","active":true},"body":"The relayout of import statements in SolrDisptatchFilter.java is inadvertent.\r\nThe QueryRequest.java one-liner was a null-check that I felt was an improvement so that I didn't have to pass in an empty params list to QueryRequest's constructor.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dsmiley","name":"dsmiley","emailAddress":"dsmiley at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dsmiley&avatarId=10110","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dsmiley&avatarId=10110","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dsmiley&avatarId=10110","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dsmiley&avatarId=10110"},"displayName":"David Smiley","active":true},"created":"2011-06-10T20:10:08.878+0000","updated":"2011-06-10T20:10:08.878+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13047999","id":"13047999","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pwolanin","name":"pwolanin","emailAddress":"peter dot wolanin at acquia dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Wolanin","active":true},"body":"Quick test works  - patched the 3.2 source and rebuilding the directory and subdirctory listings work as expected.\r\n\r\nThe patch I used is the same as David's but just re-rolled without the changes to SolrDisptatchFilter.java\r\n\r\n\r\nI'm trying to attach it, but jira is throwing a stack trace.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pwolanin","name":"pwolanin","emailAddress":"peter dot wolanin at acquia dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Wolanin","active":true},"created":"2011-06-11T22:45:24.249+0000","updated":"2011-06-11T22:45:24.249+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13048002","id":"13048002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_rowe","name":"steve_rowe","emailAddress":"sarowe at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Rowe","active":true},"body":"bq. I'm trying to attach it, but jira is throwing a stack trace.\r\n\r\nI mentioned this problem on #asfinfra an hour or so ago - medthomas has tracked down the problem, to the ASF JIRA plugin needing to be updated for the just-upgraded JIRA instance, and he's working on fixing the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_rowe","name":"steve_rowe","emailAddress":"sarowe at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Rowe","active":true},"created":"2011-06-11T22:51:11.577+0000","updated":"2011-06-11T22:51:11.577+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13051626","id":"13051626","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pwolanin","name":"pwolanin","emailAddress":"peter dot wolanin at acquia dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Wolanin","active":true},"body":"Here's the patch I used.  As before, it's just David's with the extra changes omitted.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pwolanin","name":"pwolanin","emailAddress":"peter dot wolanin at acquia dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Wolanin","active":true},"created":"2011-06-19T02:26:26.002+0000","updated":"2011-06-19T02:26:26.002+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13062155","id":"13062155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"body":"OK, I've applied the patch to both 3x and trunk and it looks good. If nobody objects I'll commit this Monday.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"created":"2011-07-08T20:22:14.413+0000","updated":"2011-07-08T20:22:14.413+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13062162","id":"13062162","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=simonw","name":"simonw","emailAddress":"simonw at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Willnauer","active":true},"body":"bq. OK, I've applied the patch to both 3x and trunk and it looks good. If nobody objects I'll commit this Monday.\r\ndon't wait too long, no need to wait until monday.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=simonw","name":"simonw","emailAddress":"simonw at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Willnauer","active":true},"created":"2011-07-08T20:31:01.647+0000","updated":"2011-07-08T20:31:01.647+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13062180","id":"13062180","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yseeley%40gmail.com","name":"yseeley@gmail.com","emailAddress":"yseeley at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yonik Seeley","active":true},"body":"bq. don't wait too long, no need to wait until monday.\r\n\r\n+1, commit it now!\r\n\r\nEsp for a bug fix, unless one thinks there is something likely controversial about it, or one is unsure about something and is thus requesting feedback.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yseeley%40gmail.com","name":"yseeley@gmail.com","emailAddress":"yseeley at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yonik Seeley","active":true},"created":"2011-07-08T21:03:54.979+0000","updated":"2011-07-08T21:03:54.979+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13064552","id":"13064552","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"bq. If nobody objects I'll commit this Monday.\r\n\r\n+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2011-07-13T13:48:56.856+0000","updated":"2011-07-13T13:48:56.856+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13064559","id":"13064559","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"body":"I'm just waiting for the recent code reorganization to get back to 3x to make this easier on myself, especially the merge step. I could have two patches, but it seems like the code reorg is hard enough as it is, making additional changes in the underlying 3x code base would just add useless complexity.\r\n\r\nBut I'm willing to be convinced otherwise.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"created":"2011-07-13T13:55:27.194+0000","updated":"2011-07-13T13:55:27.194+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13064561","id":"13064561","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_rowe","name":"steve_rowe","emailAddress":"sarowe at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Rowe","active":true},"body":"bq. I'm just waiting for the recent code reorganization to get back to 3x\r\n\r\nI'm working on it!  Hopefully finished today or tomorrow.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_rowe","name":"steve_rowe","emailAddress":"sarowe at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Rowe","active":true},"created":"2011-07-13T13:58:59.117+0000","updated":"2011-07-13T13:58:59.117+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13064568","id":"13064568","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"body":"No problem, man! I'm just happy *you're* doing the work on the reorg instead of me....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"created":"2011-07-13T14:07:07.915+0000","updated":"2011-07-13T14:07:07.915+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13065241","id":"13065241","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"body":"Patch to reflect relocated code.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"created":"2011-07-14T13:16:12.575+0000","updated":"2011-07-14T13:16:12.575+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13065389","id":"13065389","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"body":"trunk rev:      1146685\r\nbranch 3x rev:  1146806\r\n\r\nThanks David and Peter!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erickerickson","name":"erickerickson","emailAddress":"erickerickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erick Erickson","active":true},"created":"2011-07-14T17:04:04.752+0000","updated":"2011-07-14T17:04:04.752+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13065436","id":"13065436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_rowe","name":"steve_rowe","emailAddress":"sarowe at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Rowe","active":true},"body":"Jenkins is reporting that branch_3x {{solr/src/test}} compilation is failing after this issue was committed.\r\n\r\nI've opened SOLR-2653 to address the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steve_rowe","name":"steve_rowe","emailAddress":"sarowe at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steve Rowe","active":true},"created":"2011-07-14T18:23:08.357+0000","updated":"2011-07-14T18:23:08.357+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12507990/comment/13106222","id":"13106222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"bulk close for 3.4","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2011-09-16T14:48:53.706+0000","updated":"2011-09-16T14:48:53.706+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-2535/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i03k67:"}}