{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12467647","self":"https://issues.apache.org/jira/rest/api/latest/issue/12467647","key":"MAHOUT-427","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314396","id":"12314396","description":"","name":"0.4","archived":false,"released":true,"releaseDate":"2010-10-31"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-07-06 13:22:06.929","customfield_12312323":null,"customfield_12310420":"9636","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_8076999163_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-09-24T11:56:12.414+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-427/watchers","watchCount":0,"isWatching":false},"created":"2010-06-23T00:19:33.251+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314396","id":"12314396","description":"","name":"0.4","archived":false,"released":true,"releaseDate":"2010-10-31"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-10-31T15:49:46.839+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[],"timeoriginalestimate":null,"description":"Once I resolved issue MAHOUT-426 , I was still not able to run the ./examples/bin/build-reuters.sh script without errors  These were ClassNotFoundExceptions, indicating a problem with the classpath.  \r\n\r\nThe issue appears to be related to the \"-core\" argument, which controls the classpath.  Placing '-core' as the first argument to the individual $MAHOUT_HOME/bin/mahout calls in the script solved the issue, but I'm not sure it was the correct solution.  It's unclear to me what the '-core' argument is supposed to signify.\r\n\r\nCan someone shed some light on this, and tell me whether this is the correct solution to the problem?  And if not, what is the correct solution to this classpath issue.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"22991","summary":"$MAHOUT_HOME/examples/bin/build-reuters.sh doesn't run successfully because of classpath issues related to the -core argument","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Hadoop installation on EC2 as described here - https://cwiki.apache.org/MAHOUT/mahoutec2.html","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":17,"total":17,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12885533","id":"12885533","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"body":"The -core argument is there to allow code to be run from the build tree without requiring that .job files be built. Otherwise, the mahout script obtains its classes from the following locations:\r\n\r\n1) the mahout-*.jar files one would expect to find at the root of a binary release\r\n2) the mahout-*.job files one would find in the target directories of the various subprojects\r\n3) the release dependencies found in the lib directory at the root of a binary release.\r\n\r\nWith -core, target/classes from each of the subprojects is added to the classpath and the dependencies are added from  examples/target/dependency/*.jar\r\n\r\n./examples/bin/build-reuters.sh should run after a 'mvn clean install' -- if it doesn't that's an issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"created":"2010-07-06T13:22:06.929+0000","updated":"2010-07-06T13:22:06.929+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12885577","id":"12885577","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"body":"Thanks for clarifying.\r\n\r\nThe ./examples/bin/build-reuters.sh script didn't run after a 'mvn install' from the root directory in a fresh install.  This was on an EC2 machine, following the EC2 deployment directions on the wiki (which I've since modified).\r\n\r\nTo get the script to run correctly I had to run an additional 'mvn install' from the examples subdirectory.  Not sure why that was necessary, but the examples job file wasn't created until I ran the second command.  So there may be a build issue with the current scripts.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"created":"2010-07-06T16:12:03.960+0000","updated":"2010-07-06T16:12:03.960+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12885757","id":"12885757","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"body":"bq. To get the script to run correctly I had to run an additional 'mvn install' from the examples subdirectory. Not sure why that was necessary, but the examples job file wasn't created until I ran the second command. So there may be a build issue with the current scripts\r\n\r\nYes, examples should have been built alongside everything else, so strictly speaking the second mvn install should not be necessary. Did the first mvn install executed from the base directory complete successfully? \r\n\r\nI'll give it a go following the EC2 instructions in the wiki to the letter to see if I can reproduce.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"created":"2010-07-07T00:35:35.917+0000","updated":"2010-07-07T00:35:35.917+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12885760","id":"12885760","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"body":"I didn't see an errors when I ran the initial 'mvn install' from the base directory, but the examples job files still weren't built.\r\n\r\nAlso note that I've already altered the wiki instructions to include a 'mvn install' from the examples subdirectory, so you'll need to leave that step out.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"created":"2010-07-07T00:47:13.732+0000","updated":"2010-07-07T00:47:13.732+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12885774","id":"12885774","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"body":"I wasn't able to reproduce this issue following the wiki instructions (up to step 9, running the hadoop cluster in single-node mode), leaving out the mvn install on the examples directory.\r\n\r\nIs there any chance you could try a 'mvn clean install' (from the base directory) with your working copy to see if it still refuses to build an examples job? Otherwise, could you check out a fresh copy and give that a try?\r\n\r\nSomewhat unrelated but worth noting: when I did run build-reuters,sh, k-means converged after 8 iterations instead of 10 and thus the clusterdump step did not complete successfully. When you finally managed to get the examples to run, what was the highest numbered clusters-* directory in examples/bin/work/reuters-kmeans\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"created":"2010-07-07T01:51:39.728+0000","updated":"2010-07-07T01:51:39.728+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12885781","id":"12885781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"body":"I should be able to try this tomorrow.  I'll get back to you with the results.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"created":"2010-07-07T02:04:48.464+0000","updated":"2010-07-07T02:04:48.464+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12891690","id":"12891690","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"body":"It took longer than a day, but I finally did try this again.  And now I can't get the examples to run at all.  With or without the mvn install inside the examples directory (and even after yet another mvn clean install from the root) I get page after page of exceptions, all ClassNotFoundExceptions at their base:\r\n\r\n10/07/23 17:31:35 INFO mapred.JobClient: Task Id : attempt_201007231729_0001_m_0\r\n00000_0, Status : FAILED\r\njava.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.mahout.\r\nutils.vectors.text.document.SequenceFileTokenizerMapper\r\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:960)\r\n...\r\n10/07/23 17:31:35 INFO mapred.JobClient: Task Id : attempt_201007231729_0001_m_0\r\n00001_0, Status : FAILED\r\njava.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.mahout.\r\nutils.vectors.text.document.SequenceFileTokenizerMapper\r\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:960)\r\n...\r\n10/07/23 17:31:41 INFO mapred.JobClient: Task Id : attempt_201007231729_0001_m_0\r\n00001_1, Status : FAILED\r\njava.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.mahout.\r\nutils.vectors.text.document.SequenceFileTokenizerMapper\r\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:960)\r\n...\r\n10/07/23 17:31:48 INFO mapred.JobClient: Task Id : attempt_201007231729_0001_m_0\r\n00000_2, Status : FAILED\r\njava.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.mahout.\r\nutils.vectors.text.document.SequenceFileTokenizerMapper\r\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:960)\r\n...\r\n10/07/23 17:32:08 INFO mapred.JobClient: Task Id : attempt_201007231729_0002_r_0\r\n00000_0, Status : FAILED\r\njava.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.mahout.\r\nutils.vectors.text.term.TermCountReducer\r\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:960)\r\n...\r\n10/07/23 17:32:14 INFO mapred.JobClient: Task Id : attempt_201007231729_0002_r_0\r\n00000_1, Status : FAILED\r\njava.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.mahout.\r\nutils.vectors.text.term.TermCountReducer\r\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:960)\r\n...\r\n10/07/23 17:32:20 INFO mapred.JobClient: Task Id : attempt_201007231729_0002_r_0\r\n00000_2, Status : FAILED\r\njava.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.mahout.\r\nutils.vectors.text.term.TermCountReducer\r\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:960)\r\n...\r\n10/07/23 17:32:42 INFO mapred.JobClient: Task Id : attempt_201007231729_0003_r_0\r\n00000_0, Status : FAILED\r\njava.lang.RuntimeException: java.lang.RuntimeException: java.lang.ClassNotFoundE\r\nxception: org.apache.mahout.common.StringTuple\r\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:992)\r\n...\r\n10/07/23 17:32:48 INFO mapred.JobClient: Task Id : attempt_201007231729_0003_r_0\r\n00000_1, Status : FAILED\r\njava.lang.RuntimeException: java.lang.RuntimeException: java.lang.ClassNotFoundE\r\nxception: org.apache.mahout.common.StringTuple\r\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:992)\r\n\r\nThis is using hadoop 0.20.2+320 and the trunk Mahout (r967178), on a totally fresh AMI.\r\n\r\nAny ideas?\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"created":"2010-07-23T17:56:48.008+0000","updated":"2010-07-23T17:56:48.008+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12891742","id":"12891742","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"body":"I've managed to replicate this locally from the current trunk, with {{$HADOOP_CONF_DIR}} and {{$HADOOP_HOME}} set and pointing at my local hadoop install. \r\n\r\nboth:\r\n\r\n{quote}\r\nexport HADOOP_CONF_DIR=/opt/hadoop/conf/\r\nexport HADOOP_HOME=/opt/hadoop\r\n./bin/mahout seq2sparse -i ./examples/bin/work/reuters-out-seqdir/ -o ./examples/bin/work/reuters-out-seqdir-sparse\r\n{quote}\r\n\r\nand: \r\n\r\n{quote}\r\nHADOOP_CLASSPATH=/home/drew/mahout/trunk-2/conf /opt/hadoop-0.20.2/bin/hadoop jar /home/drew/mahout/trunk-2/examples/target/mahout-examples-0.4-SNAPSHOT.job org.apache.mahout.driver.MahoutDriver seq2sparse -i ./examples/bin/work/reuters-out-seqdir/ -o ./examples/bin/work/reuters-out-seqdir-sparse\r\n{quote}\r\n\r\nBoth fail with the same ClassNotFoundExceptions described above. It seems that somehow hadoop is not finding the classes inside the job file. I've even tried rolling the jar by hand with no luck.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"created":"2010-07-23T19:10:28.992+0000","updated":"2010-07-23T19:10:28.992+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12891757","id":"12891757","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"body":"Based on some of the output it looks like this may be another missing job.setJarByClass(Class) issue.  I'm in the process of rebuilding with modified example source where I've added those lines.  I'll let you know if that resolves the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"created":"2010-07-23T19:36:08.676+0000","updated":"2010-07-23T19:36:08.676+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12891774","id":"12891774","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"body":"bq. Based on some of the output it looks like this may be another missing job.setJarByClass(Class) issue\r\n\r\nThat appears to be exactly what the problem is.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"created":"2010-07-23T20:24:46.061+0000","updated":"2010-07-23T20:24:46.061+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12891778","id":"12891778","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"body":"You don't happen to know which classes/jobs, do you?  I'm unable to track which jobs are actually getting run.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"created":"2010-07-23T20:37:04.235+0000","updated":"2010-07-23T20:37:04.235+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12891785","id":"12891785","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"body":"bq. You don't happen to know which classes/jobs, do you?\r\n\r\nI'm working it out, just committed a bunch of changes but we're not there yet. there are a couple more left.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"created":"2010-07-23T20:47:16.704+0000","updated":"2010-07-23T20:47:16.704+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12891805","id":"12891805","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"body":"Peter, could you give r967257 a try and report back how it works for you? I was able to get as far as the cluster dumping stage, still looking at an issue there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"created":"2010-07-23T21:23:09.211+0000","updated":"2010-07-23T21:23:09.211+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12891808","id":"12891808","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"body":"I've been following along in parallel and have been able to get past the ClassNotFoundExceptions.  I'm synced up to r967257 but I have a couple of classes in my src that are modified to include a setJarByClass call that are not in the tree:\r\n\r\ncore/src/main/java/org/apache/mahout/ga/watchmaker/MahoutEvaluator.java\r\nexamples/src/main/java/org/apache/mahout/classifier/bayes/WikipediaDatasetCreatorDriver.java\r\nexamples/src/main/java/org/apache/mahout/ga/watchmaker/cd/hadoop/CDMahoutEvaluator.java\r\nexamples/src/main/java/org/apache/mahout/ga/watchmaker/cd/tool/CDInfosTool.java\r\n\r\nNot sure if the setJarByClass is required in these classes, but they seem to fit the pattern.\r\n\r\nNow I'm getting an NPE in ClusterDumper, which is presumably what you are running into.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"created":"2010-07-23T21:36:27.820+0000","updated":"2010-07-23T21:36:27.820+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12891880","id":"12891880","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"body":"Thanks for pointing out the additional classes Peter. Try r967309, that should clean up the NPE.\r\n\r\n If you run into a case where the clusterdump portion of build-reuters.sh completes with no output, take a look at the {{examples/bin/work/reuters-kmeans}} directory. The script attempts to dump from {{clusters-10}} but in my case kmeans converged earlier and the last output was {{clusters-9}}.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=drew.farris","name":"drew.farris","emailAddress":"drew dot farris at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=drew.farris&avatarId=16822","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=drew.farris&avatarId=16822","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=drew.farris&avatarId=16822","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=drew.farris&avatarId=16822"},"displayName":"Drew Farris","active":true},"created":"2010-07-24T00:11:47.223+0000","updated":"2010-07-24T00:11:47.223+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12891895","id":"12891895","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"body":"Everything looks good now.  Thanks for the patches.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=peterg","name":"peterg","emailAddress":"peter_m_goldstein at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Peter Goldstein","active":true},"created":"2010-07-24T00:54:47.773+0000","updated":"2010-07-24T00:54:47.773+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467647/comment/12892043","id":"12892043","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Mahout-Quality #155 (See [http://hudson.zones.apache.org/hudson/job/Mahout-Quality/155/])\r\n    MAHOUT-167 MAHOUT-427: Fixed NPE in ClusterDumper due to missing call to init() in ClusterDumper.run(String[]);\r\nMAHOUT-427 MAHOUT-167 more classes missing setJarByClass(Class)\r\nMany cases where job.setJarByClass(Class) was not being called, possibly related to MAHOUT-167 MAHOUT-427\r\nMany cases where job.setJarByClass(Class) was not being called, possibly related to MAHOUT-167 MAHOUT-427\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2010-07-24T22:35:40.570+0000","updated":"2010-07-24T22:35:40.570+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-427/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i04anj:"}}