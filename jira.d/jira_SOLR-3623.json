{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12598865","self":"https://issues.apache.org/jira/rest/api/latest/issue/12598865","key":"SOLR-3623","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310230","id":"12310230","key":"SOLR","name":"Solr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310230&avatarId=22151","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310230&avatarId=22151","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310230&avatarId=22151"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12322455","id":"12322455","description":"Beta release after 4.0-ALPHA","name":"4.0-BETA","archived":false,"released":true,"releaseDate":"2012-08-13"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12321664","id":"12321664","description":"Current trunk","name":"Trunk","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-07-19 00:03:59.654","customfield_12312323":null,"customfield_12310420":"243357","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_255217125_*|*_5_*:*_3_*:*_2977199637_*|*_4_*:*_2_*:*_382428882","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-08-26T21:17:48.156+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-3623/watchers","watchCount":1,"isWatching":false},"created":"2012-07-16T01:10:22.534+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[],"issuelinks":[{"id":"12355382","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12355382","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12599789","key":"SOLR-3664","self":"https://issues.apache.org/jira/rest/api/2/issue/12599789","fields":{"summary":"risk of inconsistency in solr(contrib)->module->thirdparty dependencies","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}},{"id":"12355363","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12355363","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12599589","key":"SOLR-3653","self":"https://issues.apache.org/jira/rest/api/2/issue/12599589","fields":{"summary":"Custom bigramming filter for to handle Smart Chinese edge cases","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png","name":"New Feature","subtask":false}}}},{"id":"12355364","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12355364","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12497161","key":"LUCENE-2899","self":"https://issues.apache.org/jira/rest/api/2/issue/12497161","fields":{"summary":"Add OpenNLP Analysis capabilities as a module","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png","name":"New Feature","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-10T10:39:05.125+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313140","id":"12313140","name":"Build","description":"Changes/issues w/ the build"}],"timeoriginalestimate":null,"description":"Various dependencies for contrib/analysis-extras are packaged contrib/analysis-extras/lucene-libs (along with instructions in contrib/analysis-extras/README.txt that users need to include them explicitly) even though these jars are already hardcoded into the solr war file.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"17634","summary":"inconsistent treatment of lucene jars & third-party deps in analysis-extras & uima (in war and in lucene-libs)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":17,"total":17,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13417874","id":"13417874","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"I can't reproduce any problem with the packaging of analysis-extras.\r\n\r\nWhat i did...\r\n\r\n1) downloaded & uncompressed the binary package of Solr 4.0.0-ALPHA\r\n\r\n2) noted the following info in contrib/analysis-extras/README.txt ...\r\n\r\n{noformat}\r\nRelies upon the following lucene components (in lucene-libs/):\r\n\r\n * lucene-analyzers-icu-X.Y.jar\r\n * lucene-analyzers-smartcn-X.Y.jar\r\n * lucene-analyzers-stempel-X.Y.jar\r\n \r\nAnd the ICU library (in lib/):\r\n\r\n * icu4j-X.Y.jar\r\n{noformat}\r\n\r\n3) noted the existence of the following jars...\r\n\r\n{noformat}\r\nhossman@frisbee:~/tmp/solr-4.0.0-ALPHA-binary/apache-solr-4.0.0-ALPHA$ ls contrib/analysis-extras/lib/*.jar\r\ncontrib/analysis-extras/lib/icu4j-4.8.1.1.jar\r\nhossman@frisbee:~/tmp/solr-4.0.0-ALPHA-binary/apache-solr-4.0.0-ALPHA$ ls contrib/analysis-extras/lucene-libs/*.jar\r\ncontrib/analysis-extras/lucene-libs/lucene-analyzers-icu-4.0.0-ALPHA.jar\r\ncontrib/analysis-extras/lucene-libs/lucene-analyzers-morfologik-4.0.0-ALPHA.jar\r\ncontrib/analysis-extras/lucene-libs/lucene-analyzers-smartcn-4.0.0-ALPHA.jar\r\ncontrib/analysis-extras/lucene-libs/lucene-analyzers-stempel-4.0.0-ALPHA.jar\r\ncontrib/analysis-extras/lucene-libs/morfologik-fsa-1.5.2.jar\r\ncontrib/analysis-extras/lucene-libs/morfologik-polish-1.5.2.jar\r\ncontrib/analysis-extras/lucene-libs/morfologik-stemming-1.5.2.jar\r\n{noformat}\r\n\r\n4) made the following additions to the example solrconfig.xml...\r\n\r\n{noformat}\r\n  <lib dir=\"../../contrib/analysis-extras/lib\" regex=\".*\\.jar\" />\r\n  <lib dir=\"../../contrib/analysis-extras/lucene-libs\" regex=\".*\\.jar\" />\r\n  <lib dir=\"../../dist/\" regex=\"apache-solr-analysis-extras-\\d.*\\.jar\" />\r\n{noformat}\r\n\r\n5) made the following additions to the example schema.xml...\r\n\r\n{noformat}\r\n   <field name=\"icufield\" type=\"icu\" indexed=\"true\" stored=\"true\"/>\r\n...\r\n    <fieldType name=\"icu\" class=\"solr.TextField\">\r\n      <analyzer>\r\n\t<tokenizer class=\"solr.ICUTokenizerFactory\"/>\r\n      </analyzer>\r\n    </fieldType>\r\n{noformat}\r\n\r\n6) ran the example with \"java -jar start.jar\"\r\n\r\n7) observed no problems.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-07-19T00:03:59.654+0000","updated":"2012-07-19T00:03:59.654+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13418045","id":"13418045","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"4.0.0.0-ALPHA is old news :) The build has been rearranged. Please retest against the trunk or 4.x branch. There is no contrib/xx/lucene-libs in the current trunk or 4.x. \r\n\r\nThese two lines are the only <lib> directories in solrconfig.xml. This description of the classloader sequence suggests that the /browse VelocityWriter handler should throw exceptions. It works.\r\n{code}\r\n  <lib dir=\"../../../dist/\" regex=\"apache-solr-velocity-\\d.*\\.jar\" />\r\n  <lib dir=\"../../../contrib/velocity/lib\" regex=\".*\\.jar\" />\r\n{code}\r\n(Notice 3 dot-dot-slashes instead of two because the example changed to use collection1.)\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2012-07-19T04:15:16.429+0000","updated":"2012-07-19T04:15:16.429+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13418096","id":"13418096","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"The contrib/analysis-extras libraries have three kinds of jars: Solr factories, lucene analyzer classes, and some have external dependencies. In trunk & 4.x the lucene-analyzers-*.jar files are copied into the war file. The apache-solr-analysis-extras jar and the dependent jars are not.\r\n\r\nExcept for morfologik's dependent jars. {{lucene/analysis/module-build.xml}} defines a fileset property {{analyzers-morfologik.fileset}}. {{solr/contrib/analysis-extras/build.xml}} uses this property to copy the morfologik libraries into the war. And if fact a morfologik field type works if you include ../../../dist/apache-solr-analysis-extras-4.0-SNAPSHOT.jar and not the analysis-extras lib/ directory.\r\n\r\nThe other analyzers packaged into analysis-extras are icu, phonetic, smartcn and stempel. icu and phonetic have dependent libraries. phonetic requires commons-codec which is already in solr/lib. icu requires icu4j which is not already added to solr. I have tried these two lines in both orders, and neither worked. \r\n{code}\r\n  <lib dir=\"../../../contrib/analysis-extras/lib\" regex=\".*\\.jar\" />\r\n  <lib dir=\"../../../dist/\" regex=\"apache-solr-analysis-extras-\\d.*\\.jar\" />\r\n{code}\r\n\r\nClassloading is broken in the trunk and 4.x.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2012-07-19T06:01:59.474+0000","updated":"2012-07-19T06:01:59.474+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13418540","id":"13418540","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"bq. There is no contrib/xx/lucene-libs in the current trunk or 4.x. \r\n\r\nThey are created as part of the packaging process, they never exist in a source checkout.\r\n\r\nrun \"ant create-package\" on the 4x branch, and then look inside the resulting package/apache-solr-4.0-SNAPSHOT.tgz...\r\n\r\n{noformat}\r\napache-solr-4.0-SNAPSHOT/contrib/analysis-extras/lib/icu4j-4.8.1.1.jar\r\napache-solr-4.0-SNAPSHOT/contrib/analysis-extras/lucene-libs/lucene-analyzers-icu-4.0-SNAPSHOT.jar\r\napache-solr-4.0-SNAPSHOT/contrib/analysis-extras/lucene-libs/lucene-analyzers-morfologik-4.0-SNAPSHOT.jar\r\napache-solr-4.0-SNAPSHOT/contrib/analysis-extras/lucene-libs/lucene-analyzers-smartcn-4.0-SNAPSHOT.jar\r\napache-solr-4.0-SNAPSHOT/contrib/analysis-extras/lucene-libs/lucene-analyzers-stempel-4.0-SNAPSHOT.jar\r\napache-solr-4.0-SNAPSHOT/contrib/analysis-extras/lucene-libs/morfologik-fsa-1.5.3.jar\r\napache-solr-4.0-SNAPSHOT/contrib/analysis-extras/lucene-libs/morfologik-polish-1.5.3.jar\r\napache-solr-4.0-SNAPSHOT/contrib/analysis-extras/lucene-libs/morfologik-stemming-1.5.3.jar\r\napache-solr-4.0-SNAPSHOT/dist/apache-solr-analysis-extras-4.0-SNAPSHOT.jar\r\n{noformat}\r\n\r\nbq. In trunk & 4.x the lucene-analyzers-\\*.jar files are copied into the war file. The apache-solr-analysis-extras jar and the dependent jars are not.\r\n\r\nThat i can reproduce...\r\n\r\n{noformat}\r\nWEB-INF/lib/lucene-analyzers-common-4.0-SNAPSHOT.jar\r\nWEB-INF/lib/lucene-analyzers-kuromoji-4.0-SNAPSHOT.jar\r\nWEB-INF/lib/lucene-analyzers-morfologik-4.0-SNAPSHOT.jar\r\nWEB-INF/lib/lucene-analyzers-phonetic-4.0-SNAPSHOT.jar\r\nWEB-INF/lib/morfologik-fsa-1.5.3.jar\r\nWEB-INF/lib/morfologik-polish-1.5.3.jar\r\nWEB-INF/lib/morfologik-stemming-1.5.3.jar\r\n{noformat}\r\n\r\n...and there is definitely an inconsistency here -- if some of the lucene-analyzers-\\*.jar files are being packaged in the war, then we should not also be putting them in contrib/\\*/lucene-libs and instructing people that they are a dependency in the README for that contrib.\r\n\r\nIt appears that icu4j-\\*.jar and lucene-analyzers-icu-\\*.jar are the only two external libs needed to make contrib/analysis-extras work, and we just need to update contrib/analysis-extras/README and contrib/analysis-extras/build.xml to reflect this.\r\n\r\nI added the following to the (packaged) example/solr/collection1/conf/solrconfig.xml...\r\n\r\n{code}\r\n  <lib dir=\"../../../contrib/analysis-extras/lib\" regex=\".*\\.jar\" />\r\n  <lib dir=\"../../../contrib/analysis-extras/lucene-libs\" regex=\"lucene-analyzers-icu.*\\.jar\" />\r\n  <lib dir=\"../../../dist/\" regex=\"apache-solr-analysis-extras-\\d.*\\.jar\" />\r\n{code}\r\n\r\n...and the \"icu\" field type seemed to work fine.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-07-19T18:27:31.944+0000","updated":"2012-07-19T18:30:52.542+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13418542","id":"13418542","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"updating description","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-07-19T18:29:58.330+0000","updated":"2012-07-19T18:29:58.330+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13418602","id":"13418602","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"I agree with Hossman. \r\n\r\nI saw this before, and forgot to do anything about it... sorry at some point the 4 morfologik jars moved into the war.\r\nBut this is redundant, if we want them in the jar, we should move the factories out of any contrib.\r\n\r\nhttps://issues.apache.org/jira/browse/LUCENE-3977?focusedCommentId=13258480&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13258480\r\n\r\nThe other jars (common, kuromoji, phonetic) are correct, their factories are in solr core.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2012-07-19T19:32:48.490+0000","updated":"2012-07-19T19:32:48.490+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13419475","id":"13419475","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"Hmm .. ok, something wonky here i'm missing.\r\n\r\nI started by trying to do the following....\r\n\r\n{noformat}\r\nsvn mv solr/contrib/analysis-extras/src/java/org/apache/solr/analysis/MorfologikFilterFactory.java solr/core/src/java/org/apache/solr/analysis/\r\nsvn mv solr/contrib/analysis-extras/src/java/org/apache/solr/analysis/SmartChineseSentenceTokenizerFactory.java solr/core/src/java/org/apache/solr/analysis/\r\nsvn mv solr/contrib/analysis-extras/src/java/org/apache/solr/analysis/SmartChineseWordTokenFilterFactory.java solr/core/src/java/org/apache/solr/analysis/\r\nsvn mv solr/contrib/analysis-extras/src/java/org/apache/solr/analysis/StempelPolishStemFilterFactory.java solr/core/src/java/org/apache/solr/analysis/\r\nsvn mv solr/contrib/analysis-extras/src/test/org/apache/solr/analysis/TestMorfologikFilterFactory.java solr/core/src/test/org/apache/solr/analysis/\r\nsvn mv solr/contrib/analysis-extras/src/test/org/apache/solr/analysis/TestSmartChineseFactories.java solr/core/src/test/org/apache/solr/analysis/\r\ncd solr/core\r\nant test -Dtests.class=\\*.analysis.\\*\r\n{noformat}\r\n\r\n...my understanding being that the morfologik jars and their lucene counterparts should already be in solr core, so these solr classes and tests should be able to move over w/o any other changes. right?\r\n\r\nBut this is causing all sorts of compilation failures related to not finding packages/classes like morfologik.stemming.PolishStemmer, org.apache.lucene.analysis.cn.smart.\\*, org.apache.lucene.analysis.stempel.\\*, etc...\r\n\r\nSo clearly i'm missing something here in how these dependent jars and classpaths are setup (i haven't looked ath te build system closely since the ivy change) so i'll have to dig into this more later today.\r\n\r\n(posting this now in slim hope that sarowe or rmuir see it and say \"oh, yeah - the thing you are overlooking is...\")","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-07-20T19:32:52.409+0000","updated":"2012-07-20T19:32:52.409+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13419546","id":"13419546","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"a few things:\r\n* only the morfologik jars are misplaced. so there is no lucene-analyzers-smartcn etc in solr core.\r\n* the morfologik jars may be in the wrong place, but they are not configured in classpaths for solr core (e.g. solr.base.classpath)\r\n* a quick glance at that reveals other things in that classpath that shouldnt be in there like analyzers-uima.jar (which, should instead be configured in the uima contrib's classpath only)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2012-07-20T20:43:29.453+0000","updated":"2012-07-20T20:43:29.453+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13419662","id":"13419662","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"rmuir: sorry, but i'm totally lost -- too many unspoken assumptions in my comment, and some vagueness in your comments has me turned around...\r\n\r\nbq. only the morfologik jars are misplaced. so there is no lucene-analyzers-smartcn etc in solr core.\r\n\r\n* can you be specific as to what you mean by \"the morfologik jars\" ? because evidently i don't have a clue what that means and i missunderstood what you were including in that list originally (i thought you ment all of the anlysis-extra libs that weren't ICU).\r\n* can you clarify what you think the \"misplaced\" location(s) are?\r\n* are you saying it is good or bad that lucene-analyzers-smartcn is not currently in solr core? (ie: in your opinion, should SmartChinese\\*Factory move into solr/core ?)\r\n\r\nbq. the morfologik jars may be in the wrong place, but they are not configured in classpaths for solr core (e.g. solr.base.classpath)\r\n\r\n* again: what exactly do you mean by \"wrong place\" ?\r\n* am i correct in understanding that you feel they _should_ be in the war file, but that it is a mistake they are not included in solr.base.classpath at compile time?\r\n\r\nbq. a quick glance at that reveals other things in that classpath that shouldnt be in there like analyzers-uima.jar (which, should instead be configured in the uima contrib's classpath only)\r\n\r\nSkimming the build files ... if i understand correctly how things work in the ivy world ... the crux of the problem appears to be that \"lucene-jars-to-solr\" uses a fileset which is not equivalent to the \"solr.base.classpath\" used for compilation & tests ... is that it?\r\n\r\n(A {{<path />}} can contain \"{{<fileset/>}}\"s (and fileset references), and \"{{<path/>}}\"s can be used inside {{<copy/>}} -- so it should be easy to eliminate some redundancy here and have most of this in a single \"path\" refrenced by ID in both \"solr.base.classpath\" and the \"lucene-jars-to-solr\" {{<copy/>}})\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-07-20T22:56:32.829+0000","updated":"2012-07-20T22:56:32.829+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13419680","id":"13419680","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Sorry... lemme try to explain in more detail:\r\n\r\n{quote}\r\ncan you be specific as to what you mean by \"the morfologik jars\" ? because evidently i don't have a clue what that means and i missunderstood what you were including in that list originally (i thought you ment all of the anlysis-extra libs that weren't ICU).\r\n{quote}\r\n\r\n{noformat}\r\nWEB-INF/lib/lucene-analyzers-morfologik-4.0-SNAPSHOT.jar <-- this is the lucene integration code (analyzer, tokenfilter)\r\nWEB-INF/lib/morfologik-fsa-1.5.3.jar <-- these 3 jars are dependencies of the above\r\nWEB-INF/lib/morfologik-polish-1.5.3.jar\r\nWEB-INF/lib/morfologik-stemming-1.5.3.jar\r\n{noformat}\r\n\r\nBut this does not good for solr users: because the factory (MorfologikFilterFactory.java) is in apache-solr-analysis-extras.jar. Furthermore, I think having this situation (where these files are in the war, but the factory as a plugin) causes classloader hell.\r\n\r\nSo with the factory in this contrib module, the jar files should really be going in contrib/analysis-extras/lucene-libs as part of the packaging process just like the other dependencies this contrib module has, otherwise we should move the factory to core (see below)\r\n\r\n{quote}\r\nare you saying it is good or bad that lucene-analyzers-smartcn is not currently in solr core? (ie: in your opinion, should SmartChinese*Factory move into solr/core ?)\r\n{quote}\r\n\r\nIn my opinion, it would be nice because we could have a text_zh configured in the example that indexes chinese as words. Currently to do this, you have to deal with this huge hassle that is this crazy analysis-extras contrib which is a big barrier for indexing Chinese text.\r\n\r\nBut thats just my opinion, i hate the contrib in general because I think its a pain to use. The reason it exists was because I initially wanted to integrate smartchinese with solr but there were concerns about it increasing the size of the .war file since the smart chinese jar is 3MB. So I created this contrib and added factories for any analyzers that didnt have factories just as a way of at least providing some help to make them usable. Just FYI: the solr.war is near 20MB now.\r\n\r\nStill, as it is, at least its some way to provide factories for these analyzers versus having none before.\r\n\r\n{quote}\r\nagain: what exactly do you mean by \"wrong place\" ?\r\nam i correct in understanding that you feel they should be in the war file, but that it is a mistake they are not included in solr.base.classpath at compile time?\r\n{quote}\r\n\r\nUnder the current setup, the factory is in contrib/analysis-extras. the contrib/analysis-extras build logic puts these dependencies into contrib/analysis-extras' classpath so the tests will pass.\r\n\r\nIf we want to move the factories to core, then we have to adjust the solr core classpath to then include the jar files instead.\r\n\r\n{quote}\r\na quick glance at that reveals other things in that classpath that shouldnt be in there like analyzers-uima.jar (which, should instead be configured in the uima contrib's classpath only)\r\n{quote}\r\n\r\nHere is contrib/uima/build.xml:\r\n{noformat}\r\n  <path id=\"classpath\">\r\n    <pathelement path=\"${analyzers-uima.jar}\"/>\r\n    <path refid=\"solr.base.classpath\"/>\r\n  </path>\r\n{noformat}\r\n\r\nSo its useless to have analyzers-uima in the solr core classpath, because in the current packaging solr core code should not be depending on this jar. And contrib/uima already adds this itself. \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2012-07-20T23:27:54.786+0000","updated":"2012-07-20T23:27:54.786+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13419714","id":"13419714","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"bq. So with the factory in this contrib module, the jar files should really be going in contrib/analysis-extras/lucene-libs as part of the packaging process just like the other dependencies this contrib module has, otherwise we should move the factory to core (see below)\r\n\r\nok, cool.  part of my missunderstanding was thinking that \\*morfo\\*.jar was being included in the war because it was a dependency of something else that was already in solr core.\r\n\r\nbq. In my opinion, it would be nice because we could have a text_zh configured in the example that indexes chinese as words. Currently to do this, you have to deal with this huge hassle that is this crazy analysis-extras contrib which is a big barrier for indexing Chinese text.\r\n\r\nI've generally been a big proponent of the \"small war\" philosophy, but i certainly appreciate the value/importance of having a clean out of hte box experience for all langauges -- i would definitely be interested to hear what other people think \r\n\r\nFor now, assuming that analysis-extras is the \"correct\" place for these factories to live... \r\n\r\nThe attached patch rectifies the inconsistency and cleans up the core classpath / lucene-libs file copying issue (ie: remove the morfo & uima jars from the war) by ensuring that the classpath and copy sources use a common list of jar files (ie: you have to go out of your way to make them different).  A similar common list is used in the anslysis-extras build.xml to prevent them from every falling out of sync. I also included some minor fixes to the README files for both analysis-extras and uima\r\n\r\nI've done some basic junit/package testing, and things *look* like they are working as designed, ... but the one thing that still seems weird to me is the way the morfologik-\\*.jar files are treated differnetly then the icu4j\\*.jar...\r\n\r\nsolr/contrib/analysis-extras/ivy.xml lists icu4j, and in the final Solr packaging that jar winds up in contrib/analysis-extras/lib (along with it's LICENSE/NOTICE) -- but for the morfologik-\\*.jar those are not listed in ivy.xml; instead the \"analyzers-morfologik.fileset\" is inherited from contrib-build.xml and those jars wind up in contrib/analysis-extras/lucene-libs -- w/o their LICENSE/NOTICE.\r\n\r\nshouldn't all those third-party jars be treated consistently?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-07-21T01:01:32.037+0000","updated":"2012-07-21T01:01:32.037+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13419717","id":"13419717","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"patch looks good, except I agree with you about the 3rd party jars.\r\n\r\nLets be consistent on that: \r\n\r\nI think it should be in the ivy.xml, with LICENSE/NOTICE in lib/ \r\nIt would then get pulled into the classpath because its in lib/\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2012-07-21T01:28:50.046+0000","updated":"2012-07-21T01:28:50.046+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13420365","id":"13420365","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"Yeah ... there's some risk of dependencies getting out of sync, but it's still better then not having licenses in the solr binary packages (i'll open a distinct issue to track brainstorming improvments)\r\n\r\nOk, new patch, assumes the following svn copy commands which i left out of hte patch to keep it easily readable...\r\n\r\n{noformat}\r\nsvn cp ./lucene/analysis/morfologik/lib/morfologik*.sha1 solr/contrib/analysis-extras/lib/\r\nsvn cp ./lucene/analysis/morfologik/lib/morfologik*.txt solr/contrib/analysis-extras/lib/\r\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-07-22T23:34:48.727+0000","updated":"2012-07-22T23:34:48.727+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13420374","id":"13420374","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"Opened SOLR-3664 to discuss better ways of dealing with this moving forward, but i didn't want that to slow down fixing this on 4x ASAP","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-07-23T00:09:54.375+0000","updated":"2012-07-23T00:09:54.375+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13420750","id":"13420750","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"+1 to commit. I agree lets fix this for now and move forward.\r\n\r\nI ran the svn moves and applied it locally, and did some \"tests\"\r\n* top-level ant clean-jars + 'ant test' from contrib/analysis-extras\r\n* top-level ant clean-jars + 'ant test' from contrib/uima\r\n\r\nSame with the javadocs. All dependencies seem correct to me.\r\n(one of these days i will look at the ant-unit stuff and figure out a way we can do these kinda checks from every module always to ensure this stuff is working).\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2012-07-23T16:19:10.919+0000","updated":"2012-07-23T16:19:10.919+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13420822","id":"13420822","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"Committed revision 1364728. - trunk\r\nCommitted revision 1364738. - 4x\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2012-07-23T17:56:22.525+0000","updated":"2012-07-23T17:56:22.525+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12598865/comment/13442195","id":"13442195","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"Moving jar deployment problem to [SOLR-3760] because this issue drifted to licensing problems.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2012-08-26T21:17:48.173+0000","updated":"2012-08-26T21:17:48.173+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-3623/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i03dl3:"}}