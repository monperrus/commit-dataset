{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12491529","self":"https://issues.apache.org/jira/rest/api/latest/issue/12491529","key":"MAHOUT-556","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315255","id":"12315255","description":"","name":"0.5","archived":false,"released":true,"releaseDate":"2011-05-27"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-11-29 15:18:09.317","customfield_12312323":null,"customfield_12310420":"9506","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_4192288489_*|*_5_*:*_2_*:*_2855052_*|*_4_*:*_1_*:*_110858","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2011-01-17T01:03:15.408+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-556/watchers","watchCount":0,"isWatching":false},"created":"2010-11-29T11:42:21.009+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315255","id":"12315255","description":"","name":"0.5","archived":false,"released":true,"releaseDate":"2011-05-27"}],"issuelinks":[{"id":"12336142","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12336142","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12479964","key":"MAHOUT-545","self":"https://issues.apache.org/jira/rest/api/2/issue/12479964","fields":{"summary":"GSON not a good fit for deserializing SGD models","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-05-21T03:18:48.065+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312152","id":"12312152","name":"Classification","description":"Issues related to classification"}],"timeoriginalestimate":null,"description":"\r\nBug related to creation of the model when you run trainlogistic \r\n\r\n Its creating the JSON model file  using the toJson function as illustrated below\r\n--------------------------------\r\nIn,\r\n LogisticModelParameters.java\r\nFunction\r\nvoid saveTo(Writer out)\r\n{\r\n...\r\n..\r\nString savedForm = gson.toJson(this);\r\n...\r\n}\r\n--------------------------------\r\n\r\nBut this is not working as expected : -  String savedForm = gson.toJson(this);\r\n\r\n\r\nFor my experiment using a different dataset - \r\n\r\nI get the following model file : \r\n\r\n\r\n{\"targetVariable\":\"customer\",\"typeMap\":{\"feature2\":\"n\",\"feature3\":\"n\",\r\n    \"feature1\":\"n\"},\"numFeatures\":334,\"useBias\":true,\"maxTargetCategories\":\r\n  2,\"targetCategories\":[\"0\",\"1\"],\"lambda\":1.0E-4,\"learningRate\":0.001,\"lr\":{\r\n    \"mu0\":0.001,\"decayFactor\":0.999,\"stepOffset\":10,\"forgettingExponent\":\r\n    -0.5,\"perTermAnnealingOffset\":20,\"beta\":{\"rows\":1,\"cols\":334,\"data\":[[\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,6.741887291022263E-4,0.0,0.0,-53.6076187622054,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,5.031178185395536E-5,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.04383410529689268,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,\r\n          0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]]},\r\n    \"numCategories\":2,\"step\":260951,\"updateSteps\":{}\"updateCounts\":{}\r\n    \"lambda\":1.0E-4,\"prior\":{}\"sealed\":true,\"gradient\":{}}}\r\n\r\n\r\nIf you notice the last part,\r\n\r\n  \"numCategories\":2,\"step\":260951,\"updateSteps\":{}\"updateCounts\":{}\r\n    \"lambda\":1.0E-4,\"prior\":{}\"sealed\":true,\"gradient\":{}}}\r\n\r\nare missing commas between updateSteps,updateCounts  and Sealed variables\r\n\r\nInvestigating further, \r\nThese come from the  AbstractOnlineLogisticRegression.java and the above variables are not initialized hence the wrong output by the toJson function. \r\n\r\nThis is a bug with  - > gson.toJson function,  I see that I am using gson-1.3 and upgrading to 1.4  by modifying core/pom.xml fixes things, But runLogistic then complains about \r\n\r\n10/11/29 03:29:43 WARN conf.Configuration: DEPRECATED: hadoop-site.xml found in the classpath. Usage of hadoop-site.xml is deprecated. Instead use core-site.xml, mapred-site.xml and hdfs-site.xml to override properties of core-default.xml, mapred-default.xml and hdfs-default.xml respectively\r\nException in thread \"main\" java.lang.RuntimeException: No-args constructor for interface org.apache.mahout.math.Vector does not exist. Register an InstanceCreator with Gson for this type to fix this problem.\r\n\tat com.google.gson.MappedObjectConstructor.constructWithNoArgConstructor(MappedObjectConstructor.java:64)\r\n\tat com.google.gson.MappedObjectConstructor.construct(MappedObjectConstructor.java:53)\r\n\tat com.google.gson.JsonObjectDeserializationVisitor.constructTarget(JsonObjectDeserializationVisitor.java:41)\r\n\tat com.google.gson.JsonDeserializationVisitor.getTarget(JsonDeserializationVisitor.java:56)\r\n\tat com.google.gson.ObjectNavigator.accept(ObjectNavigator.java:101)\r\n\tat com.google.gson.JsonDeserializationVisitor.visitChild(JsonDeserializationVisitor.java:107)\r\n\tat com.google.gson.JsonDeserializationVisitor.visitChildAsObject(JsonDeserializationVisitor.java:95)\r\n\tat com.google.gson.JsonObjectDeserializationVisitor.visitObjectField(JsonObjectDeserializationVisitor.java:62)\r\n\tat com.google.gson.ObjectNavigator.navigateClassFields(ObjectNavigator.java:156)\r\n\tat com.google.gson.ObjectNavigator.accept(ObjectNavigator.java:123)\r\n\tat com.google.gson.JsonDeserializationVisitor.visitChild(JsonDeserializationVisitor.java:107)\r\n\tat com.google.gson.JsonDeserializationVisitor.visitChildAsObject(JsonDeserializationVisitor.java:95)\r\n\tat com.google.gson.JsonObjectDeserializationVisitor.visitObjectField(JsonObjectDeserializationVisitor.java:62)\r\n\tat com.google.gson.ObjectNavigator.navigateClassFields(ObjectNavigator.java:156)\r\n\tat com.google.gson.ObjectNavigator.accept(ObjectNavigator.java:123)\r\n\tat com.google.gson.JsonDeserializationContextDefault.fromJsonObject(JsonDeserializationContextDefault.java:73)\r\n\tat com.google.gson.JsonDeserializationContextDefault.deserialize(JsonDeserializationContextDefault.java:51)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:495)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:444)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:419)\r\n\tat org.apache.mahout.classifier.sgd.LogisticModelParameters.loadFrom(LogisticModelParameters.java:142)\r\n\tat org.apache.mahout.classifier.sgd.LogisticModelParameters.loadFrom(LogisticModelParameters.java:155)\r\n\tat org.apache.mahout.classifier.sgd.RunLogistic.main(RunLogistic.java:56)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:616)\r\n\tat org.apache.hadoop.util.ProgramDriver$ProgramDescription.invoke(ProgramDriver.java:68)\r\n\tat org.apache.hadoop.util.ProgramDriver.driver(ProgramDriver.java:139)\r\n\tat org.apache.mahout.driver.MahoutDriver.main(MahoutDriver.java:182)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:616)\r\n\tat org.apache.hadoop.util.RunJar.main(RunJar.java:156)\r\n\r\nWhich I haven't had the time to investigate yet, Will post more results tomorrow.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"22862","summary":"In the trainlogistic example the JSON model file which is created is missing commas and making it unusable with runLogistic.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohananil","name":"rohananil","emailAddress":"ranil at cs dot ucsd dot edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohan Anil","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohananil","name":"rohananil","emailAddress":"ranil at cs dot ucsd dot edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohan Anil","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Ubuntu 10.10, Hadoop-0.20.2 ","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":8,"total":8,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12491529/comment/12964772","id":"12964772","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"Rohan,\r\n\r\nTHanks for looking into this.\r\n\r\nI have started building up serializers of the entire sgd framework using serializers because large models just aren't feasible to serialize\r\nusing JSON.\r\n\r\nLet me check the state of those changes.  Last I looked, I think that they were very close to ready.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2010-11-29T15:18:09.317+0000","updated":"2010-11-29T15:18:09.317+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12491529/comment/12964775","id":"12964775","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"\r\nMAHOUT-545 is the issue I have been using to track JSON serialization problems.\r\n\r\nThe problem with missing comma's shouldn't be occurring if ModelSerializer is used.  The RunLogistic\r\ncode is kind of old so it may not be using that class.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2010-11-29T15:22:41.858+0000","updated":"2010-11-29T15:22:41.858+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12491529/comment/12964776","id":"12964776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"Yes.  I think that this code:\r\n{code}\r\n    GsonBuilder gb = new GsonBuilder();\r\n    gb.registerTypeAdapter(Matrix.class, new MatrixTypeAdapter());\r\n    Gson gson = gb.setPrettyPrinting().create();\r\n{code}\r\nin LogisticModelParameters.saveTo() at about line 126 should actually be more like this:\r\n{code}\r\n    Gson gson = ModelSerializer.gson();\r\n{code}\r\nThe serializer that results has lots of adapters installed already.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2010-11-29T15:25:33.325+0000","updated":"2010-11-29T15:25:33.325+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12491529/comment/12965089","id":"12965089","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohananil","name":"rohananil","emailAddress":"ranil at cs dot ucsd dot edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohan Anil","active":true},"body":"Thanks! That works.\r\n\r\nThe same edit is needed in the  LogisticModelParameters.loadFrom!\r\n\r\nAnother bug: in Auc.java\r\nClassifier Evaluation : \r\n\r\nwhen the scores are tied -  \r\n...\r\n        // how many negatives are tied?\r\n        int k0 = 0;\r\n        while (i0 < n0 && v0 == tieScore) {\r\n          k0++;\r\n          i0++;\r\n          v0 = scores[0].get(i0);\r\n        }\r\n\r\n        // and how many positives\r\n        int k1 = 0;\r\n        while (i1 < n1 && v1 == tieScore) {\r\n          k1++;\r\n          i1++;\r\n          v1 = scores[1].get(i1);\r\n        }\r\n...\r\n\r\nIt sometimes goes Index out of bounds: Increment operation should be after accessing it\r\n\r\n while (i0 < n0 && v0 == tieScore) {\r\n          v0 = scores[0].get(i0);\r\n          k0++;\r\n          i0++;\r\n         \r\n        }\r\n\r\n        // and how many positives\r\n        int k1 = 0;\r\n        while (i1 < n1 && v1 == tieScore) {\r\n          v1 = scores[1].get(i1);\r\n          k1++;\r\n          i1++;\r\n         \r\n        }","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohananil","name":"rohananil","emailAddress":"ranil at cs dot ucsd dot edu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohan Anil","active":true},"created":"2010-11-30T04:45:23.705+0000","updated":"2010-11-30T04:45:23.705+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12491529/comment/12982435","id":"12982435","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"Ted's guess at the change is probably good, and it passes tests. I committed that. Rohan maybe you can verify it works?\r\n\r\nRohan I'd also open brand-new issue for unrelated issues, instead of commenting on an unrelated one. The second issue you mention, however, seems to have already been fixed anyway.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2011-01-17T00:13:49.383+0000","updated":"2011-01-17T00:13:49.383+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12491529/comment/12982445","id":"12982445","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"The reading side has the same problem as noted by Rohan.  Commit coming through in minutes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2011-01-17T01:01:24.471+0000","updated":"2011-01-17T01:01:24.471+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12491529/comment/12982446","id":"12982446","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"Tiny additional patch committed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2011-01-17T01:03:15.371+0000","updated":"2011-01-17T01:03:15.371+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12491529/comment/12982502","id":"12982502","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Mahout-Quality #563 (See [https://hudson.apache.org/hudson/job/Mahout-Quality/563/])\r\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2011-01-17T07:04:13.435+0000","updated":"2011-01-17T07:04:13.435+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-556/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i049uv:"}}