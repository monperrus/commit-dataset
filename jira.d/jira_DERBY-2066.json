{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12355196","self":"https://issues.apache.org/jira/rest/api/latest/issue/12355196","key":"DERBY-2066","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316344","id":"12316344","description":"First release on the 10.9 branch","name":"10.9.1.0","archived":false,"released":true,"releaseDate":"2012-06-25"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2009-07-08 08:40:57.724","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22866","customfield_12310222":"1_*:*_1_*:*_138929932795_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2011-04-05T18:46:42.771+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2066/watchers","watchCount":1,"isWatching":false},"created":"2006-11-09T19:07:50.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":["derby_backport_reject_10_8"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12338466","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12338466","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12503511","key":"DERBY-5177","self":"https://issues.apache.org/jira/rest/api/2/issue/12503511","fields":{"summary":"EmbeddedXADataSource should use the SQLException wrapping mechanism when throwing MessageId.CORE_DATABASE_NOT_AVAILABLE","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-06-17T09:19:10.975+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11690","id":"11690","name":"Network Client"},{"self":"https://issues.apache.org/jira/rest/api/2/component/11410","id":"11410","name":"Network Server"}],"timeoriginalestimate":null,"description":"Running all within the same JVM.\r\nstart network server using api\r\nconnect to database using client\r\nclose connection\r\nshutdown engine (not network server) using jdbc:derby:;shutdown=true\r\nconnect to database using client - FAILS\r\n\r\nCaused by: org.apache.derby.client.am.DisconnectException: The DDM object 0x1232 is not supported.  The connection has been terminated.\r\n\tat org.apache.derby.client.net.NetConnectionReply.doObjnsprmSemantics(Unknown Source)\r\n\tat org.apache.derby.client.net.NetConnectionReply.parseCommonError(Unknown Source)\r\n\tat org.apache.derby.client.net.NetConnectionReply.parseSecurityCheckError(Unknown Source)\r\n\tat org.apache.derby.client.net.NetConnectionReply.parseSECCHKreply(Unknown Source)\r\n\tat org.apache.derby.client.net.NetConnectionReply.readSecurityCheck(Unknown Source)\r\n\tat org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessRdb(Unknown Source)\r\n\tat org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessRdb(Unknown Source)\r\n\tat org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(Unknown Source)\r\n\tat org.apache.derby.client.net.NetConnection.flowConnect(Unknown Source)\r\n\tat org.apache.derby.client.net.NetConnection.<init>(Unknown Source)\r\n\tat org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(Unknown Source)\r\n\t... 33 more\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10365","value":"Crash","id":"10365"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"36095","summary":"DisconnectException: The DDM object 0x1232 is not supported following shutdown of embedded engine while network server is running","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"subtasks":[],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10424","value":"Repro attached","id":"10424"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"JDK 142 windows","customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10052","value":"Normal","id":"10052"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":11,"total":11,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/12448547","id":"12448547","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Will try  to add reproducible case to ShutDownDBWhenNSShutsDownTest since it is based upon the scenario there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2006-11-09T19:08:38.000+0000","updated":"2006-11-09T19:08:38.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/12728564","id":"12728564","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Triaged for 10.5.2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-07-08T08:40:57.724+0000","updated":"2009-07-08T08:40:57.724+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/13014656","id":"13014656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Attaching Test_2066.java, a repro for this problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2011-04-01T15:06:15.323+0000","updated":"2011-04-01T15:06:15.323+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/13014701","id":"13014701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"The underlying problem seems to be that the EmbeddedDriver is not registered. According to the \"Shutting down the system\" section of the Developer's Guide, you have to re-register the EmbeddedDriver before re-connecting after an orderly shutdown. The problem goes away if you insert this statement before the second attempt to get a connection:\r\n\r\nClass.forName(org.apache.derby.jdbc.EmbeddedDriver).newInstance();\r\n\r\nThe error message of course is utterly worthless.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2011-04-01T15:36:50.669+0000","updated":"2011-04-01T15:36:50.669+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/13014743","id":"13014743","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Attaching derby-2066-01-aa-makeMessageIDaSQLState.diff. This results in a reasonable error message for this situation. I will run regression tests.\r\n\r\nI don't propose to commit this patch before creating the 10.8 branch. I would like to give people time to consider whether there are any problems with this solution:\r\n\r\nThe worthless error message arises because the error condition creates a SQLException with no SQLState. In various places the network driver assumes that all SQLExceptions have SQLStates. In one place the network driver assumes that a SQLState will have exactly 5 characters. If these assumptions aren't true, then the protocol trips over NPEs and array bounds exceptions and coughs up the worthless error message seen in this bug report.\r\n\r\nAlthough I can fault the driver's graceless handling of violated assumptions, I think that it is reasonable to insist that all SQLExceptions have 5 character SQLStates.\r\n\r\nThe \"unregistered driver\" error is raised twice in Derby code. In both cases it surfaces as a SQLException without a SQLState. The actual message handle for this error lives in MessageId.java. Comments in that class indicate that it is only for messages which DON'T appear in SQLExceptions.\r\n\r\nI fixed the problem as follows:\r\n\r\n1) Moved the \"unregistered driver\" message from MessageId into SQLState. Along the way I gave it a new message handle and placed it in a block with other connection errors.\r\n\r\n2) Adjusted messages.xml accordingly.\r\n\r\n3) Changed the two places which raise this SQLException to also include the SQLState.\r\n\r\nIf this seems like a reasonable way to ungarble this problem, then I think it would be worthwhile to examine MessageId to see if it contains other errors which are really surfacing as SQLExceptions. Those errors should get valid SQLStates and should move to SQLState.java too.\r\n\r\n\r\nTouches the following files:\r\n\r\n----------\r\n\r\nM      java/engine/org/apache/derby/loc/messages.xml\r\nM      java/shared/org/apache/derby/shared/common/reference/SQLState.java\r\nM      java/shared/org/apache/derby/shared/common/reference/MessageId.java\r\n\r\nMake the \"unregistered driver\" error a SQLState rather than a MessageId.\r\n\r\n----------\r\n\r\n\r\nM      java/engine/org/apache/derby/jdbc/EmbeddedSimpleDataSource.java\r\nM      java/engine/org/apache/derby/jdbc/AutoloadedDriver.java\r\n\r\nInclude a SQLState in the \"unregistered driver\" SQLException.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2011-04-01T16:59:00.235+0000","updated":"2011-04-01T16:59:00.235+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/13014796","id":"13014796","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"The first rev of the patch showed a need to update ErrorCodeTest. Attaching a second rev of the patch which updates that test: derby-2066-01-ab-makeMessageIDaSQLState","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2011-04-01T19:08:21.334+0000","updated":"2011-04-01T19:08:21.334+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/13015364","id":"13015364","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Hi Rick,\r\n\r\nIt sounds reasonable to me to change this code so that the SQLExceptions have an SQLState. Perhaps not 08002, though, as that's reserved for \"connection name in use\", if I read my copy of SQL:2003 correctly.\r\n\r\nWould it make sense to use Util.generateCsSQLException() instead of constructing a new SQLException directly? Then we'd go through the exception factory and get the correct sub-class of SQLException.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2011-04-04T11:44:30.501+0000","updated":"2011-04-04T11:44:30.501+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/13016007","id":"13016007","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Thanks, Knut. Those are good suggestions. Attaching a revised version of the patch, derby-2066-01-ac-makeMessageIDaSQLState.diff. I will run regression tests.\r\n\r\nThis version makes the following changes:\r\n\r\n1) Uses Util.generateCsSQLException() to build the SQLException.\r\n\r\n2) Changes the SQLState to a form of 08006, the SQL Standard SQLState for connection failures.\r\n\r\n3) Updates the localizations to reflect the message id change.\r\n\r\nTouches the following files:\r\n\r\nM      java/engine/org/apache/derby/jdbc/EmbeddedSimpleDataSource.java\r\nM      java/engine/org/apache/derby/jdbc/AutoloadedDriver.java\r\nM      java/engine/org/apache/derby/loc/messages_de_DE.properties\r\nM      java/engine/org/apache/derby/loc/messages_zh_CN.properties\r\nM      java/engine/org/apache/derby/loc/messages_cs.properties\r\nM      java/engine/org/apache/derby/loc/messages_ko_KR.properties\r\nM      java/engine/org/apache/derby/loc/messages_pt_BR.properties\r\nM      java/engine/org/apache/derby/loc/messages_es.properties\r\nM      java/engine/org/apache/derby/loc/messages_fr.properties\r\nM      java/engine/org/apache/derby/loc/messages_pl.properties\r\nM      java/engine/org/apache/derby/loc/messages_hu.properties\r\nM      java/engine/org/apache/derby/loc/messages_it.properties\r\nM      java/engine/org/apache/derby/loc/messages_ja_JP.properties\r\nM      java/engine/org/apache/derby/loc/messages.xml\r\nM      java/engine/org/apache/derby/loc/messages_ru.properties\r\nM      java/engine/org/apache/derby/loc/messages_zh_TW.properties\r\nM      java/shared/org/apache/derby/shared/common/reference/SQLState.java\r\nM      java/shared/org/apache/derby/shared/common/reference/MessageId.java\r\nM      java/testing/org/apache/derbyTesting/functionTests/tests/lang/ErrorCodeTest.java\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2011-04-05T16:43:10.568+0000","updated":"2011-04-05T16:43:10.568+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/13016073","id":"13016073","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Tests passed cleanly. Committed derby-2066-01-ac-makeMessageIDaSQLState.diff at subversion revision 1089156.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2011-04-05T18:46:42.788+0000","updated":"2011-04-05T18:46:42.788+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/13086562","id":"13086562","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"marked derby_backport_reject_10_8 because of message changes,","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2011-08-17T20:10:42.213+0000","updated":"2011-08-17T20:10:42.213+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355196/comment/13685151","id":"13685151","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"[bulk update] Close all resolved issues that haven't been updated for more than one year.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2013-06-17T09:19:10.959+0000","updated":"2013-06-17T09:19:10.959+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2066/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06jif:"}}