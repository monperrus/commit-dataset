{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12686834","self":"https://issues.apache.org/jira/rest/api/latest/issue/12686834","key":"DERBY-6443","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326659","id":"12326659","description":"candidate for Second release for 10.10 branch","name":"10.10.2.0","archived":false,"released":true,"releaseDate":"2014-04-15"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324243","id":"12324243","description":"First release on the 10.11 branch","name":"10.11.1.1","archived":false,"released":true,"releaseDate":"2014-08-26"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2014-01-02 14:50:00.369","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"365827","customfield_12310222":"3_*:*_1_*:*_2432660600_*|*_1_*:*_1_*:*_687172763_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2014-02-05T12:15:02.581+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-6443/watchers","watchCount":4,"isWatching":false},"created":"2013-12-31T09:37:49.260+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10991","id":"10991","description":"snapshot","name":"10.0.2.1","archived":false,"released":true,"releaseDate":"2004-12-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12321550","id":"12321550","description":"First release on the 10.10 branch","name":"10.10.1.1","archived":false,"released":true,"releaseDate":"2013-04-15"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-01-21T00:23:26.683+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11408","id":"11408","name":"SQL"}],"timeoriginalestimate":null,"description":"I'm having problems will calling functions from within a trigger.\r\nThe problem seems to be with the outer function call (FLOOR() in this case, but it also happens with other functions). It works fine in the SELECT statement, but when used in the trigger it throws a ArrayIndexOutOfBoundsException.\r\nRemove the FLOOR() part from the trigger and it works fine.\r\n\r\n{code}\r\n-- create source table and some data\r\nCREATE TABLE foo (name VARCHAR(20), val DOUBLE);\r\nINSERT INTO foo (name, val) VALUES ('A', 10), ('A', 20), ('B', 30), ('C', 40);\r\n\r\n-- calling the function works fine here\r\nSELECT name, FLOOR(AVG(LOG10(val))), COUNT(*)\r\nFROM foo\r\nGROUP BY name;\r\n\r\n-- create target table for trigger\r\nCREATE TABLE summary (name VARCHAR(20), aver DOUBLE, size INT);\r\n\r\n-- create the trigger\r\nCREATE TRIGGER trg_foo AFTER INSERT ON foo\r\nREFERENCING NEW TABLE AS changed FOR EACH STATEMENT MODE DB2SQL\r\nINSERT INTO summary (name, aver, size)\r\nSELECT name, FLOOR(AVG(LOG10(val))), COUNT(*)\r\nFROM changed\r\nGROUP BY name;\r\n\r\n-- insert rows to cause trigger to fire\r\nINSERT INTO foo (name, val) VALUES ('A', 10), ('A', 20), ('B', 30), ('C', 40);\r\n\r\nSELECT * FROM foo;\r\nSELECT * FROM summary;\r\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10421","value":"Seen in production","id":"10421"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"366134","summary":"ArrayIndexOutOfBoundsException when calling function from trigger","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdudgeon","name":"tdudgeon","emailAddress":"tdudgeon at informaticsmatters dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim Dudgeon","active":true},"subtasks":[],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10424","value":"Repro attached","id":"10424"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdudgeon","name":"tdudgeon","emailAddress":"tdudgeon at informaticsmatters dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim Dudgeon","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10052","value":"Normal","id":"10052"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":9,"total":9,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686834/comment/13860235","id":"13860235","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"When running in a debug build, it fails already in the CREATE TRIGGER statement:\r\n\r\n{quote}\r\nERROR XJ001: Java exception: 'ASSERT FAILED sourceResultSetNumber expected to be >= 0 for null.SQLCol3: org.apache.derby.shared.common.sanity.AssertFailure'.\r\n{quote}\r\n\r\nA similar, simpler trigger produces another assert failure, which seems to give some more details about what has gone wrong:\r\n\r\n{noformat}\r\nij> create table t1(x int);\r\n0 rows inserted/updated/deleted\r\nij> create table t2(x int);\r\n0 rows inserted/updated/deleted\r\nij> create trigger tr after insert on t1 insert into t2 select floor(avg(x)) from t1;\r\nERROR XJ001: Java exception: 'ASSERT FAILED generateExpression() should never be called on an AggregateNode.  replaceAggregatesWithColumnReferences should have been called prior to generateExpression: org.apache.derby.shared.common.sanity.AssertFailure'.\r\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2014-01-02T14:50:00.369+0000","updated":"2014-01-02T14:50:00.369+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686834/comment/13860248","id":"13860248","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"The assert failures can also be seen when the INSERT statement is executed outside of the trigger:\r\n\r\n{noformat}\r\nij> INSERT INTO summary (name, aver, size)\r\n> SELECT name, FLOOR(AVG(LOG10(val))), COUNT(*)\r\n> FROM foo\r\n> GROUP BY name;\r\nERROR XJ001: Java exception: 'ASSERT FAILED sourceResultSetNumber expected to be >= 0 for null.SQLCol3: org.apache.derby.shared.common.sanity.AssertFailure'.\r\n{noformat}\r\n\r\nand\r\n\r\n{noformat}\r\nij> create table t(x int);\r\n0 rows inserted/updated/deleted\r\nij> insert into t select floor(avg(x)) from t;\r\nERROR XJ001: Java exception: 'ASSERT FAILED generateExpression() should never be called on an AggregateNode.  replaceAggregatesWithColumnReferences should have been called prior to generateExpression: org.apache.derby.shared.common.sanity.AssertFailure'.\r\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2014-01-02T15:02:05.445+0000","updated":"2014-01-02T15:02:05.445+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686834/comment/13862995","id":"13862995","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"The repro in the bug description doesn't reproduce the ArrayIndexOutOfBoundsException on 10.4.1.3 and earlier. Instead, it fails with a different kind of error message, probably because of DERBY-3649. Also, on 10.0 and 10.1 the FLOOR and LOG10 functions used in the repro are not available.\r\n\r\nThe following code reproduces the ArrayIndexOutOfBoundsException all the way back to the initial version (10.0.2.1), so it seems this is not a new bug:\r\n\r\n{noformat}\r\nij version 10.0\r\nij> connect 'jdbc:derby:db;create=true';\r\nij> create table t1(a int);\r\n0 rows inserted/updated/deleted\r\nij> create table t2(b int);\r\n0 rows inserted/updated/deleted\r\nij> create function f(x int) returns int language java parameter style java external name 'java.lang.Math.abs' no sql;\r\n0 rows inserted/updated/deleted\r\nij> insert into t1 select f(avg(b)) from t2;\r\nERROR XJ001: Java exception: '-1: java.lang.ArrayIndexOutOfBoundsException'.\r\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2014-01-06T13:55:02.447+0000","updated":"2014-01-06T13:55:02.447+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686834/comment/13863061","id":"13863061","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"InsertNode.bindStatement() binds the underlying SelectNode twice. First here:\r\n\r\n{code}\r\n\t\t/* If any underlying ResultSetNode is a SelectNode, then we\r\n\t\t * need to do a full bind(), including the expressions\r\n\t\t * (since the fromList may include a FromSubquery).\r\n\t\t */\r\n\t\tDataDictionary dataDictionary = getDataDictionary();\r\n\t\tsuper.bindResultSetsWithTables(dataDictionary);\r\n{code}\r\n\r\nThen here:\r\n\r\n{code}\r\n\t\t/* Bind the expressions now that the result columns are bound \r\n\t\t * NOTE: This will be the 2nd time for those underlying ResultSets\r\n\t\t * that have tables (no harm done), but it is necessary for those\r\n\t\t * that do not have tables.  It's too hard/not work the effort to\r\n\t\t * avoid the redundancy.\r\n\t\t */\r\n\t\tsuper.bindExpressions();\r\n{code}\r\n\r\nThe first time the node is bound, the AggregateNode (for the AVG function) is found and added to SelectNode.selectAggregates. The second time it is bound, the original selectAggregates list is replaced with a fresh, empty list first. For some reason, the AggregateNode is not found in this round, and the selectAggregates list stays empty. Because of the empty selectAggregates list, some transformations required for queries with aggregates are not performed, which eventually leads to assert failures or IndexOutOfBoundsExceptions.\r\n\r\nAs a quick hack, I changed SelectNode.bindExpressions() so that it didn't drop the original selectAggregates list the second time it was called. This made the queries succeed. To fix it properly, I think we need to find out why the AggregateNode is not found the second time the SelectNode is bound, and possibly make adjustments so that it is found.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2014-01-06T16:02:10.412+0000","updated":"2014-01-06T16:02:10.412+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686834/comment/13863065","id":"13863065","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"StaticMethodCallNode.bindExpression() starts with this:\r\n\r\n{code}\r\n\t\t// for a function we can get called recursively\r\n\t\tif (alreadyBound)\r\n\t\t\treturn this;\r\n{code}\r\n\r\nSince the function call that's wrapped around the call to AVG is represented by a StaticMethodCallNode, that would probably explain why we don't see the AVG function the second time the node is bound.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2014-01-06T16:05:47.539+0000","updated":"2014-01-06T16:05:47.539+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686834/comment/13864113","id":"13864113","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Attaching d6443-1a.diff which contains a fix for the bug and a regression test case to verify the fix.\r\n\r\nThe point of the alreadyBound flag in StaticMethodCallNode seems to be to prevent infinite recursion, since StaticMethodCallNode.bindExpression() can be called recursively in some circumstances. If the check for the flag is removed, many regression tests fail with StackOverflowError.\r\n\r\nSince the purpose of the flag is to prevent infinite recursion, not to prevent re-binding of the node, I changed it so that it is only true when bindExpression() is executing. This means recursive calls will see that it's true, and return immediately. It is reset to false when the top-level call to bindExpression() returns, so that re-binding the node will actually do some work. The flag was also renamed from alreadyBound to isInsideBind to reflect its new meaning.\r\n\r\nAll regression tests ran cleanly with the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2014-01-07T11:14:46.430+0000","updated":"2014-01-07T11:14:46.430+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686834/comment/13866670","id":"13866670","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"body":"Commit 1556809 from [~knutanders] in branch 'code/trunk'\r\n[ https://svn.apache.org/r1556809 ]\r\n\r\nDERBY-6443: ArrayIndexOutOfBoundsException when calling function from trigger\r\n\r\nStaticMethodCallNode.bindExpression() was a no-op if the node had\r\nalready been bound. This caused problems for queries that need to bind\r\nexpressions multiple times (for example INSERT INTO ... SELECT).\r\n\r\nThis fix makes StaticMethodCallNode.bindExpression() work if it's\r\ncalled a second time, while still making it a no-op if it is called\r\nrecursively in order to prevent infinite recursion.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"created":"2014-01-09T14:18:28.782+0000","updated":"2014-01-09T14:18:28.782+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686834/comment/13892039","id":"13892039","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"body":"Commit 1564730 from [~knutanders] in branch 'code/branches/10.10'\r\n[ https://svn.apache.org/r1564730 ]\r\n\r\nDERBY-6443: ArrayIndexOutOfBoundsException when calling function from trigger\r\n\r\nMerged revision 1556809 from trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"created":"2014-02-05T12:14:47.027+0000","updated":"2014-02-05T12:14:47.027+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12686834/comment/14284802","id":"14284802","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"bulk change to close all issues resolved but not closed and not changed since June 1, 2014.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2015-01-21T00:23:26.671+0000","updated":"2015-01-21T00:23:26.671+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-6443/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1r253:"}}