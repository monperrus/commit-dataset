{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12372789","self":"https://issues.apache.org/jira/rest/api/latest/issue/12372789","key":"SOLR-282","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310230","id":"12310230","key":"SOLR","name":"Solr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310230&avatarId=22151","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310230&avatarId=22151","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310230&avatarId=22151"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312486","id":"12312486","description":"","name":"1.3","archived":false,"released":true,"releaseDate":"2008-09-16"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2007-07-06 21:36:17.743","customfield_12312323":null,"customfield_12310420":"7308","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_901261356_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-07-12T12:39:28.356+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-282/watchers","watchCount":0,"isWatching":false},"created":"2007-07-02T02:18:27.474+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312235","id":"12312235","description":"","name":"1.2","archived":false,"released":true,"releaseDate":"2007-06-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-10T10:41:15.595+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311446","id":"12311446","name":"replication (scripts)","description":"Index replication from master to slaves using rsync based shellscripts"}],"timeoriginalestimate":null,"description":"http://www.mail-archive.com/solr-user@lucene.apache.org/msg04761.html\n\nsolr is able to find snapshooter but didn't  generate any snapshot files after the index is updated. I checked the\nlog, everything looks fine, then I run snapshooter from command line. It failed because Solaris doesn't support \n-l option for cp command. I changed command \"cp -lr dir1 dir2\" to:\n\nmkdir dir2\nln dir1/* dir2\n\nIt seems working. Otis suggested to create an issue so that Bill Au & Co. can fix this problem. \nPlease note: several other commands under solr/bin also have this problem. You can use grep \"cp -lr\" to find all of them \nand make similar changes.\n\nI'm also curious why there is no error log when solr failed running snapshooter. Shouldn't solr log an error message?\n\nThanks\nXuesong","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"20902","summary":"snapshooter does not work under solaris ","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xluo","name":"xluo","emailAddress":"xluo at successfactors dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuesong Luo","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xluo","name":"xluo","emailAddress":"xluo at successfactors dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuesong Luo","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"solaris","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":8,"total":8,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12372789/comment/12510801","id":"12510801","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"body":"I think I will go with:\r\n\r\nmkdir dir2\r\ncd dir1\r\nfind . -print|cpio -pdlmuv ${full_path_name_to_dir2}\r\n\r\nThis works closer to cp -lr in that it will take care of any subdirectory nder dir1.  I know Lucene does not put any subdirectory inside the data directory.  But you never know what people may but there to take advantage of the snapshot distribution.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"created":"2007-07-06T21:36:17.743+0000","updated":"2007-07-06T21:36:17.743+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12372789/comment/12510804","id":"12510804","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yseeley%40gmail.com","name":"yseeley@gmail.com","emailAddress":"yseeley at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yonik Seeley","active":true},"body":"lol... is cpio installed by default an all UNIX systems, and are the args the same?\r\nPerhaps this should be an alternate codepath for solaris?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yseeley%40gmail.com","name":"yseeley@gmail.com","emailAddress":"yseeley at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yonik Seeley","active":true},"created":"2007-07-06T21:51:32.551+0000","updated":"2007-07-06T21:51:32.551+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12372789/comment/12511127","id":"12511127","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"body":"Yes, I am thinking it will be an alternate codepath for Solaris only, keeping \"cp -l\" as the default.  With so many different OSes out there I am not sure if we can come up with a single solution to works everywhere.  I am not sure we want to spend the time to find it even if it exists.  I for one only have access to a handful of OSes. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"created":"2007-07-09T13:59:00.353+0000","updated":"2007-07-09T13:59:00.353+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12372789/comment/12511128","id":"12511128","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"body":"Yes, I am thinking it will be an alternate codepath for Solaris only,\r\nkeeping \"cp -l\" as the default.\r\nWith so many different OSes out there I am not sure if we can come up with a\r\nsingle solution to works everywhere.  I am not sure we want to spend the\r\ntime to find it even if it exists.  I for one only have access to a handful\r\nof OSes.\r\n\r\nBill\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"created":"2007-07-09T14:00:31.975+0000","updated":"2007-07-09T14:00:31.975+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12372789/comment/12511233","id":"12511233","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"body":"Attached is a patch for using cpio instead of \"cp -l\" when the scripts are run on SunOS.  While I was at it, I also updated the commit and optimize related scripts to be able to handle both the old and new response format.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"created":"2007-07-09T19:46:04.144+0000","updated":"2007-07-09T19:46:04.144+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12372789/comment/12511236","id":"12511236","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"body":"I have tested my patch on the only Solaris box that I have access to.  That is running Solaris 8.  It will be good if someone with access to a more recent version of Solaris check it out too.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"created":"2007-07-09T19:48:47.145+0000","updated":"2007-07-09T19:48:47.145+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12372789/comment/12511405","id":"12511405","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"body":"Attached is an updated patch that works for both Solaris and OS X.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"created":"2007-07-10T12:15:28.920+0000","updated":"2007-07-10T12:15:28.920+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12372789/comment/12512073","id":"12512073","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"body":"I have committed the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=billa","name":"billa","emailAddress":"bill dot w dot au at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bill Au","active":true},"created":"2007-07-12T12:39:28.327+0000","updated":"2007-07-12T12:39:28.327+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-282/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i03xrb:"}}