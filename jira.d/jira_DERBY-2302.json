{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12362200","self":"https://issues.apache.org/jira/rest/api/latest/issue/12362200","key":"DERBY-2302","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2007-02-08 14:29:40.247","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22992","customfield_12310222":"1_*:*_1_*:*_107893442_*|*_6_*:*_2_*:*_8193840546_*|*_4_*:*_1_*:*_73475","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-05-14T16:21:12.259+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2302/watchers","watchCount":0,"isWatching":false},"created":"2007-02-07T14:17:44.796+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-06-30T15:55:50.418+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"See e.g. http://dbtg.thresher.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/testSummary-504492.html\nSeen on TinderBox_Derby since svn r504394.\n\n1) testConnection(org.apache.derbyTesting.functionTests.tests.derbynet.ClientSideSystemPropertiesTest)java.security.AccessControlException: access denied (java.util.PropertyPermission user.dir read)\n\tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:323)\n\tat java.security.AccessController.checkPermission(AccessController.java:546)\n\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n\tat java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1285)\n\tat java.lang.System.getProperty(System.java:652)\n\tat java.io.UnixFileSystem.resolve(UnixFileSystem.java:118)\n\tat java.io.File.getCanonicalPath(File.java:559)\n\tat org.apache.derby.client.am.LogWriter$1.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.apache.derby.client.am.LogWriter.getPrintWriter(Unknown Source)\n\tat org.apache.derby.jdbc.ClientBaseDataSource.computePrintWriter(Unknown Source)\n\tat org.apache.derby.jdbc.ClientBaseDataSource.computeDncLogWriter(Unknown Source)\n\tat org.apache.derby.jdbc.ClientBaseDataSource.computeDncLogWriterForNewConnection(Unknown Source)\n\tat org.apache.derby.jdbc.ClientDriver.connect(Unknown Source)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:582)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:185)\n\tat org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)\n\tat org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:43)\n\tat org.apache.derbyTesting.junit.TestConfiguration.openDefaultConnection(TestConfiguration.java:764)\n\tat org.apache.derbyTesting.junit.BaseJDBCTestCase.openDefaultConnection(BaseJDBCTestCase.java:195)\n\tat org.apache.derbyTesting.junit.BaseJDBCTestCase.getConnection(BaseJDBCTestCase.java:84)\n\tat org.apache.derbyTesting.functionTests.tests.derbynet.ClientSideSystemPropertiesTest.testConnection(ClientSideSystemPropertiesTest.java:42)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10420","value":"Regression","id":"10420"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38809","summary":"AccessControlException for 'user.dir read' in ClientSideSystemPropertiesTest.testConnection","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Java Version:    1.6.0\nJava Vendor:     Sun Microsystems Inc.\nJava home:       /usr/local/java/jdk1.6.0_01/jre\nJava classpath:  /home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derby.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyclient.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbytools.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbynet.jar:/home/os136789/Apache/TinderBox_Derby/db2jcc/lib/db2jcc.jar:/home/os136789/Apache/TinderBox_Derby/db2jcc/lib/db2jcc_license_c.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyTesting.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyrun.jar:/home/os136789/Apache/TinderBox_Derby/trunk/tools/java/jakarta-oro-2.0.8.jar:/home/os136789/Apache/TinderBox_Derby/trunk/tools/java/junit.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyLocale_de_DE.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyLocale_es.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyLocale_fr.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyLocale_it.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyLocale_ja_JP.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyLocale_ko_KR.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyLocale_pt_BR.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyLocale_zh_CN.jar:/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyLocale_zh_TW.jar\nOS name:         SunOS\nOS architecture: x86\nOS version:      5.10\nJava user name:  os136789\nJava user home:  /home/os136789\nJava user dir:   /export/home/tmp/os136789/testingDerbyTinderBox/SunOS-5.10_i86pc-i386/org.apache.derbyTesting.functionTests.suites.All\njava.specification.name: Java Platform API Specification\njava.specification.version: 1.6\n--------- Derby Information --------\nJRE - JDBC: Java SE 6 - JDBC 4.0\n[/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derby.jar] 10.3.0.0 alpha - (504492)\n[/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbytools.jar] 10.3.0.0 alpha - (504492)\n[/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbynet.jar] 10.3.0.0 alpha - (504492)\n[/home/os136789/Apache/TinderBox_Derby/trunk/jars/insane/derbyclient.jar] 10.3.0.0 alpha - (504492)\n[/home/os136789/Apache/TinderBox_Derby/db2jcc/lib/db2jcc.jar] 2.4 - (17)\n[/home/os136789/Apache/TinderBox_Derby/db2jcc/lib/db2jcc_license_c.jar] 2.4 - (17)","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":4,"total":4,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12362200/comment/12471339","id":"12471339","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"body":"The fix for the problem required granting derbyClient.jar 2 additional set of permissions\r\n1)Property read permission for user.dir since that's where the Junit test wants to have the client tracing done. \r\n   permission java.util.PropertyPermission \"user.dir\", \"read\";\r\n2)Also, in order to read/write in user.dir directory, the client jar needs following additional permission\r\npermission java.io.FilePermission \"${user.dir}${/}-\", \"read,write\";\r\n\r\nI am attaching the svn diff as DERBY2302_PolicyFileChange_diff_v1.txt\r\n\r\nThe only file that changed is \r\njava\\testing\\org\\apache\\derbyTesting\\functionTests\\util\\derby_tests.policy\r\n\r\nPlease let me know if anyone has any comments on this change.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"created":"2007-02-08T14:29:40.247+0000","updated":"2007-02-08T14:29:40.247+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12362200/comment/12471366","id":"12471366","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"The comments you have in these Jira notes as to why these permissions are required would be very useful in the policy file.\r\nOtherwise at somepoint in the future someone will have to figure out why such permissions are needed.\r\n\r\nAlso the fact that only policy files were changed seems to imply that DERBY-811 has been fixed, would require some checking to confirm though.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-02-08T15:34:16.776+0000","updated":"2007-02-08T15:34:16.776+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12362200/comment/12471383","id":"12471383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"body":"I have commited the policy file with comments in it (revision 504938). Next, I will verify if DERBY-811 has been fixed by this change.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"created":"2007-02-08T16:09:16.883+0000","updated":"2007-02-08T16:09:16.883+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12362200/comment/12471473","id":"12471473","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"body":"Verified fixed in http://dbtg.thresher.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/testSummary-504938.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"created":"2007-02-08T20:15:58.221+0000","updated":"2007-02-08T20:15:58.221+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2302/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0709j:"}}