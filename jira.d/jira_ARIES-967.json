{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12616926","self":"https://issues.apache.org/jira/rest/api/latest/issue/12616926","key":"ARIES-967","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310981","id":"12310981","key":"ARIES","name":"Aries","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310981&avatarId=10065","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310981&avatarId=10065","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310981&avatarId=10065","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310981&avatarId=10065"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10520","id":"10520","description":"Apache Aries","name":"Aries"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":null,"customfield_12312323":null,"customfield_12310420":"258815","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_98812279_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-11-21T16:34:03.764+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-967/watchers","watchCount":1,"isWatching":false},"created":"2012-11-20T13:07:11.505+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-11-21T16:34:03.782+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313494","id":"12313494","name":"Subsystem"}],"timeoriginalestimate":null,"description":"------Start of DE processing------ = [11/16/12 16:19:34:484 GMT]\r\nException = org.osgi.framework.ServiceException\r\nSource = ...\r\nprobeid = log-2\r\nStack Dump = org.osgi.framework.ServiceException: Exception in org.apache.aries.subsystem.core.internal.BundleEventHook.event()\r\n\tat org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyHookPrivileged(ServiceRegistry.java:1247)\r\n\tat org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyHooksPrivileged(ServiceRegistry.java:1222)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework.notifyEventHooksPrivileged(Framework.java:1603)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework.publishBundleEventPrivileged(Framework.java:1558)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework.publishBundleEvent(Framework.java:1505)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework.publishBundleEvent(Framework.java:1500)\r\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.uninstallWorker(AbstractBundle.java:825)\r\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.uninstall(AbstractBundle.java:784)\r\n\t...\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n\tat java.lang.reflect.Method.invoke(Method.java:611)\r\n\tat org.apache.felix.scr.impl.helper.BaseMethod.invokeMethod(BaseMethod.java:236)\r\n\tat org.apache.felix.scr.impl.helper.BaseMethod.access$500(BaseMethod.java:37)\r\n\tat org.apache.felix.scr.impl.helper.BaseMethod$Resolved.invoke(BaseMethod.java:613)\r\n\tat org.apache.felix.scr.impl.helper.BaseMethod.invoke(BaseMethod.java:496)\r\n\tat org.apache.felix.scr.impl.helper.ActivateMethod.invoke(ActivateMethod.java:149)\r\n\tat org.apache.felix.scr.impl.manager.ImmediateComponentManager.disposeImplementationObject(ImmediateComponentManager.java:272)\r\n\tat org.apache.felix.scr.impl.manager.ImmediateComponentManager.deleteComponent(ImmediateComponentManager.java:152)\r\n\tat org.apache.felix.scr.impl.manager.AbstractComponentManager$State.doDeactivate(AbstractComponentManager.java:1305)\r\n\tat org.apache.felix.scr.impl.manager.AbstractComponentManager$Satisfied.dispose(AbstractComponentManager.java:1617)\r\n\tat org.apache.felix.scr.impl.manager.AbstractComponentManager.disposeInternal(AbstractComponentManager.java:574)\r\n\tat org.apache.felix.scr.impl.manager.AbstractComponentManager.dispose(AbstractComponentManager.java:404)\r\n\tat org.apache.felix.scr.impl.config.ImmediateComponentHolder.disposeComponents(ImmediateComponentHolder.java:371)\r\n\tat org.apache.felix.scr.impl.BundleComponentActivator.dispose(BundleComponentActivator.java:320)\r\n\tat org.apache.felix.scr.impl.Activator.disposeComponents(Activator.java:316)\r\n\tat org.apache.felix.scr.impl.Activator.bundleChanged(Activator.java:183)\r\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:847)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n\tat org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:148)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework.publishBundleEventPrivileged(Framework.java:1569)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework.publishBundleEvent(Framework.java:1505)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework.publishBundleEvent(Framework.java:1500)\r\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:506)\r\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.suspend(AbstractBundle.java:566)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework.suspendBundle(Framework.java:1207)\r\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.decFWSL(StartLevelManager.java:592)\r\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:257)\r\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.shutdown(StartLevelManager.java:215)\r\n\tat org.eclipse.osgi.framework.internal.core.InternalSystemBundle.suspend(InternalSystemBundle.java:284)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:693)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework.close(Framework.java:600)\r\n\tat org.eclipse.osgi.framework.internal.core.InternalSystemBundle$1.run(InternalSystemBundle.java:261)\r\n\tat java.lang.Thread.run(Thread.java:770)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.aries.subsystem.core.internal.BundleResourceInstaller$BundleConstituent.equals(BundleResourceInstaller.java:97)\r\n\tat java.util.ArrayList.contains(ArrayList.java:305)\r\n\tat java.util.Collections$UnmodifiableCollection.contains(Collections.java:992)\r\n\tat org.apache.aries.subsystem.core.internal.Subsystems.getSubsystemsByConstituent(Subsystems.java:189)\r\n\tat org.apache.aries.subsystem.core.internal.BundleEventHook.handleUninstalledEvent(BundleEventHook.java:101)\r\n\tat org.apache.aries.subsystem.core.internal.BundleEventHook.event(BundleEventHook.java:46)\r\n\tat org.eclipse.osgi.framework.internal.core.Framework$10.call(Framework.java:1606)\r\n\tat org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyHookPrivileged(ServiceRegistry.java:1239)\r\n\t... 45 more\r\n\r\nDump of callerThis\r\nObject type = ...\r\n  strings[0] = \"FrameworkEvent ERROR\"\r\n  strings[1] = ...\r\n  strings[2] = \"org.osgi.framework.ServiceException: Exception in org.apache.aries.subsystem.core.internal.BundleEventHook.event()\"\r\n  strings[3] = ...","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"121382","summary":"NPE in org.apache.aries.subsystem.core.internal.BundleEventHook.event() at server shutdown.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":1,"total":1,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12616926/comment/13502105","id":"13502105","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"body":"This occured when the bundle event hook received an uninstalled event for a bundle that was installed while it was not registered.\r\n\r\nFixed in http://svn.apache.org/viewvc?view=revision&revision=1412179.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"created":"2012-11-21T16:34:03.779+0000","updated":"2012-11-21T16:34:03.779+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-967/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0l4in:"}}