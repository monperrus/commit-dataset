{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12636811","self":"https://issues.apache.org/jira/rest/api/latest/issue/12636811","key":"DERBY-6108","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326659","id":"12326659","description":"candidate for Second release for 10.10 branch","name":"10.10.2.0","archived":false,"released":true,"releaseDate":"2014-04-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2013-03-13 18:06:54.728","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"317303","customfield_12310222":"1_*:*_1_*:*_607435020_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2013-03-20T17:57:56.866+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-6108/watchers","watchCount":2,"isWatching":false},"created":"2013-03-13T17:14:01.874+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-10-22T19:23:29.339+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"Since revision 1454647 the suites.All no longer kicks off with weme 6.2.\r\n\r\nThe stack trace (which does not get copied to my apache location because the test doesn't finish) looks like this:\r\n\r\n\r\nFailed to invoke class org.apache.derbyTesting.functionTests.tests.derbynet._Suite\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.lang.reflect.AccessibleObject.invokeL(AccessibleObject.java:205)\r\n\tat java.lang.reflect.Method.invoke(Method.java:252)\r\n\tat org.apache.derbyTesting.functionTests.suites.AllPackages.invokeSuite(AllPackages.java:179)\r\n\tat org.apache.derbyTesting.functionTests.suites.AllPackages.suite(AllPackages.java:63)\r\n\tat org.apache.derbyTesting.functionTests.suites.All.suite(All.java:51)\r\n\tat java.lang.reflect.AccessibleObject.invokeL(AccessibleObject.java:203)\r\n\tat java.lang.reflect.Method.invoke(Method.java:252)\r\n\tat junit.runner.BaseTestRunner.getTest(BaseTestRunner.java:126)\r\n\tat junit.textui.TestRunner.start(TestRunner.java:184)\r\n\tat junit.textui.TestRunner.main(TestRunner.java:143)\r\nCaused by: junit.framework.AssertionFailedError: unexpected error\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.fail(BaseTestCase.java:1104)\r\n\tat org.apache.derbyTesting.junit.JDBCDataSource.getDataSourceObject(JDBCDataSource.java:187)\r\n\tat org.apache.derbyTesting.junit.JDBCDataSource.getDataSource(JDBCDataSource.java:108)\r\n\tat org.apache.derbyTesting.junit.JDBCDataSource.getDataSource(JDBCDataSource.java:93)\r\n\tat org.apache.derbyTesting.junit.DataSourceConnector.setConfiguration(DataSourceConnector.java:51)\r\n\tat org.apache.derbyTesting.junit.TestConfiguration.initConnector(TestConfiguration.java:1484)\r\n\tat org.apache.derbyTesting.junit.TestConfiguration.<init>(TestConfiguration.java:1393)\r\n\tat org.apache.derbyTesting.junit.TestConfiguration.<clinit>(TestConfiguration.java:138)\r\n\tat java.lang.J9VMInternals.initializeImpl(Native Method)\r\n\tat java.lang.J9VMInternals.initialize(J9VMInternals.java:209)\r\n\tat org.apache.derbyTesting.functionTests.tests.derbynet.ShutDownDBWhenNSShutsDownTest.suite(ShutDownDBWhenNSShutsDownTest.java:53)\r\n\tat org.apache.derbyTesting.functionTests.tests.derbynet._Suite.suite(_Suite.java:50)\r\n\tat java.lang.reflect.AccessibleObject.invokeL(AccessibleObject.java:203)\r\n\t... 9 more\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.derbyTesting.junit.TestConfiguration.getCurrent(TestConfiguration.java:220)\r\n\tat org.apache.derbyTesting.junit.JDBCDataSource.getDataSourceObject(JDBCDataSource.java:183)\r\n\t... 20 more\r\nFailed to invoke suite():java.lang.reflect.InvocationTargetException\r\n\r\nThe changes between the previous successful run and this one were:\r\n\r\nr1454600 | rhillegas | 2013-03-08 14:05:09 -0800 (Fri, 08 Mar 2013) | 1 line\r\n\r\nDERBY-6094: Enforce login timeouts in the embedded driver and data sources.\r\n------------------------------------------------------------------------\r\nr1454537 | rhillegas | 2013-03-08 12:42:08 -0800 (Fri, 08 Mar 2013) | 1 line\r\n\r\nDERBY-6022: Add an optional tool for turning on optimizer tracing and dumping the trace to the console.\r\n------------------------------------------------------------------------\r\nr1454358 | kahatlen | 2013-03-08 04:58:58 -0800 (Fri, 08 Mar 2013) | 1 line\r\n\r\nAdd the generated source folder to the NetBeans project.\r\n------------------------------------------------------------------------\r\nr1454296 | kahatlen | 2013-03-08 01:13:04 -0800 (Fri, 08 Mar 2013) | 3 lines\r\n\r\nDERBY-6075: Use modern collections in impl/sql/compile\r\n\r\nReplace Hashtable fields with HashSets.\r\n\r\n\r\nI think we should not be running the derbynet suite with weme at all, but we should be able to get a datasource...","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"317644","summary":"suites.All no longer runs with weme 6.2 ","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":4,"total":4,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12636811/comment/13601445","id":"13601445","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"This is probably caused by the work on login timeouts. I'll take a look. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2013-03-13T18:06:54.728+0000","updated":"2013-03-13T18:06:54.728+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12636811/comment/13601561","id":"13601561","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Attaching derby-6108-01-aa-fixNPE.diff. This patch attempts to address the NPE seen by Myrna.\r\n\r\nWithout this patch, I saw a similar problem on CVE. The patch prevents login timeouts from being set on DataSources when running on a JSR169 platform. With the patch, tests run for me on CVE again.\r\n\r\nCommitted at subversion revision 1456111.\r\n\r\n\r\nTouches the following file:\r\n\r\nM       java/testing/org/apache/derbyTesting/junit/JDBCDataSource.java\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2013-03-13T19:59:27.563+0000","updated":"2013-03-13T19:59:27.563+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12636811/comment/13607923","id":"13607923","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Looks to me like this fixed it, so assigning to Rick. marking resolved in 10.10.1.1 (although it really was 10.10.1.0). It does not matter much if this is not in the 10.10.1 release notes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2013-03-20T17:57:56.887+0000","updated":"2013-03-20T17:57:56.887+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12636811/comment/14180380","id":"14180380","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"closing all resolved issues reported by me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2014-10-22T19:23:29.325+0000","updated":"2014-10-22T19:23:29.325+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-6108/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1ir1z:"}}