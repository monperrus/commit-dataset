{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12314175","self":"https://issues.apache.org/jira/rest/api/latest/issue/12314175","key":"LUCENE-25","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2002-11-08 00:16:28.0","customfield_12312323":null,"customfield_12310420":"13725","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_201963861887_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2008-08-21T11:04:26.887+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-25/watchers","watchCount":0,"isWatching":false},"created":"2002-03-28T22:00:05.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12310284","id":"12310284","description":"First Apache release","name":"1.2","archived":true,"released":true,"releaseDate":"2002-06-13"}],"issuelinks":[{"id":"12313241","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12313241","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12348888","key":"LUCENE-666","self":"https://issues.apache.org/jira/rest/api/2/issue/12348888","fields":{"summary":"TERM1 OR NOT TERM2 does not perform as expected","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/4","description":"This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/reopened.png","name":"Reopened","id":"4","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-06-02T22:01:11.571+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310234","id":"12310234","name":"core/queryparser","description":"issues with QueryParser code under core"}],"timeoriginalestimate":null,"description":"When I want to do the following query (example):\n(fieldx : xxxxx OR fieldy : xxxxxxxx)AND(fieldx : stopword OR fieldy : stopword)\nit will search (after passing the Analyzer including a StopFilter) for \n(fieldx : xxxxx OR fieldy : xxxxxx) AND() and give a wrong searchresult or a \nNullPointerException.","customfield_10010":7574.0,"timetracking":{},"customfield_12310120":null,"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"28024","summary":"QueryParser produces empty BooleanQueries when all clauses are stop words","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=p.witte%40cs.unimaas.nl","name":"p.witte@cs.unimaas.nl","emailAddress":"p dot witte at cs dot unimaas dot nl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puk Witte","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=p.witte%40cs.unimaas.nl","name":"p.witte@cs.unimaas.nl","emailAddress":"p dot witte at cs dot unimaas dot nl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Puk Witte","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Operating System: All\nPlatform: PC","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":9,"total":9,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314175/comment/12321029","id":"12321029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=otis%40apache.org","name":"otis@apache.org","emailAddress":"otis at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Otis Gospodnetic","active":true},"body":"That's interesting.\r\nDoes this happen even if you put spaces in the query 'properly', so that instead\r\nof this:\r\n\r\n(fieldx : xxxxx OR fieldy : xxxxxxxx)AND(fieldx : stopword OR fieldy : stopword)\r\n\r\nyou use:\r\n\r\n(fieldx: xxxxx OR fieldy: xxxxxxxx) AND (fieldx: stopword OR fieldy: stopword)\r\n\r\nDoes it still happen?\r\nIf so, please include the stack trace, preferably with line numbers, so that we\r\nknow which code to fix.\r\nThanks.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=otis%40apache.org","name":"otis@apache.org","emailAddress":"otis at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Otis Gospodnetic","active":true},"created":"2002-11-08T00:16:28.000+0000","updated":"2002-11-08T00:16:28.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314175/comment/12321030","id":"12321030","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=halleux.jf%40skynet.be","name":"halleux.jf@skynet.be","emailAddress":"halleux dot jf at skynet dot be","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Fran√ßois Halleux","active":true},"body":"We will try not to have to organize a party for the second birthday of this one.\r\n\r\nOk, the root cause for this is the QueryParser (once again), more specifically \r\ngetBooleanQuery which is returning an empty query even if there are no clauses. \r\nWhen everything is a stopword, it could be the case that there are no clauses.\r\n\r\nThere are several possible fixes. Included in the attached is the less \r\ndisruptive one I could think of. It is \"only\" breaking three tests in \r\nTestQueryParser.\r\n\r\nHowever for the long term, I think that we should think of what it means to \r\nparse an empty query (\"\") and what should be the expected result (null,\"\", \r\nexception, ...)\r\n\r\nHave fun,\r\n\r\nJean-Francois Halleux","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=halleux.jf%40skynet.be","name":"halleux.jf@skynet.be","emailAddress":"halleux dot jf at skynet dot be","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Fran√ßois Halleux","active":true},"created":"2004-02-11T04:31:53.000+0000","updated":"2004-02-11T04:31:53.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314175/comment/12321031","id":"12321031","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=halleux.jf%40skynet.be","name":"halleux.jf@skynet.be","emailAddress":"halleux dot jf at skynet dot be","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Fran√ßois Halleux","active":true},"body":"Created an attachment (id=10302)\r\nFix elimination of empty query conjunction - careful this patch is cumulated with my previous regarding escapting character handling\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=halleux.jf%40skynet.be","name":"halleux.jf@skynet.be","emailAddress":"halleux dot jf at skynet dot be","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jean-Fran√ßois Halleux","active":true},"created":"2004-02-11T04:36:07.000+0000","updated":"2004-02-11T04:36:07.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314175/comment/12321032","id":"12321032","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=goller%40detego-software.de","name":"goller@detego-software.de","emailAddress":"goller at detego-software dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christoph Goller","active":true},"body":"*** Bug 9110 has been marked as a duplicate of this bug. ***","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=goller%40detego-software.de","name":"goller@detego-software.de","emailAddress":"goller at detego-software dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christoph Goller","active":true},"created":"2004-09-08T21:10:31.000+0000","updated":"2004-09-08T21:10:31.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314175/comment/12431638","id":"12431638","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"revising title/component to better reflect real problem","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2006-08-30T17:57:55.000+0000","updated":"2006-08-30T17:57:55.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314175/comment/12553215","id":"12553215","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Attached patch adds a test to QP for this.  It now seems like QP is doing reasonable things with stopwords at least for a few cases.   Of course, I am not sure what QP should return when all the terms are stopwords (it currently returns a BooleanQuery with zero clauses)\r\n\r\nI am not sure when this was fixed.\r\nIn other words, I would like to close this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2007-12-19T03:16:09.200+0000","updated":"2007-12-19T03:27:26.737+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314175/comment/12553963","id":"12553963","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=doronc","name":"doronc","emailAddress":"cdoronc at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=doronc&avatarId=12738","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=doronc&avatarId=12738","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=doronc&avatarId=12738","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=doronc&avatarId=12738"},"displayName":"Doron Cohen","active":true},"body":"I think it is LUCENE-933 that fixed this one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=doronc","name":"doronc","emailAddress":"cdoronc at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=doronc&avatarId=12738","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=doronc&avatarId=12738","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=doronc&avatarId=12738","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=doronc&avatarId=12738"},"displayName":"Doron Cohen","active":true},"created":"2007-12-21T16:06:05.476+0000","updated":"2007-12-21T16:06:05.476+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314175/comment/12592996","id":"12592996","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aviran","name":"aviran","emailAddress":"aviranm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aviran","active":true},"body":"This issue also affects version 2.2.0","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aviran","name":"aviran","emailAddress":"aviranm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aviran","active":true},"created":"2008-04-29T10:17:09.456+0000","updated":"2008-04-29T10:17:09.456+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314175/comment/12624321","id":"12624321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"I don't know when this was fixed, but the example given now works, Grant's tests are already committed, and I think any QueryParser stop word issues that remain should get a new ticket. I don't think this one will help anything anymore.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2008-08-21T11:04:26.871+0000","updated":"2008-08-21T11:04:26.871+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-25/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i055pz:"}}