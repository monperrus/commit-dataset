{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12328012","self":"https://issues.apache.org/jira/rest/api/latest/issue/12328012","key":"DERBY-857","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312876","id":"12312876","description":"","name":"10.3.2.1","archived":false,"released":true,"releaseDate":"2007-12-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313111","id":"12313111","description":"","name":"10.4.1.3","archived":false,"released":true,"releaseDate":"2008-04-24"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-09-19 15:02:51.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22176","customfield_12310222":"1_*:*_1_*:*_54751119406_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-10-19T21:01:03.406+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-857/watchers","watchCount":0,"isWatching":false},"created":"2006-01-24T04:22:24.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10920","id":"10920","description":"initial source drop","name":"10.0.2.0","archived":false,"released":true,"releaseDate":"2004-08-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/10991","id":"10991","description":"snapshot","name":"10.0.2.1","archived":false,"released":true,"releaseDate":"2004-12-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12310615","id":"12310615","description":"","name":"10.1.2.1","archived":false,"released":true,"releaseDate":"2005-11-18"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-01-21T17:48:30.257+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11415","id":"11415","name":"Services"}],"timeoriginalestimate":null,"description":"Running the test jdbcapi/secureUsers1.sql with a security manager results in:\r\n\r\n> ERROR 08004: Connection refused : javax.naming.CommunicationException: noSuchMachine:389 [Root exception is java.security.AccessControlException: access denied (java.net.SocketPermission noSuchMachine resolve)]\r\n\r\n\r\nAdding this permission to the policy file has no effect. which means a priv block is required around the LDAP call.\r\npermission java.net.SocketPermission \"noSuchMachine\", \"resolve\";","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10361","value":"Security","id":"10361"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"37582","summary":"LDAP user authentication fails under a security manager","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"subtasks":[],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10102","value":"Patch Available","id":"10102"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10052","value":"Normal","id":"10052"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":18,"total":18,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12435851","id":"12435851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Moving to 10.2.2.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2006-09-19T15:02:51.000+0000","updated":"2006-09-19T15:02:51.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12456083","id":"12456083","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Move to 10.2.3.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2006-12-06T15:02:43.000+0000","updated":"2006-12-06T15:02:43.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12467579","id":"12467579","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"Unsetting Fix Version for unassigned issues.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2007-01-25T20:36:48.785+0000","updated":"2007-01-25T20:36:48.785+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535243","id":"12535243","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"This is the offending code  in LDAPAuthenticationSchemeImpl.  It is only an issue for a sane build and only with the property derby.debug.true=AuthenticationTrace set, which is probably why it hasn't come up on the user list.\r\n\r\nInterestingly, nothing shows up in this file, for successful or unsuccessful connections. Lastly the name  of the file CloudLDAP.out is not ideal.   I see three   options\r\n1) Put a priv block around this code. Change the filename and make sure the bug  doesn't reproduce.\r\n2) Remove the code altogether since it is not working.\r\n3) Try to get LDAP tracing working.  Suggestions welcome.\r\n\r\nif (SanityManager.DEBUG)\r\n\t\t{\r\n\t\t\tif (SanityManager.DEBUG_ON(\r\n\t\t\t\t\t\tAuthenticationServiceBase.AuthenticationTrace)) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tinitDirContextEnv.put(\"com.sun.naming.ldap.trace.ber\",\r\n\t\t\t\t\t\t\t\tnew java.io.FileOutputStream(\"CloudLDAP.out\"));\r\n\t\t\t\t} catch (java.io.IOException ie) {}\r\n\t\t\t}\r\n\t\t}\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-10-16T12:57:30.554+0000","updated":"2007-10-16T13:04:09.745+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535254","id":"12535254","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"I'm not sure how proposal (1) differs from proposal (3). Is there more\r\nto the LDAP tracing than just setting this value? Is it correct to say that\r\n(1) is the first step toward (3), but there may be more subsequent security\r\nproblems to be resolved?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2007-10-16T14:28:35.260+0000","updated":"2007-10-16T14:28:35.260+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535265","id":"12535265","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Bryan said:\r\n\r\n>I'm not sure how proposal (1) differs from proposal (3). Is there more\r\n>to the LDAP tracing than just setting this value? Is it correct to say that\r\n>(1) is the first step toward (3), but there may be more subsequent security\r\n>problems to be resolved? \r\n\r\n1 is the first step toward 3 I suppose, but the problem is that the tracing does not seem to be working. Just an empty file gets created. I don't think it is security problems but something else,  I think I will do 1 and then open up another task to investigate LDAP tracing with derby.debug.true=AuthenticationTrace set. Does that sound ok?\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-10-16T15:17:52.390+0000","updated":"2007-10-16T15:17:52.390+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535368","id":"12535368","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Well, putting the tracing in a priv block gets me further but there are still permission problems.\r\n2007-10-16 21:49:44.968 GMT Thread[main,5,main] Cleanup action starting\r\n\r\njava.sql.SQLException: Connection refused : javax.naming.CommunicationException: socket.usca.ibm.com:389 [Root exception is java.security.AccessControlException: access denied (java.net.SocketPermission socket.usca.ibm.com resolve)]\r\n\r\n\tat org.apache.derby.impl.jdbc.authentication.JNDIAuthenticationSchemeBase.getLoginSQLException(JNDIAuthenticationSchemeBase.java:122)\r\n\r\n\tat org.apache.derby.impl.jdbc.authentication.LDAPAuthenticationSchemeImpl.authenticateUser(LDAPAuthenticationSchemeImpl.java:196)\r\n\r\n\tat org.apache.derby.impl.jdbc.authentication.AuthenticationServiceBase.authenticate(AuthenticationServiceBase.java:222)\r\n\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.checkUserCredentials(EmbedConnection.java:583)\r\n\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.<init>(EmbedConnection.java:301)\r\n\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection30.<init>(EmbedConnection30.java:73)\r\n\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection40.<init>(EmbedConnection40.java:54)\r\n\r\n\tat org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Driver40.java:68)\r\n\r\n\tat org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:211)\r\n\r\n\tat org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:119)\r\n\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:582)\r\n\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:154)\r\n\r\n\tat org.apache.derby.impl.tools.ij.ij.dynamicConnection(ij.java:1206)\r\n\r\n\tat org.apache.derby.impl.tools.ij.ij.ConnectStatement(ij.java:1056)\r\n\r\n\tat org.apache.derby.impl.tools.ij.ij.ijStatement(ij.java:884)\r\n\r\n\tat org.apache.derby.impl.tools.ij.utilMain.runScriptGuts(utilMain.java:328)\r\n\r\n\tat org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:248)\r\n\r\n\tat org.apache.derby.impl.tools.ij.Main.go(Main.java:215)\r\n\r\n\tat org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:181)\r\n\r\n\tat org.apache.derby.impl.tools.ij.Main.main(Main.java:73)\r\n\r\n\tat org.apache.derby.tools.ij.main(ij.java:59)\r\n\r\nCleanup action completed\r\n\r\nThe code that generates the exception is not a socket call directly but rather\r\n\t\t\tenv.put(Context.SECURITY_PRINCIPAL, userDN);\r\n\t\t\tenv.put(Context.SECURITY_CREDENTIALS, userPassword);\r\n\t\t\t\r\n\t\t\t// Connect & authenticate (bind) to the LDAP server now\r\n\r\n\t\t\t// it is happening right here\r\n\t\t\tDirContext ctx = new InitialDirContext(env);\r\n\r\nWrapping this code in a priv block does no good because it is the root exception which is not exposed that is the problem.\r\nI'm not sure which jar to give the permission to.\r\n\r\n\r\ngrant {\r\n  permission java.net.SocketPermission \"*\", \"connect,resolve\";\r\n};\r\n\r\nworks, but is more liberal than we want I think.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-10-16T23:10:31.089+0000","updated":"2007-10-16T23:10:31.089+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535628","id":"12535628","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Running with  -Djava.security.debug=\"access,failure,jar,domain\" I get this more interesting trace, but still no clue as to who needs the socket permissions.   I am not sure that there is a fix for this.  I think maybe we have to document the workaround to  put \r\n\r\ngrant {\r\n  permission java.net.SocketPermission \"<machine>\", \"connect,resolve\";\r\n};\r\n\r\nin the policy file for LDAP. Anyone have thoughts on this?\r\n\r\n\r\naccess: access denied (java.net.SocketPermission <machine> resolve)\r\n\r\njava.lang.Exception: Stack trace\r\n\r\n\tat java.lang.Thread.dumpStack(Thread.java:1206)\r\n\r\n\tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:313)\r\n\r\n\tat java.security.AccessController.checkPermission(AccessController.java:546)\r\n\r\n\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\r\n\r\n\tat java.lang.SecurityManager.checkConnect(SecurityManager.java:1031)\r\n\r\n\tat java.net.InetAddress.getAllByName0(InetAddress.java:1128)\r\n\r\n\tat java.net.InetAddress.getAllByName0(InetAddress.java:1109)\r\n\r\n\tat java.net.InetAddress.getAllByName(InetAddress.java:1072)\r\n\r\n\tat java.net.InetAddress.getByName(InetAddress.java:969)\r\n\r\n\tat java.net.InetSocketAddress.<init>(InetSocketAddress.java:124)\r\n\r\n\tat java.net.Socket.<init>(Socket.java:179)\r\n\r\n\tat com.sun.jndi.ldap.Connection.createSocket(Connection.java:349)\r\n\r\n\tat com.sun.jndi.ldap.Connection.<init>(Connection.java:184)\r\n\r\n\tat com.sun.jndi.ldap.LdapClient.<init>(LdapClient.java:118)\r\n\r\n\tat com.sun.jndi.ldap.LdapClient.getInstance(LdapClient.java:1580)\r\n\r\n\tat com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2616)\r\n\r\n\tat com.sun.jndi.ldap.LdapCtx.<init>(LdapCtx.java:287)\r\n\r\n\tat com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:175)\r\n\r\n\tat com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:193)\r\n\r\n\tat com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:136)\r\n\r\n\tat com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:66)\r\n\r\n\tat javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:667)\r\n\r\n\tat javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)\r\n\r\n\tat javax.naming.InitialContext.init(InitialContext.java:223)\r\n\r\n\tat javax.naming.InitialContext.<init>(InitialContext.java:197)\r\n\r\n\tat javax.naming.directory.InitialDirContext.<init>(InitialDirContext.java:82)\r\n\r\n\tat org.apache.derby.impl.jdbc.authentication.LDAPAuthenticationSchemeImpl.getDNFromUID(LDAPAuthenticationSchemeImpl.java:442)\r\n\r\n\tat org.apache.derby.impl.jdbc.authentication.LDAPAuthenticationSchemeImpl.authenticateUser(LDAPAuthenticationSchemeImpl.java:160)\r\n\r\n\tat org.apache.derby.impl.jdbc.authentication.AuthenticationServiceBase.authenticate(AuthenticationServiceBase.java:222)\r\n\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.checkUserCredentials(EmbedConnection.java:583)\r\n\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection.<init>(EmbedConnection.java:301)\r\n\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection30.<init>(EmbedConnection30.java:73)\r\n\r\n\tat org.apache.derby.impl.jdbc.EmbedConnection40.<init>(EmbedConnection40.java:54)\r\n\r\n\tat org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Driver40.java:68)\r\n\r\n\tat org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:211)\r\n\r\n\tat org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:119)\r\n\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:582)\r\n\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:154)\r\n\r\n\tat org.apache.derby.impl.tools.ij.ij.dynamicConnection(ij.java:1206)\r\n\r\n\tat org.apache.derby.impl.tools.ij.ij.ConnectStatement(ij.java:1056)\r\n\r\n\tat org.apache.derby.impl.tools.ij.ij.ijStatement(ij.java:884)\r\n\r\n\tat org.apache.derby.impl.tools.ij.utilMain.runScriptGuts(utilMain.java:328)\r\n\r\n\tat org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:248)\r\n\r\n\tat org.apache.derby.impl.tools.ij.Main.go(Main.java:215)\r\n\r\n\tat org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:181)\r\n\r\n\tat org.apache.derby.impl.tools.ij.Main.main(Main.java:73)\r\n\r\n\tat org.apache.derby.tools.ij.main(ij.java:59)\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-10-17T17:20:29.729+0000","updated":"2007-10-17T17:20:29.729+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535642","id":"12535642","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"How about just removing the code, since it's just sanity and isn't really a benefit?\r\n\r\nOr just catching the security exception and continuing?\r\n\r\nI think the code was probably put there during the original development of LDAP authentication, I doubt it's needed now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-10-17T17:45:54.732+0000","updated":"2007-10-17T17:45:54.732+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535656","id":"12535656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Dan said\r\n>How about just removing the code, since it's just sanity and isn't really a benefit?\r\n\r\n>Or just catching the security exception and continuing?\r\n\r\n>I think the code was probably put there during the original development of LDAP authentication, I doubt it's >needed now.\r\n>\r\n\r\nThe original security exception was for the tracing and I was able to resolve that by adding a privilege block around the code. (It could also be removed.) That got me further but the problem now is in the heart of the LDAP processing, in .LDAPAuthenticationSchemeImpl.authenticateUser where we call:\r\n\r\n// it is happening right here\r\n DirContext ctx = privInitialDirContext(env);\r\n\r\n\r\nand get\r\nERROR 08004: Connection refused : javax.naming.CommunicationException: socket.usca.ibm.com:389 [Root exception is java.security.AccessControlException: access denied (java.net.SocketPermission socket.usca.ibm.com resolve)]\r\n\r\nI will go ahead and post the patch for the change to get us past the tracing file problem so that you can see the same failure I am seeing.  You can see it is a javax.naming.CommunicationException that is thrown not a Security Excepition, so wrapping this call in a privilege block is not helpful.\r\n\r\nKathey\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-10-17T18:05:58.484+0000","updated":"2007-10-17T18:05:58.484+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535662","id":"12535662","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"This first patch adds a privilege block around creation of the tracing file. If creation of the tracing file fails, execution will continue.  It does not cause the core problem of making a connection to the LDAP server if we don't include \r\n\r\ngrant {\r\n  permission java.net.SocketPermission \"<machine>\", \"resolve,connect\";\r\n};\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-10-17T18:13:01.983+0000","updated":"2007-10-17T18:13:01.983+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535760","id":"12535760","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Investigating this further I find that I need to give the permission to the top level program, for example if I use ij to connect I need to give the SocketPermission to derbytools.jar.  If I write a small program to connect. I need to give that program permission. e.g.\r\n\r\ngrant codeBase \"file:c:/kmarsden/repro/DERBY-857/-\" {\r\n  permission java.net.SocketPermission \"<machine>\", \"resolve,connect\";   \r\n\r\n};","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-10-17T22:01:41.192+0000","updated":"2007-10-17T22:01:41.192+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535770","id":"12535770","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"That's usually an indication that you are missing a priv block.\r\nThe last stack trace above (dated 10/17 10:20)  shows no priv block, thus I would expect a SecuityException,\r\nbut the previous comment says that adding a priv block makes no difference. Do you have the stack trace when that it is the case?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-10-17T22:31:22.071+0000","updated":"2007-10-17T22:31:22.071+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12535783","id":"12535783","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Thanks Dan for your time in looking at this.  There was indeed another call to InitialDirContext where I missed putting a privilege block.  It all works fine now.  I will prepare a patch with the full fix.\r\n\r\nKathey\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-10-17T23:24:06.128+0000","updated":"2007-10-17T23:24:06.128+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12536012","id":"12536012","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I accidentally checked in my changes for this issue  revision 586052 a bit prematurely.  I think the changes are what I want them to be, so I will leave review to post commit and change whatever's needed.  I have been doing some manual testing with LDAP.  We can't have a regression test without having an LDAP server setup.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-10-18T18:46:45.430+0000","updated":"2007-10-18T18:46:45.430+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12536279","id":"12536279","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Minor question on the code change (revision 586052).\r\n\r\nIs there any reason for creating two extra methods, rather than performing the code in-line (which is the typical Java pattern) for the priv-blocks?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-10-19T17:24:13.863+0000","updated":"2007-10-19T17:24:13.863+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12536288","id":"12536288","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I just did it because to me it made the code easier to read.\r\nprivInitialDirContext is called twice so it seemed better to have one method than duplicate the code.  I can change them if you prefer.\r\n\r\nKathey\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-10-19T17:38:40.392+0000","updated":"2007-10-19T17:38:40.392+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328012/comment/12536335","id":"12536335","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"If the priv block is used more than once in the same file then I agree it should probably be a method.\r\n\r\nFor a single use I guess it's just a matter of preference, having the code in a separate method means that it's harder to read imho since one must look elsewhere instead of the code being right there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-10-19T20:23:12.678+0000","updated":"2007-10-19T20:23:12.678+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-857/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06sov:"}}