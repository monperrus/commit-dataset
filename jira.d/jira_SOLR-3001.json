{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12537070","self":"https://issues.apache.org/jira/rest/api/latest/issue/12537070","key":"SOLR-3001","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310230","id":"12310230","key":"SOLR","name":"Solr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310230&avatarId=22151","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310230&avatarId=22151","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310230&avatarId=22151"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314992","id":"12314992","description":"Alpha release of 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-01-03 17:07:54.35","customfield_12312323":null,"customfield_12310420":"222580","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_232366621_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-01-06T08:36:40.639+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-3001/watchers","watchCount":2,"isWatching":false},"created":"2012-01-03T16:03:54.112+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314992","id":"12314992","description":"Alpha release of 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-01-06T08:36:50.180+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313841","id":"12313841","name":"SolrCloud"}],"timeoriginalestimate":null,"description":"I have a problem with distributed indexing in solrcloud branch. I've setup a cluster with three Solr servers. I'm using DistributedUpdateProcessor to do the distributed indexing. What I've noticed is when indexing with StreamingUpdateSolrServer or CommonsHttpSolrServer and having a queue or a list which have more than one document the documents seems to be dropped. I did some tests which tried to index 450k documents. If I was sending the documents one by one, the indexing was properly executed and the three Solr instances was holding 450k documents (when summed up). However if when I tried to add documents in batches (for example with StreamingUpdateSolrServer and a queue of 1000) the shard I was sending the documents to had a minimum number of documents (about 100) while the other shards had about 150k documents. \r\n\r\nEach Solr was started with a single core and in Zookeeper mode. An example solr.xml file:\r\n{noformat} \r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<solr persistent=\"true\">\r\n <cores defaultCoreName=\"collection1\" adminPath=\"/admin/cores\" zkClientTimeout=\"10000\" hostPort=\"8983\" hostContext=\"solr\">\r\n  <core shard=\"shard1\" instanceDir=\".\" name=\"collection1\" />\r\n </cores>\r\n</solr>\r\n{noformat} \r\n\r\nThe solrconfig.xml file on each of the shard consisted of the following entries:\r\n{noformat} \r\n<requestHandler name=\"/update\" class=\"solr.XmlUpdateRequestHandler\">\r\n <lst name=\"defaults\">\r\n  <str name=\"update.chain\">distrib</str>\r\n </lst>\r\n</requestHandler>\r\n{noformat} \r\n\r\n{noformat} \r\n<updateRequestProcessorChain name=\"distrib\">\r\n <processor class=\"org.apache.solr.update.processor.DistributedUpdateProcessorFactory\" />\r\n <processor class=\"solr.LogUpdateProcessorFactory\" />\r\n <processor class=\"solr.RunUpdateProcessorFactory\"/>\r\n</updateRequestProcessorChain>\r\n{noformat} \r\n\r\nI found a solution, but I don't know if it is a proper one. I've modified the code that is responsible for handling the replicas in:\r\n{{private List<String> setupRequest(int hash)}} of {{DistributedUpdateProcessorFactory}}\r\n\r\nI've added the following code:\r\n{noformat} \r\nif (urls == null) {\r\n urls = new ArrayList<String>(1);\r\n urls.add(leaderUrl);  \r\n} else {\r\n if (!urls.contains(leaderUrl)) {\r\n  urls.add(leaderUrl);  \r\n }\r\n}\r\n{noformat} \r\n\r\nafter:\r\n{noformat} \r\nurls = getReplicaUrls(req, collection, shardId, nodeName);\r\n{noformat} \r\n\r\nIf this is the proper approach I'll be glad to provide a patch with the modification. \r\n\r\n--\r\nRegards\r\nRafał Kuć\r\nSematext :: http://sematext.com/ :: Solr - Lucene - Nutch\r\nLucene ecosystem search :: http://search-lucene.com/","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"18234","summary":"Documents droping when using DistributedUpdateProcessor","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Windows 7, Ubuntu","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":11,"total":11,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13178823","id":"13178823","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"I fixed a bug around this a week or two ago (adding more than one doc per request) - I'll check around this again, but best may be to just try with an updated version.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2012-01-03T17:07:54.350+0000","updated":"2012-01-03T17:07:54.350+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13178827","id":"13178827","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"body":"Thanks for the information Mark. It may be the case, as I'm using solrcloud which is about 2 - 3 weeks old. I'll verify that as soon as I can. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"created":"2012-01-03T17:12:41.524+0000","updated":"2012-01-03T17:12:41.524+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13178840","id":"13178840","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"Also, it's worth noting that it's been a bit since you have needed to define your own update chain - the distrib update processor is now part of the default chain - so of course you can define a custom chain - but no need to.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2012-01-03T17:28:13.118+0000","updated":"2012-01-03T17:28:13.118+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13179400","id":"13179400","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"body":"Mark, I've tried the newest solrcloud branch and I'm affraid the problem still exists. What I did to test is indexing 425543 using StreamingUpdateSolrServer (10000 queue size, 3 threads). Those documents were sent to the shard1. After indexation ended, the following number of documents were at all three shards:\r\n\r\nshard1: 5 documents\r\nshard2: 142424 documents\r\nshard3: 141275 documents\r\n\r\nand the query like: q=*:*&distrib=true returns 283704 documents total. So Solr dropped about 141839 which should probably be in the first shard, the one I'm sending the documents to. \r\n\r\nIf I send the documents on by one with the use of CommonsHttpSolrServer the numbers are as follows:\r\nshard1: 141725 documents\r\nshard2: 142474 documents\r\nshard3: 141344 documents\r\n\r\nI'm using the Solr version: solr-spec-version 4.0.0.2012.01.04.10.42.06 (from Solr admin). I did the test with update.chain set and without it. Both times the same behavior. \r\n\r\nBtw. The fact is the indexing is much, much faster right now using distributed indexing as the shards are getting document in batches. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"created":"2012-01-04T10:29:59.680+0000","updated":"2012-01-04T10:29:59.680+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13180120","id":"13180120","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"Thanks for the verification Rafal - I'll dig into this tomorrow.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2012-01-05T02:07:46.303+0000","updated":"2012-01-05T02:07:46.303+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13180209","id":"13180209","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"I've committed a fix to the solrcloud branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2012-01-05T06:03:45.888+0000","updated":"2012-01-05T06:03:45.888+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13180213","id":"13180213","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"bq. Btw. The fact is the indexing is much, much faster right now using distributed indexing as the shards are getting document in batches.\r\n\r\nYou mean faster after you updated to the latest rev? There was no buffering originally, so even if you where streaming it would use httpcommons server and send docs around one by one. Late last week I added the buffering though. Right now it buffers 10 docs per target shard, but I was thinking about whether or not we should make that configurable and/or raise it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2012-01-05T06:11:31.740+0000","updated":"2012-01-05T06:11:31.740+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13180487","id":"13180487","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"body":"Thanks Mark it works flawlessly right now. \r\n\r\nAnd about updated - yes I was comparing the two version, one without buffering and the newest one. The newest version of solrcloud is much faster when indexing documents to shards. If you ask me, I would like to be able to setup the size of the buffer :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"created":"2012-01-05T16:02:29.884+0000","updated":"2012-01-05T16:02:29.884+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13180886","id":"13180886","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=otis","name":"otis","emailAddress":"otis at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=otis&avatarId=15859","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=otis&avatarId=15859","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=otis&avatarId=15859","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=otis&avatarId=15859"},"displayName":"Otis Gospodnetic","active":true},"body":"+1 for controlling this.\r\n\r\nIs this issue resolved now?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=otis","name":"otis","emailAddress":"otis at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=otis&avatarId=15859","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=otis&avatarId=15859","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=otis&avatarId=15859","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=otis&avatarId=15859"},"displayName":"Otis Gospodnetic","active":true},"created":"2012-01-05T22:14:23.379+0000","updated":"2012-01-05T22:14:23.379+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13181198","id":"13181198","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"body":"Yes Otis, closing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"created":"2012-01-06T08:36:14.258+0000","updated":"2012-01-06T08:36:14.258+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12537070/comment/13181199","id":"13181199","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"body":"Fixed. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gro","name":"gro","emailAddress":"rafal at kuciowie dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gro&avatarId=19449","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gro&avatarId=19449","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gro&avatarId=19449","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gro&avatarId=19449"},"displayName":"Rafał Kuć","active":true},"created":"2012-01-06T08:36:40.708+0000","updated":"2012-01-06T08:36:40.708+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-3001/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i03haf:"}}