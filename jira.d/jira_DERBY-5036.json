{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12498502","self":"https://issues.apache.org/jira/rest/api/latest/issue/12498502","key":"DERBY-5036","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316362","id":"12316362","description":"First release on the 10.8 branch","name":"10.8.1.2","archived":false,"released":true,"releaseDate":"2011-04-29"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2011-02-14 20:05:57.638","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"24608","customfield_12310222":"1_*:*_1_*:*_98722032_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2011-02-15T10:12:03.235+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-5036/watchers","watchCount":0,"isWatching":false},"created":"2011-02-14T06:46:41.218+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":3600,"aggregatetimeoriginalestimate":3600,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315564","id":"12315564","description":"First release on the 10.7 branch.","name":"10.7.1.1","archived":false,"released":true,"releaseDate":"2010-12-14"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dbrosius%40apache.org","name":"dbrosius@apache.org","emailAddress":"dbrosius at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dbrosius%40apache.org&avatarId=14133","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dbrosius%40apache.org&avatarId=14133","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dbrosius%40apache.org&avatarId=14133","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dbrosius%40apache.org&avatarId=14133"},"displayName":"Dave Brosius","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-04-19T12:39:26.955+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11410","id":"11410","name":"Network Server"}],"timeoriginalestimate":3600,"description":"code does \r\n\r\n\tbyte b = reader.readByte();\r\n\tif (b == 0xF1)\r\n\t\tdatabase.sendTRGDFTRT = true;\r\n\r\ndue to sign extension, this test will never be true.\r\n\r\nfixed\r\n\r\n","customfield_10010":null,"timetracking":{"originalEstimate":"1h","remainingEstimate":"1h","originalEstimateSeconds":3600,"remainingEstimateSeconds":3600},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10367","value":"Deviation from standard","id":"10367"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":3600,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"36489","summary":"[patch] fix impossible comparison due to sign extension","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dbrosius%40apache.org","name":"dbrosius@apache.org","emailAddress":"dbrosius at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dbrosius%40apache.org&avatarId=14133","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dbrosius%40apache.org&avatarId=14133","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dbrosius%40apache.org&avatarId=14133","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dbrosius%40apache.org&avatarId=14133"},"displayName":"Dave Brosius","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dbrosius%40apache.org","name":"dbrosius@apache.org","emailAddress":"dbrosius at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dbrosius%40apache.org&avatarId=14133","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dbrosius%40apache.org&avatarId=14133","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dbrosius%40apache.org&avatarId=14133","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dbrosius%40apache.org&avatarId=14133"},"displayName":"Dave Brosius","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":3600,"percent":0},"environment":null,"customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10052","value":"Normal","id":"10052"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":3600,"percent":0},"comment":{"startAt":0,"maxResults":3,"total":3,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12498502/comment/12994461","id":"12994461","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Looks like a bug, yes. Thanks! I'll check in the fix.\r\n\r\nIt looks to me like the client driver never passes a TRGDFTRT parameter to the server, so this code doesn't appear to be in use. Does anyone know if support for this codepoint is needed for JCC? (Probably not, otherwise our tests should have detected that the code didn't work back when most of the client/server testing happened against both JCC and the Derby Network Client.) Maybe we should use this opportunity to get rid of some unused and untested code?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2011-02-14T20:05:57.638+0000","updated":"2011-02-14T20:05:57.638+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12498502/comment/12994504","id":"12994504","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Committed revision 1070676.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2011-02-14T21:37:23.677+0000","updated":"2011-02-14T21:37:23.677+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12498502/comment/12994735","id":"12994735","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Marking the issue as resolved since the fix has been committed. If someone thinks the code that handles TRGDFTRT should be removed, we can file a separate JIRA for that.\r\n\r\nIn addition to the code handling it in DRDAConnThread.java (look for CodePoint.TRGDFTRT and database.sendTRGDFTRT), there's also a note about it on the client side in NetConnectionReply.java:\r\n\r\n            if (peekCP == CodePoint.USRID) {\r\n                // specifies the target defined user ID.  It is returned if the value of\r\n                // TRGDFTRT is TRUE in ACCRDB.  Right now this driver always sets this\r\n                // value to false so this should never get returned here.\r\n                // if it is returned, it could be considered an error but for now\r\n                // this driver will just skip the bytes.\r\n            [...]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2011-02-15T10:12:03.244+0000","updated":"2011-02-15T10:12:03.244+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-5036/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06lxz:"}}