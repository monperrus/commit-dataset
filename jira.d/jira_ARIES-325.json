{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12465564","self":"https://issues.apache.org/jira/rest/api/latest/issue/12465564","key":"ARIES-325","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310981","id":"12310981","key":"ARIES","name":"Aries","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310981&avatarId=10065","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310981&avatarId=10065","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310981&avatarId=10065","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310981&avatarId=10065"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10520","id":"10520","description":"Apache Aries","name":"Aries"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314941","id":"12314941","description":"","name":"0.2","archived":true,"released":true,"releaseDate":"2010-09-06"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-05-29 11:09:08.745","customfield_12312323":null,"customfield_12310420":"93937","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_762113571_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-06-05T09:42:00.098+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-325/watchers","watchCount":0,"isWatching":false},"created":"2010-05-27T14:00:06.527+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahrwald","name":"mahrwald","emailAddress":"vmahrwald at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Valentin Mahrwald","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-06-05T09:42:00.049+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313048","id":"12313048","name":"Blueprint","description":"OSGi Blueprint Services implementation"}],"timeoriginalestimate":null,"description":"I have a class SuperClass with a static method:\r\npublic static SuperObject getObject(){...return SuperObject}\r\n\r\nthis class is subclassed by SubClass which also has a static method:\r\npublic static SubObject getObject(){...return SubObject}\r\n\r\nwhere SubObject extends SuperObject\r\n\r\nwhen I use <bean id=\"someFactoryBean\" class=\"SubClass\" factory-method=\"getObject\"/> I get a ComponentDefinitionException:\r\n\r\nServiceRecipe E org.apache.aries.blueprint.container.ServiceRecipe createService Error retrieving service from ServiceRecipe[name='.component-2']\r\n                                 org.osgi.service.blueprint.container.ComponentDefinitionException: Multiple matching factory methods getObject found on class\r\n                                  my.package.SubClass for arguments [] when instanciating bean someFactoryBean: [\r\n                                  public static my.package.SubClass.getObject(), \r\n                                  public static my.package.SuperClass.getObject()]\r\n\tat org.apache.aries.blueprint.container.BeanRecipe.getInstance(BeanRecipe.java:248)\r\n\tat org.apache.aries.blueprint.container.BeanRecipe.internalCreate(BeanRecipe.java:675)\r\n\tat org.apache.aries.blueprint.di.AbstractRecipe.create(AbstractRecipe.java:64)\r\n\tat org.apache.aries.blueprint.di.RefRecipe.internalCreate(RefRecipe.java:60)\r\n\tat org.apache.aries.blueprint.di.AbstractRecipe.create(AbstractRecipe.java:64)\r\n\tat org.apache.aries.blueprint.container.BlueprintRepository.createInstances(BlueprintRepository.java:219)\r\n\tat org.apache.aries.blueprint.container.BlueprintRepository.createInstance(BlueprintRepository.java:198)\r\n\tat org.apache.aries.blueprint.container.BlueprintRepository.create(BlueprintRepository.java:137)\r\n\tat org.apache.aries.blueprint.container.ServiceRecipe.createRecipe(ServiceRecipe.java:350)\r\n\tat org.apache.aries.blueprint.container.ServiceRecipe.createService(ServiceRecipe.java:256)\r\n\tat org.apache.aries.blueprint.container.ServiceRecipe.internalGetService(ServiceRecipe.java:228)\r\n\tat org.apache.aries.blueprint.container.ServiceRecipe.getService(ServiceRecipe.java:307)\r\n\tat org.apache.aries.blueprint.container.ServiceRecipe$TriggerServiceFactory.getService(ServiceRecipe.java:365)\r\n\tat org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:120)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:202)\r\n\tat org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:118)\r\n\tat org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:449)\r\n\tat org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:430)\r\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.getService(BundleContextImpl.java:667)\r\n\tat org.apache.aries.blueprint.container.BlueprintContainerImpl.getService(BlueprintContainerImpl.java:400)\r\n\tat org.apache.aries.blueprint.container.ReferenceRecipe.getService(ReferenceRecipe.java:180)\r\n\tat org.apache.aries.blueprint.container.ReferenceRecipe.access$000(ReferenceRecipe.java:49)\r\n\tat org.apache.aries.blueprint.container.ReferenceRecipe$ServiceDispatcher.call(ReferenceRecipe.java:201)\r\n\tat org.apache.aries.blueprint.container.AbstractServiceReferenceRecipe$CgLibProxyFactory$1.loadObject(AbstractServiceReferenceRecipe.java:634)\r\n\r\nI think the bean should be instantiated using the static method declared on the class I specified as an attribute.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"168455","summary":"static factory methods with the same names are not distinguished during bean instantiation","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricellis","name":"ricellis","emailAddress":"ricellis at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Ellis","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ricellis","name":"ricellis","emailAddress":"ricellis at uk dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Richard Ellis","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":3,"total":3,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465564/comment/12873270","id":"12873270","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahrwald","name":"mahrwald","emailAddress":"vmahrwald at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Valentin Mahrwald","active":true},"body":"Hm, I could not recreate this problem in a unit test environment using\r\n\r\npublic class Factory {\r\n  public static X getObject() { return some X; }\r\n}\r\n\r\npublic class ExtFactory extends Factory {\r\n  public static Y getObject() { return some Y; }\r\n}\r\n\r\nwith (X,Y) = (Collection,List), (List,ArrayList), (Number, Integer),  (Frame, JFrame) so most combinations of interfaces, abstract classes and concrete classes. \r\n\r\nThe only thing that I found that did fail in the way is (X,Y) = (Double,Integer). Now this is not valid Java (as far as my compiler is concerned) and ExtFactory will no longer compile. But with a previously compiled ExtFactory class file I saw the same error.\r\n\r\nRichard, do you have a concrete example where this problem occurs?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahrwald","name":"mahrwald","emailAddress":"vmahrwald at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Valentin Mahrwald","active":true},"created":"2010-05-29T11:09:08.745+0000","updated":"2010-05-29T11:09:08.745+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465564/comment/12874099","id":"12874099","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahrwald","name":"mahrwald","emailAddress":"vmahrwald at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Valentin Mahrwald","active":true},"body":"Having analysed this issue offline with Richard, the issue appears to be JVM dependent. On an IBM J9 (AiX) the hidden factory methods are returned by Class.getMethods() whereas on my local Mac (Sun) JVM they are not.\r\n\r\nI will try to find out who is right, but most likely commit a fix anyway.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahrwald","name":"mahrwald","emailAddress":"vmahrwald at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Valentin Mahrwald","active":true},"created":"2010-06-01T16:41:56.648+0000","updated":"2010-06-01T16:41:56.648+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12465564/comment/12875886","id":"12875886","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahrwald","name":"mahrwald","emailAddress":"vmahrwald at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Valentin Mahrwald","active":true},"body":"Resolved in revision 951687.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahrwald","name":"mahrwald","emailAddress":"vmahrwald at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Valentin Mahrwald","active":true},"created":"2010-06-05T09:41:59.996+0000","updated":"2010-06-05T09:41:59.996+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-325/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0t72n:"}}