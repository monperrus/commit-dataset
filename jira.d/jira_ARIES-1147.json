{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12688744","self":"https://issues.apache.org/jira/rest/api/latest/issue/12688744","key":"ARIES-1147","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310981","id":"12310981","key":"ARIES","name":"Aries","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310981&avatarId=10065","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310981&avatarId=10065","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310981&avatarId=10065","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310981&avatarId=10065"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10520","id":"10520","description":"Apache Aries","name":"Aries"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-01-14 15:57:10.4","customfield_12312323":null,"customfield_12310420":"367763","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_70130139_*|*_5_*:*_2_*:*_14363626419_*|*_4_*:*_1_*:*_862885139","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2014-07-10T15:06:26.615+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-1147/watchers","watchCount":3,"isWatching":false},"created":"2014-01-14T14:02:24.986+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321544","id":"12321544","name":"1.0","archived":false,"released":true}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-07-10T15:06:26.671+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313494","id":"12313494","name":"Subsystem"}],"timeoriginalestimate":null,"description":"When installing a subsystem that contains a bundle which has a dependency that is fulfilled by another subsystem that is available via a registered Repository Service, an error occurs.\r\n\r\nThe exception occurs when constructing a SubsystemUri instance with an uri value of: {{subsystem://?Subsystem-SymbolicName=org.osgi.service.subsystem.root&Subsystem-Version=1.0.0!/my-subsystem@0.5.0}}\r\n\r\nThe full exception is:\r\n\r\n{code}java.lang.IllegalArgumentException: invalid version \"1.0.0!/cdi-subsystem@0.5.0\": non-numeric \"0!/cdi-subsystem@0\"\r\n\tat org.osgi.framework.Version.parseInt(Version.java:170)\r\n\tat org.osgi.framework.Version.<init>(Version.java:134)\r\n\tat org.osgi.framework.Version.parseVersion(Version.java:233)\r\n\tat org.apache.aries.subsystem.core.internal.SubsystemUri.<init>(SubsystemUri.java:65)\r\n\tat org.apache.aries.subsystem.core.internal.Location.<init>(Location.java:58)\r\n\tat org.apache.aries.subsystem.core.internal.RawSubsystemResource.<init>(RawSubsystemResource.java:114)\r\n\tat org.apache.aries.subsystem.core.internal.SubsystemResourceInstaller.installRepositoryContent(SubsystemResourceInstaller.java:149)\r\n\tat org.apache.aries.subsystem.core.internal.SubsystemResourceInstaller.install(SubsystemResourceInstaller.java:36)\r\n\tat org.apache.aries.subsystem.core.internal.SubsystemResourceInstaller.installAriesSubsystem(SubsystemResourceInstaller.java:98)\r\n\tat org.apache.aries.subsystem.core.internal.SubsystemResourceInstaller.install(SubsystemResourceInstaller.java:38)\r\n\tat org.apache.aries.subsystem.core.internal.InstallAction.run(InstallAction.java:75)\r\n\tat org.apache.aries.subsystem.core.internal.InstallAction.run(InstallAction.java:31)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.apache.aries.subsystem.core.internal.BasicSubsystem.install(BasicSubsystem.java:621)\r\n\tat org.apache.aries.subsystem.core.internal.BasicSubsystem.install(BasicSubsystem.java:259)\r\n\tat org.apache.aries.subsystem.core.internal.BasicSubsystem.install(BasicSubsystem.java:63)\r\n\tat org.coderthoughts.subsystems.gogo.Activator.install(Activator.java:29)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.apache.felix.gogo.runtime.Reflective.invoke(Reflective.java:137)\r\n\tat org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:82)\r\n\tat org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:477)\r\n\tat org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:403)\r\n\tat org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)\r\n\tat org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)\r\n\tat org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)\r\n\tat org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:89)\r\n\tat org.apache.felix.gogo.shell.Console.run(Console.java:62)\r\n\tat org.apache.felix.gogo.shell.Shell.console(Shell.java:203)\r\n\tat org.apache.felix.gogo.shell.Shell.gosh(Shell.java:128)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.apache.felix.gogo.runtime.Reflective.invoke(Reflective.java:137)\r\n\tat org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:82)\r\n\tat org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:477)\r\n\tat org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:403)\r\n\tat org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)\r\n\tat org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)\r\n\tat org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)\r\n\tat org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:89)\r\n\tat org.apache.felix.gogo.shell.Activator.run(Activator.java:75)\r\n\tat java.lang.Thread.run(Thread.java:744)\r\nCaused by: java.lang.NumberFormatException: For input string: \"0!/cdi-subsystem@0\"\r\n\tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n\tat java.lang.Integer.parseInt(Integer.java:492)\r\n\tat java.lang.Integer.parseInt(Integer.java:527)\r\n\tat org.osgi.framework.Version.parseInt(Version.java:168)\r\n\t... 45 more{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"368070","summary":"Installing a subsystems as a transitive dependency via a Repository service fails","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":13,"total":13,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/13870793","id":"13870793","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"body":"I have attempted to fix this in http://svn.apache.org/viewvc?view=revision&revision=1558067\r\nIt seems to work but it would be great if someone could review it.\r\n\r\nIf reviewed ok, I'll add some unit tests too.\r\n\r\nBTW I noticed that my editor hasn't correctly converted all tabs to spaces in that commit. I'll fix that subsequently too.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"created":"2014-01-14T15:06:41.077+0000","updated":"2014-01-14T15:10:15.275+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/13870837","id":"13870837","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"body":"Hi David,\r\n\r\nI've only been able to have a quick look so far, but I don't think that is the correct fix. \"subsystem://?Subsystem-SymbolicName=org.osgi.service.subsystem.root&Subsystem-Version=1.0.0!/my-subsystem@0.5.0\" is a syntactically invalid subsystem URI. I see that the subsystems impl is generating it in ResourceInstaller, line 111. I believe that should be the starting point of any fix. I would also like to understand more of your scenario. I'm not sure I understand how the root subsystem is becoming the \"provisionTo\" for a subsystem that's a repository resource.\r\n\r\nI'm not sure it was ever considered that provisionTo.getLocation() could be a subsystem URI when ResourceInstaller.getLocation() was written. I suspect that we're going to need to allow for the possibility of a syntactically incorrect subsystem URI under certain circumstances and treat is as a generic location string.\r\n\r\nWould you mind backing that change out for now and attaching it as a patch instead until there's more time to ferret this out?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"created":"2014-01-14T15:57:10.400+0000","updated":"2014-01-14T15:57:10.400+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/13870845","id":"13870845","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"body":"I think I answered my own question. You are apparently installing a subsystem with a provision policy of rejectDependencies that contains a content bundle with a dependency on another subsystem that's in a repository. The subsystems impl detects this and installs the other subsystem as a dependency, which traverses up the graph to the root subsystem.\r\n\r\nThe generation of the syntactically invalid subsystem URIs would not be unique to the root subsystem as the \"provisionTo\", however. It would apply to any subsystem that accepted dependencies and was installed using a subsystem URI as the location.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"created":"2014-01-14T16:07:57.265+0000","updated":"2014-01-14T16:07:57.265+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/13870864","id":"13870864","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"body":"Thanks for the feedback, John. I've reverted my change and will look at ResourceInstaller, line 111.\r\n\r\nYour analysis is correct. I'm installing a feature subsystem with a dependency on a capability provided by another subsystem that's available in a repository. I didn't explicitly specify rejectDependencies but that's indeed the policy that's being used as it's the default...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"created":"2014-01-14T16:27:30.391+0000","updated":"2014-01-14T16:27:30.391+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/13870883","id":"13870883","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"body":"I suspect the right fix here, or at least a reasonable interim one, would be to catch the exception thrown by Subsystem URI in the Location constructor and treat it as an opaque location string as the final else clause in the nested if does (starting at line 67 in Location).\r\n\r\nClients who provided their own syntactically incorrect subsystem URI without an input stream would see an installation failure at the point where the location was used to generate an input stream.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"created":"2014-01-14T16:46:43.643+0000","updated":"2014-01-14T16:46:43.643+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/13870903","id":"13870903","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"body":"I looked at the situation a little closer and SubsystemResourceInstaller.installRepositoryContent() calls ResourceInstaller.getLocation() which synthesizes this incorrect subsystem URI in this case. It then calls new RawSubsystemResource() with this location which then constructs a org.apache.aries.subsystem.core.internal.Location instance which in turn constructs a SubsystemUri instance and hits the Exception described. \r\n\r\nSo we are getting a subsystem location string that's not a valid URI. In OSGi in general this is allowable, for example I think a bundle location string can be anything as long as its unique. Should we follow that pattern here too and avoid making any assumptions about the location string format?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"created":"2014-01-14T17:02:47.350+0000","updated":"2014-01-14T17:02:47.350+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/13870918","id":"13870918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"body":"Yes, we do allow opaque strings as subsystem locations. The Location class supports this. It's just that currently we strictly enforce the subsystem URI syntax if the string begins with \"subsystem://\". I think this is good for clients in a fail-fast sense, but not so good when our implementation is generating these URIs with invalid syntax.\r\n\r\nThe purpose of ResourceInstaller.getLocation() was twofold: (1) to guarantee uniqueness, (2) to provide a way for custom IDirectory implementations to locate the directories (or files) of content bundles and child subsystems.\r\n\r\nThe best (or, perhaps, least bad) quick solution I can see is to prepare the Location constructor for a possible exception from SubsystemURI and, if so, treat the location as an opaque string. This solution has two drawbacks that I can see: (1) explicit installations by location only will fail a bit later if the subsystem URI is invalid, and, more seriously, (2) a subsystem could return a syntactically invalid subsystem URI through the API.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jwross%40us.ibm.com","name":"jwross@us.ibm.com","emailAddress":"jwross at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Ross","active":true},"created":"2014-01-14T17:17:46.846+0000","updated":"2014-01-14T17:17:46.846+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/13871847","id":"13871847","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"body":"Thanks John, I've implemented your suggestion in http://svn.apache.org/viewvc?view=revision&revision=1558324\r\n\r\nI'm closing the bug, as this addresses the issue. If you think something needs to be changed in addition, feel free to reopen or file a new one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"created":"2014-01-15T09:31:15.120+0000","updated":"2014-01-15T09:31:15.120+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/14047730","id":"14047730","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tjwatson","name":"tjwatson","emailAddress":"tjwatson at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Watson","active":true},"body":"This fix causes failures in the OSGi CT around using a subsystem URI with an invalidSubsystem-SymbolicName or Subsystem-Version.  David did you test the fix against the OSGi CT for subsystems?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tjwatson","name":"tjwatson","emailAddress":"tjwatson at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Watson","active":true},"created":"2014-06-30T15:00:17.212+0000","updated":"2014-06-30T15:00:17.212+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/14047747","id":"14047747","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"body":"Nope I didn't test it against the CT at the time. Reopening the issue to make sure that those failures are addressed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"created":"2014-06-30T15:25:01.525+0000","updated":"2014-06-30T15:25:01.525+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/14047768","id":"14047768","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tjwatson","name":"tjwatson","emailAddress":"tjwatson at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Watson","active":true},"body":"Thanks David, I may be able to help.  Right now I am in the midst of merging trunk into the subsystemR6 branch which is where I found this issue running against the proposed R6 CT.  I assume that trunk fails in the same way against the R5 subsystem CT.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tjwatson","name":"tjwatson","emailAddress":"tjwatson at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Watson","active":true},"created":"2014-06-30T15:39:40.579+0000","updated":"2014-06-30T15:39:40.579+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/14057520","id":"14057520","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tjwatson","name":"tjwatson","emailAddress":"tjwatson at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Watson","active":true},"body":"I released a fix with:\r\n\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1609462\r\n\r\nDavid, could you close if this works for you?  Not sure why I cannot close the issue myself.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tjwatson","name":"tjwatson","emailAddress":"tjwatson at us dot ibm dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Thomas Watson","active":true},"created":"2014-07-10T14:46:26.095+0000","updated":"2014-07-10T14:46:26.095+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12688744/comment/14057554","id":"14057554","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"body":"Thanks Tom!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bosschaert","name":"bosschaert","emailAddress":"davidb at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Bosschaert","active":true},"created":"2014-07-10T15:06:26.656+0000","updated":"2014-07-10T15:06:26.656+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-1147/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1re2f:"}}