{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12478033","self":"https://issues.apache.org/jira/rest/api/latest/issue/12478033","key":"CASSANDRA-1645","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310865","id":"12310865","key":"CASSANDRA","name":"Cassandra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310865&avatarId=12034","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310865&avatarId=12034","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310865&avatarId=12034","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310865&avatarId=12034"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11961","id":"11961","description":"Apache Cassandra related projects","name":"Cassandra"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315486","id":"12315486","description":"","name":"0.7.0 rc 1","archived":false,"released":true,"releaseDate":"2010-11-24"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2010-10-21 21:35:35.761","customfield_12312322":null,"customfield_12312323":null,"customfield_12310222":"10002_*:*_1_*:*_804932_*|*_1_*:*_1_*:*_72896656_*|*_5_*:*_3_*:*_446044921_*|*_4_*:*_2_*:*_84938431","customfield_12310420":"20236","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-10-28T21:25:03.199+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-1645/watchers","watchCount":0,"isWatching":false},"created":"2010-10-21T21:26:58.259+0000","customfield_10022":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12311124":null,"customfield_12312334":null,"customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-10-29T15:41:25.695+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[],"timeoriginalestimate":null,"description":"Existing 0.7.0-beta2 cluster adding 1 new node with no data data on it. Enable bootstrapping and start new node and received stream of Couldn't find cfId, added keyspaces via cli and errors stopped. Node did not bootstrap.\r\n\r\n\r\nERROR [MUTATION_STAGE:6] 2010-10-21 15:46:58,950 RowMutationVerbHandler.java (line 81) Error in row mutation\r\norg.apache.cassandra.db.UnserializableColumnFamilyException: Couldn't find cfId=1011\r\n        at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:113)\r\n        at org.apache.cassandra.db.RowMutationSerializer.defreezeTheMaps(RowMutation.java:365)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:375)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:333)\r\n        at org.apache.cassandra.db.RowMutationVerbHandler.doVerb(RowMutationVerbHandler.java:49)\r\n        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:50)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:619)\r\nERROR [MUTATION_STAGE:21] 2010-10-21 15:46:58,950 RowMutationVerbHandler.java (line 81) Error in row mutation\r\norg.apache.cassandra.db.UnserializableColumnFamilyException: Couldn't find cfId=1011\r\n        at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:113)\r\n        at org.apache.cassandra.db.RowMutationSerializer.defreezeTheMaps(RowMutation.java:365)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:375)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:333)\r\n        at org.apache.cassandra.db.RowMutationVerbHandler.doVerb(RowMutationVerbHandler.java:49)\r\n        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:50)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:619)\r\nERROR [MUTATION_STAGE:31] 2010-10-21 15:46:58,950 RowMutationVerbHandler.java (line 81) Error in row mutation\r\norg.apache.cassandra.db.UnserializableColumnFamilyException: Couldn't find cfId=1016\r\n        at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:113)\r\n        at org.apache.cassandra.db.RowMutationSerializer.defreezeTheMaps(RowMutation.java:365)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:375)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:333)\r\n        at org.apache.cassandra.db.RowMutationVerbHandler.doVerb(RowMutationVerbHandler.java:49)\r\n        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:50)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:619)\r\nERROR [MUTATION_STAGE:4] 2010-10-21 15:46:58,950 RowMutationVerbHandler.java (line 81) Error in row mutation","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12457873","id":"12457873","filename":"1645.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stuhood","name":"stuhood","emailAddress":"stuhood at twitter dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stuhood&avatarId=10049","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stuhood&avatarId=10049","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stuhood&avatarId=10049","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stuhood&avatarId=10049"},"displayName":"Stu Hood","active":true},"created":"2010-10-22T21:31:06.019+0000","size":620,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12457873/1645.diff"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12458280","id":"12458280","filename":"ASF.LICENSE.NOT.GRANTED--v2-0001-FBU.decodeToUtf8-duplicates-the-BB-so-other-threads-ca.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-10-28T21:20:55.177+0000","size":984,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12458280/ASF.LICENSE.NOT.GRANTED--v2-0001-FBU.decodeToUtf8-duplicates-the-BB-so-other-threads-ca.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12458281","id":"12458281","filename":"ASF.LICENSE.NOT.GRANTED--v2-0002-BytesToken.convertByteBuffer-duplicates-the-BB-so-othe.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-10-28T21:20:55.225+0000","size":1179,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12458281/ASF.LICENSE.NOT.GRANTED--v2-0002-BytesToken.convertByteBuffer-duplicates-the-BB-so-othe.txt"}],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"92484","summary":"Bootstrapping new node causes RowMutationVerbHandler Couldn't find cfId","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bterm","name":"bterm","emailAddress":"bob dot t dot terminal at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JCF","active":true},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bterm","name":"bterm","emailAddress":"bob dot t dot terminal at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JCF","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"customfield_12311420":null,"customfield_12311421":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":9,"total":9,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12478033/comment/12923653","id":"12923653","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"is this reproducible for you?  if so, can you try the latest nightly build?  (https://hudson.apache.org/hudson/job/Cassandra/lastSuccessfulBuild/artifact/cassandra/build/)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-10-21T21:35:35.761+0000","updated":"2010-10-21T21:35:35.761+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12478033/comment/12923937","id":"12923937","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandon.williams","name":"brandon.williams","emailAddress":"driftx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brandon.williams&avatarId=10054","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brandon.williams&avatarId=10054","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brandon.williams&avatarId=10054","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brandon.williams&avatarId=10054"},"displayName":"Brandon Williams","active":true},"body":"Can't reproduce against trunk, this is was likely fixed sometime after beta2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandon.williams","name":"brandon.williams","emailAddress":"driftx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brandon.williams&avatarId=10054","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brandon.williams&avatarId=10054","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brandon.williams&avatarId=10054","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brandon.williams&avatarId=10054"},"displayName":"Brandon Williams","active":true},"created":"2010-10-22T17:41:54.880+0000","updated":"2010-10-22T17:41:54.880+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12478033/comment/12924019","id":"12924019","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandon.williams","name":"brandon.williams","emailAddress":"driftx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brandon.williams&avatarId=10054","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brandon.williams&avatarId=10054","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brandon.williams&avatarId=10054","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brandon.williams&avatarId=10054"},"displayName":"Brandon Williams","active":true},"body":"Reproduced upgrading beta2 to trunk.  The underlying cause is that there is a problem deserializing the schema, but the bootstrap continues on anyway and then doesn't know about the CFs when it's done.\r\n\r\n INFO 20:43:00,007 Sleeping 90000 ms to wait for load information...\r\nERROR 20:43:00,291 Error in ThreadPoolExecutor\r\njava.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to org.apache.cassandra.avro.KsDef\r\n        at org.apache.cassandra.db.migration.avro.AddKeyspace.put(AddKeyspace.java:24)\r\n        at org.apache.avro.generic.GenericDatumReader.setField(GenericDatumReader.java:152)\r\n        at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:142)\r\n        at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:114)\r\n        at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:118)\r\n        at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:142)\r\n        at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:114)\r\n        at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:105)\r\n        at org.apache.cassandra.io.SerDeUtils.deserializeWithSchema(SerDeUtils.java:98)\r\n        at org.apache.cassandra.db.migration.Migration.deserialize(Migration.java:262)\r\n        at org.apache.cassandra.db.DefinitionsUpdateResponseVerbHandler.doVerb(DefinitionsUpdateResponseVerbHandler.java:57)\r\n        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:50)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n        at java.lang.Thread.run(Thread.java:636)\r\nERROR 20:43:00,293 Fatal exception in thread Thread[ReadStage:1,5,main]\r\njava.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to org.apache.cassandra.avro.KsDef\r\n        at org.apache.cassandra.db.migration.avro.AddKeyspace.put(AddKeyspace.java:24)\r\n        at org.apache.avro.generic.GenericDatumReader.setField(GenericDatumReader.java:152)\r\n        at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:142)\r\n        at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:114)\r\n        at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:118)\r\n        at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:142)\r\n        at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:114)\r\n        at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:105)\r\n        at org.apache.cassandra.io.SerDeUtils.deserializeWithSchema(SerDeUtils.java:98)\r\n        at org.apache.cassandra.db.migration.Migration.deserialize(Migration.java:262)\r\n        at org.apache.cassandra.db.DefinitionsUpdateResponseVerbHandler.doVerb(DefinitionsUpdateResponseVerbHandler.java:57)\r\n        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:50)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n        at java.lang.Thread.run(Thread.java:636)\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandon.williams","name":"brandon.williams","emailAddress":"driftx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brandon.williams&avatarId=10054","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brandon.williams&avatarId=10054","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brandon.williams&avatarId=10054","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brandon.williams&avatarId=10054"},"displayName":"Brandon Williams","active":true},"created":"2010-10-22T20:48:29.302+0000","updated":"2010-10-22T20:48:29.302+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12478033/comment/12924043","id":"12924043","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandon.williams","name":"brandon.williams","emailAddress":"driftx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brandon.williams&avatarId=10054","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brandon.williams&avatarId=10054","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brandon.williams&avatarId=10054","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brandon.williams&avatarId=10054"},"displayName":"Brandon Williams","active":true},"body":"+1, committed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brandon.williams","name":"brandon.williams","emailAddress":"driftx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=brandon.williams&avatarId=10054","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=brandon.williams&avatarId=10054","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=brandon.williams&avatarId=10054","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=brandon.williams&avatarId=10054"},"displayName":"Brandon Williams","active":true},"created":"2010-10-22T21:43:29.545+0000","updated":"2010-10-22T21:43:29.545+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12478033/comment/12924188","id":"12924188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Cassandra #574 (See [https://hudson.apache.org/hudson/job/Cassandra/574/])\r\n    Return correct SpecificDatumReader for schema records.  Patch by Stu Hood, reviewed by brandonwilliams for CASSANDRA-1645.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2010-10-23T12:49:04.339+0000","updated":"2010-10-23T12:49:04.339+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12478033/comment/12925590","id":"12925590","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bterm","name":"bterm","emailAddress":"bob dot t dot terminal at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JCF","active":true},"body":"upgraded thrift to 0.5.0, upgraded cassandra to 0.7.0-rc1, removed all data and logs. used default configuration other than changing ip addresses. started cassandra and created keyspaces via cli and started sending data to cassandra. \r\n\r\n\r\nERROR [MutationStage:19] 2010-10-27 17:21:46,739 RowMutationVerbHandler.java (line 83) Error in row mutation\r\norg.apache.cassandra.db.UnserializableColumnFamilyException: Couldn't find cfId=1018\r\n        at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:112)\r\n        at org.apache.cassandra.db.RowMutationSerializer.defreezeTheMaps(RowMutation.java:368)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:378)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:336)\r\n        at org.apache.cassandra.db.RowMutationVerbHandler.doVerb(RowMutationVerbHandler.java:52)\r\n        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:50)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:619)\r\nERROR [MutationStage:25] 2010-10-27 17:21:46,739 RowMutationVerbHandler.java (line 83) Error in row mutation\r\norg.apache.cassandra.db.UnserializableColumnFamilyException: Couldn't find cfId=1013\r\n        at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:112)\r\n        at org.apache.cassandra.db.RowMutationSerializer.defreezeTheMaps(RowMutation.java:368)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:378)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:336)\r\n        at org.apache.cassandra.db.RowMutationVerbHandler.doVerb(RowMutationVerbHandler.java:52)\r\n        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:50)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:619)\r\nERROR [MutationStage:27] 2010-10-27 17:21:46,739 RowMutationVerbHandler.java (line 83) Error in row mutation\r\norg.apache.cassandra.db.UnserializableColumnFamilyException: Couldn't find cfId=1018\r\n        at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:112)\r\n        at org.apache.cassandra.db.RowMutationSerializer.defreezeTheMaps(RowMutation.java:368)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:378)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:336)\r\n        at org.apache.cassandra.db.RowMutationVerbHandler.doVerb(RowMutationVerbHandler.java:52)\r\n        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:50)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:619)\r\nERROR [MutationStage:18] 2010-10-27 17:21:46,739 RowMutationVerbHandler.java (line 83) Error in row mutation\r\norg.apache.cassandra.db.UnserializableColumnFamilyException: Couldn't find cfId=1013\r\n        at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:112)\r\n        at org.apache.cassandra.db.RowMutationSerializer.defreezeTheMaps(RowMutation.java:368)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:378)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:336)\r\n        at org.apache.cassandra.db.RowMutationVerbHandler.doVerb(RowMutationVerbHandler.java:52)\r\n        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:50)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:619)\r\nERROR [MutationStage:14] 2010-10-27 17:21:46,739 RowMutationVerbHandler.java (line 83) Error in row mutation\r\norg.apache.cassandra.db.UnserializableColumnFamilyException: Couldn't find cfId=1018\r\n        at org.apache.cassandra.db.ColumnFamilySerializer.deserialize(ColumnFamilySerializer.java:112)\r\n        at org.apache.cassandra.db.RowMutationSerializer.defreezeTheMaps(RowMutation.java:368)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:378)\r\n        at org.apache.cassandra.db.RowMutationSerializer.deserialize(RowMutation.java:336)\r\n        at org.apache.cassandra.db.RowMutationVerbHandler.doVerb(RowMutationVerbHandler.java:52)\r\n        at org.apache.cassandra.net.MessageDeliveryTask.run(MessageDeliveryTask.java:50)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n        at java.lang.Thread.run(Thread.java:619)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bterm","name":"bterm","emailAddress":"bob dot t dot terminal at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JCF","active":true},"created":"2010-10-27T22:30:59.995+0000","updated":"2010-10-27T22:30:59.995+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12478033/comment/12925814","id":"12925814","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bterm","name":"bterm","emailAddress":"bob dot t dot terminal at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JCF","active":true},"body":"steps taken to reproduced it on latest trunk (r1028108):\r\nStop all running instances of cassandra. remove all files from data and log directories. build source from trunk or grab rc1. change cassandra.yaml seed list, thrift ip addresses and partitioner (using ordered). Start all nodes and watch logs to ensure they cluster. use cassandra-cli on node1 to configure keyspaces with a replication factor of 3, all column families are using comparator = bytestype. start sending data to the cluster (using N python clients). Errors start occurring for RowMutationVerbHandler.java Error in row mutation ...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bterm","name":"bterm","emailAddress":"bob dot t dot terminal at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"JCF","active":true},"created":"2010-10-28T14:17:37.156+0000","updated":"2010-10-28T14:17:37.156+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12478033/comment/12925948","id":"12925948","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"+1 for duplicate fix","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-10-28T21:13:23.605+0000","updated":"2010-10-28T21:13:23.605+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12478033/comment/12926319","id":"12926319","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Cassandra #580 (See [https://hudson.apache.org/hudson/job/Cassandra/580/])\r\n    BytesToken.convertByteBuffer duplicates the BB so other threads can trust its position. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1645\r\nFBU.decodeToUtf8 duplicates the BB so other threads can trust its position. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1645\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2010-10-29T15:41:25.668+0000","updated":"2010-10-29T15:41:25.668+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-1645/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0g6i7:"}}