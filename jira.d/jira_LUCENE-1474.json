{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12409682","self":"https://issues.apache.org/jira/rest/api/latest/issue/12409682","key":"LUCENE-1474","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313516","id":"12313516","description":"Bug fixes for 2.4.0 release","name":"2.4.1","archived":false,"released":true,"releaseDate":"2009-03-09"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312682","id":"12312682","description":"Last release (barring major bugs) before migrating to 3.0 and JDK 1.5","name":"2.9","archived":false,"released":true,"releaseDate":"2009-09-25"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2008-12-02 21:47:47.047","customfield_12312323":null,"customfield_12310420":"12277","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_4748333_*|*_5_*:*_3_*:*_6739169791_*|*_4_*:*_2_*:*_41434875","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2009-02-19T10:04:07.999+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-1474/watchers","watchCount":4,"isWatching":false},"created":"2008-12-02T21:14:55.707+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312681","id":"12312681","description":"","name":"2.4","archived":false,"released":true,"releaseDate":"2008-10-08"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-09-25T16:23:14.472+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310232","id":"12310232","name":"core/index","description":"issues with indexing code"}],"timeoriginalestimate":null,"description":"When deleted documents are flushed using IndexReader.flush() the delCount in SegmentInfo is updated based on the current value and SegmentReader.pendingDeleteCount (introduced by LUCENE-1267). It seems that pendingDeleteCount is not reset after the commit, which means after a second flush() or close() of an index reader the delCount in SegmentInfo is incorrect. A subsequent IndexReader.open() call will fail with an error when assertions are enabled. E.g.:\n\njava.lang.AssertionError: delete count mismatch: info=3 vs BitVector=2\n\tat org.apache.lucene.index.SegmentReader.loadDeletedDocs(SegmentReader.java:405)\n[...]","customfield_10010":null,"timetracking":{},"customfield_12310120":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10121","value":"New","id":"10121"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"26571","summary":"Incorrect SegmentInfo.delCount when IndexReader.flush() is used","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mreutegg","name":"mreutegg","emailAddress":"mreutegg at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mreutegg&avatarId=18658","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mreutegg&avatarId=18658","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mreutegg&avatarId=18658","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mreutegg&avatarId=18658"},"displayName":"Marcel Reutegger","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mreutegg","name":"mreutegg","emailAddress":"mreutegg at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mreutegg&avatarId=18658","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mreutegg&avatarId=18658","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mreutegg&avatarId=18658","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mreutegg&avatarId=18658"},"displayName":"Marcel Reutegger","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":23,"total":23,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12652513","id":"12652513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mreutegg","name":"mreutegg","emailAddress":"mreutegg at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mreutegg&avatarId=18658","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mreutegg&avatarId=18658","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mreutegg&avatarId=18658","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mreutegg&avatarId=18658"},"displayName":"Marcel Reutegger","active":true},"body":"Test case to reproduce issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mreutegg","name":"mreutegg","emailAddress":"mreutegg at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mreutegg&avatarId=18658","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mreutegg&avatarId=18658","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mreutegg&avatarId=18658","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mreutegg&avatarId=18658"},"displayName":"Marcel Reutegger","active":true},"created":"2008-12-02T21:15:48.330+0000","updated":"2008-12-02T21:15:48.330+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12652527","id":"12652527","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Good catch!  Great test case... thanks Marcel.\r\n\r\nI'll commit the fix (to set pendingDeleteCount to 0 after flushing deletes) shortly.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2008-12-02T21:47:47.047+0000","updated":"2008-12-02T21:47:47.047+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12652557","id":"12652557","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Committed revision 722645.\r\n\r\nThanks Marcel!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2008-12-02T22:34:03.317+0000","updated":"2008-12-02T22:34:03.317+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12652774","id":"12652774","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mreutegg","name":"mreutegg","emailAddress":"mreutegg at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mreutegg&avatarId=18658","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mreutegg&avatarId=18658","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mreutegg&avatarId=18658","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mreutegg&avatarId=18658"},"displayName":"Marcel Reutegger","active":true},"body":"Are there any plans to release a 2.4.1? If yes, can this fix be included?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mreutegg","name":"mreutegg","emailAddress":"mreutegg at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mreutegg&avatarId=18658","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mreutegg&avatarId=18658","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mreutegg&avatarId=18658","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mreutegg&avatarId=18658"},"displayName":"Marcel Reutegger","active":true},"created":"2008-12-03T12:59:36.142+0000","updated":"2008-12-03T12:59:36.142+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12652784","id":"12652784","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"There are no concrete plans / timing for a 2.4.1 release, but I think it's likely it'll eventually happen if we accumulate enough issues to backport.\r\n\r\nI'll reopen this & add 2.4.1 fix version so we don't lose track of it...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2008-12-03T13:42:14.287+0000","updated":"2008-12-03T13:42:14.287+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12652851","id":"12652851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Committed revision 722964 on 2.4 branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2008-12-03T16:46:18.484+0000","updated":"2008-12-03T16:46:18.484+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12674858","id":"12674858","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Reopening for backport to 2.4.1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2009-02-19T01:37:22.723+0000","updated":"2009-02-19T01:37:22.723+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12674948","id":"12674948","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Already backported to 2.4 branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2009-02-19T10:04:07.991+0000","updated":"2009-02-19T10:04:07.991+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12710988","id":"12710988","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"body":"For some time now we've been getting similar assertion errors on our development machines when running with assertions enabled (disabling them kills the assertion error and doesn't _appear_ to have any negative impact though).\r\n\r\nWe're running with lucene 2.4.1 and the unit test attached to this issue succeeds as expected, but our own code still appears to trigger a similar problem:\r\n\r\n     [java] ERROR - Problem processing revisions from repo https://studio.atlassian.com/svn/FE due to class java.lang.AssertionError - delete count mismatch: info=128 vs BitVector=126\r\n     [java] java.lang.AssertionError: delete count mismatch: info=128 vs BitVector=126\r\n     [java] \tat org.apache.lucene.index.SegmentReader.loadDeletedDocs(SegmentReader.java:405)\r\n     [java] \tat org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:368)\r\n     [java] \tat org.apache.lucene.index.SegmentReader.get(SegmentReader.java:306)\r\n     [java] \tat org.apache.lucene.index.SegmentReader.get(SegmentReader.java:228)\r\n     [java] \tat org.apache.lucene.index.MultiSegmentReader.<init>(MultiSegmentReader.java:55)\r\n     [java] \tat org.apache.lucene.index.DirectoryIndexReader$1.doBody(DirectoryIndexReader.java:104)\r\n     [java] \tat org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:653)\r\n     [java] \tat org.apache.lucene.index.DirectoryIndexReader.open(DirectoryIndexReader.java:115)\r\n     [java] \tat org.apache.lucene.index.IndexReader.open(IndexReader.java:316)\r\n     [java] \tat org.apache.lucene.index.IndexReader.open(IndexReader.java:216)\r\n     [java] \tat com.cenqua.fisheye.lucene.LuceneConnection.getReader(LuceneConnection.java:309)\r\n     [java] \tat com.cenqua.fisheye.lucene.LuceneConnection.withReaderAndDeletes(LuceneConnection.java:158)\r\n     [java] \tat com.cenqua.fisheye.rep.RepositoryIndexer.deleteDocuments(RepositoryIndexer.java:146)\r\n     [java] \tat com.cenqua.fisheye.rep.RepositoryIndexer.deleteContent(RepositoryIndexer.java:138)\r\n     [java] \tat com.cenqua.fisheye.rep.RepositoryScanner.deleteContent(RepositoryScanner.java:594)\r\n     [java] \tat com.cenqua.fisheye.rep.RepositoryScanner.indexContent(RepositoryScanner.java:578)\r\n     [java] \tat com.cenqua.fisheye.rep.RepositoryScanner.processContent(RepositoryScanner.java:432)\r\n     [java] \tat com.cenqua.fisheye.rep.RepositoryScanner.slurpRepository(RepositoryScanner.java:263)\r\n     [java] \tat com.cenqua.fisheye.rep.RepositoryScanner.slurp(RepositoryScanner.java:175)\r\n     [java] \tat com.cenqua.fisheye.rep.RepositoryScanner.ping(RepositoryScanner.java:108)\r\n     [java] \tat com.cenqua.fisheye.svn.SvnRepositoryEngine.doSlurp(SvnRepositoryEngine.java:68)\r\n     [java] \tat com.cenqua.fisheye.rep.ping.OneOffPingRequest.doRequest(OneOffPingRequest.java:30)\r\n     [java] \tat com.cenqua.fisheye.rep.ping.PingRequest.process(PingRequest.java:90)\r\n     [java] \tat com.cenqua.fisheye.rep.RepositoryHandle.processPingRequests(RepositoryHandle.java:119)\r\n     [java] \tat com.cenqua.fisheye.rep.RepositoryHandle.queuePingRequest(RepositoryHandle.java:109)\r\n     [java] \tat com.cenqua.fisheye.rep.ping.PingRequest.run(PingRequest.java:57)\r\n     [java] \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)\r\n     [java] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)\r\n     [java] \tat java.lang.Thread.run(Thread.java:613)\r\n\r\n\r\ncheers,\r\nErik\r\nAtlassian","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"created":"2009-05-20T03:38:29.372+0000","updated":"2009-05-20T03:40:03.521+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711090","id":"12711090","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Erik, do you use undeleteAll?  I've found one path, using undeleteAll, that could cause this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2009-05-20T10:31:59.208+0000","updated":"2009-05-20T10:31:59.208+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711107","id":"12711107","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"body":"{quote}\r\nErik, do you use undeleteAll? I've found one path, using undeleteAll, that could cause this. \r\n{quote}\r\n\r\nNo, we don't call {{IndexReader.undeleteAll()}}.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"created":"2009-05-20T11:51:38.440+0000","updated":"2009-05-20T11:51:38.440+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711188","id":"12711188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Are you able to run a modified Lucene JAR?  If so, I'd like to add an assert at the point when Lucene commits deletes so we can catch earlier when this happens.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2009-05-20T15:33:19.290+0000","updated":"2009-05-20T15:33:19.290+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711418","id":"12711418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"body":"Sure, I'd be happy to.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"created":"2009-05-20T23:29:39.303+0000","updated":"2009-05-20T23:29:39.303+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711424","id":"12711424","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"OK, thanks.  Let's try this:\r\n{code}\r\nIndex: src/java/org/apache/lucene/index/SegmentReader.java\r\n===================================================================\r\n--- src/java/org/apache/lucene/index/SegmentReader.java\t(revision 768598)\r\n+++ src/java/org/apache/lucene/index/SegmentReader.java\t(working copy)\r\n@@ -592,6 +592,7 @@\r\n       \r\n       si.setDelCount(si.getDelCount()+pendingDeleteCount);\r\n       pendingDeleteCount = 0;\r\n+      assert deletedDocs.count() == si.getDelCount(): \"delete count mismatch during commit: info=\" + si.getDelCount() + \" vs BitVector=\" + deletedDocs.count();\r\n     }\r\n     if (undeleteAll && si.hasDeletions()) {\r\n       si.clearDelGen();\r\n{code}\r\n\r\nHopefully you see that assert trip at some point \"interesting\" (ie, before the assert above).\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2009-05-20T23:36:07.194+0000","updated":"2009-05-20T23:36:07.194+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711436","id":"12711436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"body":"Should that be applied to tags/lucene_2_4_1 or trunk (the svn revision numbers don't seem to match those from your patch)?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"created":"2009-05-21T00:23:52.460+0000","updated":"2009-05-21T00:23:52.460+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711437","id":"12711437","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Sorry, 2.4.1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2009-05-21T00:42:58.614+0000","updated":"2009-05-21T00:42:58.614+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711444","id":"12711444","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"body":"Running with the patch applied doesn't seem to have changed anything. Is it possible the damage to the index has already been done at this point?\r\n\r\nNote that I'm running lucene on large index files that were taken from our production servers. We've never seen these exception on these production servers, but then they do not run with assertions enabled. Using these copied index files (safely copied while the product was not running) on development machines consistently triggers this problem. I've not regenerated the entire index on the development machine, for that would be hugely impractical.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"created":"2009-05-21T01:08:23.209+0000","updated":"2009-05-21T01:08:23.209+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711537","id":"12711537","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Yes, the damage once done will remain in the index.\r\n\r\nThis new assert will only trip if the index is recreated, ie when a segment is first written with the wrong count.\r\n\r\nCan you run CheckIndex on your index and report back?  I'm curious how many segments show the wrong delete count, and how much the counts are off.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2009-05-21T09:31:38.254+0000","updated":"2009-05-21T09:31:38.254+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711539","id":"12711539","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Was the index at least partially generated with 2.4.0?  Or was it entirely generated with 2.4.1?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2009-05-21T09:42:34.336+0000","updated":"2009-05-21T09:42:34.336+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12711868","id":"12711868","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"body":"I have attached the output of CheckIndex on all our index directories, which seems to report quite a few errors:\r\n\r\nerik:cache ervzijst$ grep \"CorruptIndexException\\|AssertionError\" CheckIndex.txt \r\njava.lang.AssertionError: delete count mismatch: info=1263 vs BitVector=1262\r\njava.lang.AssertionError: delete count mismatch: info=496 vs BitVector=493\r\njava.lang.AssertionError: delete count mismatch: info=101 vs BitVector=100\r\njava.lang.AssertionError: delete count mismatch: info=300 vs BitVector=298\r\njava.lang.AssertionError: delete count mismatch: info=109 vs BitVector=108\r\njava.lang.AssertionError: delete count mismatch: info=140 vs BitVector=139\r\njava.lang.AssertionError: delete count mismatch: info=122 vs BitVector=121\r\njava.lang.AssertionError: delete count mismatch: info=91 vs BitVector=89\r\njava.lang.AssertionError: delete count mismatch: info=1411 vs BitVector=1409\r\njava.lang.AssertionError: delete count mismatch: info=801 vs BitVector=800\r\njava.lang.AssertionError: delete count mismatch: info=630 vs BitVector=629\r\njava.lang.AssertionError: delete count mismatch: info=510 vs BitVector=508\r\norg.apache.lucene.index.CorruptIndexException: doc counts differ for segment _0: fieldsReader shows 12365 but segmentInfo shows 12232\r\norg.apache.lucene.index.CorruptIndexException: doc counts differ for segment _1: fieldsReader shows 10144 but segmentInfo shows 8766\r\norg.apache.lucene.index.CorruptIndexException: doc counts differ for segment _2: fieldsReader shows 4616 but segmentInfo shows 7006\r\norg.apache.lucene.index.CorruptIndexException: doc counts differ for segment _3: fieldsReader shows 6681 but segmentInfo shows 4854\r\norg.apache.lucene.index.CorruptIndexException: doc counts differ for segment _4: fieldsReader shows 2652 but segmentInfo shows 8808\r\norg.apache.lucene.index.CorruptIndexException: doc counts differ for segment _5: fieldsReader shows 11500 but segmentInfo shows 14551\r\norg.apache.lucene.index.CorruptIndexException: doc counts differ for segment _6: fieldsReader shows 16225 but segmentInfo shows 4375\r\nerik:cache ervzijst$\r\n\r\nP.S.\r\nThe full log is attached as CheckIndex.txt\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=erik.van.zijst","name":"erik.van.zijst","emailAddress":"erik dot van dot zijst at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Erik van Zijst","active":true},"created":"2009-05-21T23:46:56.606+0000","updated":"2009-05-21T23:47:38.195+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12712084","id":"12712084","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Thanks Erik.  Can you answer my other questions?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2009-05-22T13:51:17.379+0000","updated":"2009-05-22T13:51:17.379+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12719435","id":"12719435","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahempel%40atlassian.com","name":"ahempel@atlassian.com","emailAddress":"ahempel at atlassian dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Hempel","active":true},"body":"Hi Michael,\r\n\r\nThe index that Erik was working with contained segments created with a pre-2.4.1 version of Lucene, so we don't believe this is a regression.\r\n\r\nRegards,\r\nAdrian","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ahempel%40atlassian.com","name":"ahempel@atlassian.com","emailAddress":"ahempel at atlassian dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adrian Hempel","active":true},"created":"2009-06-15T07:15:49.662+0000","updated":"2009-06-15T07:15:49.662+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12409682/comment/12719512","id":"12719512","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"OK that's good news: the bug is fixed in 2.4.1, but since your index had segments from before 2.4.1, it had the bug \"cached\".","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2009-06-15T10:48:55.447+0000","updated":"2009-06-15T10:48:55.447+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-1474/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i04wr3:"}}