{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12383269","self":"https://issues.apache.org/jira/rest/api/latest/issue/12383269","key":"DERBY-3229","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313142","id":"12313142","description":"","name":"10.3.3.0","archived":false,"released":true,"releaseDate":"2008-05-12"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313111","id":"12313111","description":"","name":"10.4.1.3","archived":false,"released":true,"releaseDate":"2008-04-24"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2007-11-26 22:16:33.004","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"23505","customfield_12310222":"3_*:*_1_*:*_555889890_*|*_1_*:*_1_*:*_4343165_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_810217704","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-12-03T09:23:11.580+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-3229/watchers","watchCount":0,"isWatching":false},"created":"2007-11-26T21:45:58.525+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312876","id":"12312876","description":"","name":"10.3.2.1","archived":false,"released":true,"releaseDate":"2007-12-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313111","id":"12313111","description":"","name":"10.4.1.3","archived":false,"released":true,"releaseDate":"2008-04-24"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-06-29T22:43:21.205+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11405","id":"11405","name":"Build tools"},{"self":"https://issues.apache.org/jira/rest/api/2/component/11409","id":"11409","name":"Localization"},{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"},{"self":"https://issues.apache.org/jira/rest/api/2/component/11414","id":"11414","name":"Tools"}],"timeoriginalestimate":null,"description":") testSysinfoLocale(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: expected:<false> but was:<true>\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:209)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n3) testSysinfoLocale(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: expected:<false> but was:<true>\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:209)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n4) testSysinfoLocale(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: expected:<true> but was:<false>\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:204)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n5) testSysinfoLocale(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: expected:<true> but was:<false>\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:204)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n6) testSysinfoLocale(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: expected:<false> but was:<true>\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:209)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n7) testSysinfoLocale(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: expected:<true> but was:<false>\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:204)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38998","summary":"testSysinfoLocale fails if derbyTools.jar is first in the classpath","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"IBM JDK 1.4.2 and IBM JDK 1.5","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":12,"total":12,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12545624","id":"12545624","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I'll take a look at this since I recently added the test. I assume this test is failing on the 10.3 branch as well, as the fix which added the test was merged earlier today.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-11-26T22:16:33.004+0000","updated":"2007-11-26T22:16:33.004+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12545636","id":"12545636","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I haven't looked at why the test fails on IBM's JVM yet, but this patch makes the test print more info when it fails. Committed revision 598456.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-11-26T22:57:59.741+0000","updated":"2007-11-26T22:57:59.741+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12545756","id":"12545756","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I'm not able to reproduce this problem on IBM JDK 1.4.2 or IBM JDK 1.5 on a Linux machine. It would be helpful if someone who sees the problem could post the more detailed error messages that are reported after revision 598456.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-11-27T08:45:48.275+0000","updated":"2007-11-27T08:45:48.275+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12545958","id":"12545958","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I was not able to reproduce this in my environment either but here are the errors produced by the\r\nnightly runs.\r\n\r\n2) testSysinfoLocale:defaultLocale=it_IT,uiLocale=null(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: Substring 'Nome SO' not found in output: ------------------ Java Information ------------------\r\nJava Version:    1.5.0\r\nJava Vendor:     IBM Corporation\r\nJava home:       c:\\jartest\\ibm15\\jre\r\nJava classpath:  c:/jartest/tools/java/junit.jar;c:/jartest/classes/derbytools.jar;c:/jartest/classes/derbyclient.jar;c:/jartest/classes/derbynet.jar;c:/jartest/classes/derbyTesting.jar\r\nOS name:         Windows XP\r\nOS architecture: x86\r\nOS version:      5.1 build 2600 Service Pack 2\r\nJava user name:  cloudtest\r\nJava user home:  C:\\Documents and Settings\\cloudtest\r\nJava user dir:   C:\\jartest\\JarResults.2007-11-26\\ibm15_suites.All\r\njava.specification.name: Java Platform API Specification\r\njava.specification.version: 1.5\r\n--------- Derby Information --------\r\nJRE - JDBC: J2SE 5.0 - JDBC 3.0\r\n[C:\\jartest\\classes\\derbytools.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbyclient.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbynet.jar] 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n----------------- Locale Information -----------------\r\nCurrent Locale :  [Italiano/Italia [it_IT]]\r\nFound support for locale: [cs]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [de_DE]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [es]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [fr]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [hu]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [it]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ja_JP]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ko_KR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pl]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pt_BR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ru]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_CN]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_TW]\r\n\t version: 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.assertContains(SysinfoLocaleTest.java:224)\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:237)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n3) testSysinfoLocale:defaultLocale=it_IT,uiLocale=it_IT(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: Substring 'Nome SO' not found in output: ------------------ Java Information ------------------\r\nJava Version:    1.5.0\r\nJava Vendor:     IBM Corporation\r\nJava home:       c:\\jartest\\ibm15\\jre\r\nJava classpath:  c:/jartest/tools/java/junit.jar;c:/jartest/classes/derbytools.jar;c:/jartest/classes/derbyclient.jar;c:/jartest/classes/derbynet.jar;c:/jartest/classes/derbyTesting.jar\r\nOS name:         Windows XP\r\nOS architecture: x86\r\nOS version:      5.1 build 2600 Service Pack 2\r\nJava user name:  cloudtest\r\nJava user home:  C:\\Documents and Settings\\cloudtest\r\nJava user dir:   C:\\jartest\\JarResults.2007-11-26\\ibm15_suites.All\r\njava.specification.name: Java Platform API Specification\r\njava.specification.version: 1.5\r\n--------- Derby Information --------\r\nJRE - JDBC: J2SE 5.0 - JDBC 3.0\r\n[C:\\jartest\\classes\\derbytools.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbyclient.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbynet.jar] 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n----------------- Locale Information -----------------\r\nCurrent Locale :  [Italiano/Italia [it_IT]]\r\nFound support for locale: [cs]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [de_DE]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [es]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [fr]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [hu]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [it]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ja_JP]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ko_KR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pl]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pt_BR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ru]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_CN]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_TW]\r\n\t version: 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.assertContains(SysinfoLocaleTest.java:224)\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:237)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n4) testSysinfoLocale:defaultLocale=it_IT,uiLocale=de_DE(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: Substring 'Name des Betriebssystems' not found in output: ------------------ Java Information ------------------\r\nJava Version:    1.5.0\r\nJava Vendor:     IBM Corporation\r\nJava home:       c:\\jartest\\ibm15\\jre\r\nJava classpath:  c:/jartest/tools/java/junit.jar;c:/jartest/classes/derbytools.jar;c:/jartest/classes/derbyclient.jar;c:/jartest/classes/derbynet.jar;c:/jartest/classes/derbyTesting.jar\r\nOS name:         Windows XP\r\nOS architecture: x86\r\nOS version:      5.1 build 2600 Service Pack 2\r\nJava user name:  cloudtest\r\nJava user home:  C:\\Documents and Settings\\cloudtest\r\nJava user dir:   C:\\jartest\\JarResults.2007-11-26\\ibm15_suites.All\r\njava.specification.name: Java Platform API Specification\r\njava.specification.version: 1.5\r\n--------- Derby Information --------\r\nJRE - JDBC: J2SE 5.0 - JDBC 3.0\r\n[C:\\jartest\\classes\\derbytools.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbyclient.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbynet.jar] 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n----------------- Locale Information -----------------\r\nCurrent Locale :  [Italiano/Italia [it_IT]]\r\nFound support for locale: [cs]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [de_DE]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [es]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [fr]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [hu]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [it]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ja_JP]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ko_KR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pl]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pt_BR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ru]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_CN]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_TW]\r\n\t version: 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.assertContains(SysinfoLocaleTest.java:224)\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:237)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n5) testSysinfoLocale:defaultLocale=de_DE,uiLocale=null(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: Substring 'Name des Betriebssystems' not found in output: ------------------ Java Information ------------------\r\nJava Version:    1.5.0\r\nJava Vendor:     IBM Corporation\r\nJava home:       c:\\jartest\\ibm15\\jre\r\nJava classpath:  c:/jartest/tools/java/junit.jar;c:/jartest/classes/derbytools.jar;c:/jartest/classes/derbyclient.jar;c:/jartest/classes/derbynet.jar;c:/jartest/classes/derbyTesting.jar\r\nOS name:         Windows XP\r\nOS architecture: x86\r\nOS version:      5.1 build 2600 Service Pack 2\r\nJava user name:  cloudtest\r\nJava user home:  C:\\Documents and Settings\\cloudtest\r\nJava user dir:   C:\\jartest\\JarResults.2007-11-26\\ibm15_suites.All\r\njava.specification.name: Java Platform API Specification\r\njava.specification.version: 1.5\r\n--------- Derby Information --------\r\nJRE - JDBC: J2SE 5.0 - JDBC 3.0\r\n[C:\\jartest\\classes\\derbytools.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbyclient.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbynet.jar] 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n----------------- Locale Information -----------------\r\nCurrent Locale :  [Deutsch/Deutschland [de_DE]]\r\nFound support for locale: [cs]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [de_DE]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [es]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [fr]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [hu]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [it]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ja_JP]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ko_KR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pl]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pt_BR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ru]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_CN]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_TW]\r\n\t version: 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.assertContains(SysinfoLocaleTest.java:224)\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:237)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n6) testSysinfoLocale:defaultLocale=de_DE,uiLocale=it_IT(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: Substring 'Nome SO' not found in output: ------------------ Java Information ------------------\r\nJava Version:    1.5.0\r\nJava Vendor:     IBM Corporation\r\nJava home:       c:\\jartest\\ibm15\\jre\r\nJava classpath:  c:/jartest/tools/java/junit.jar;c:/jartest/classes/derbytools.jar;c:/jartest/classes/derbyclient.jar;c:/jartest/classes/derbynet.jar;c:/jartest/classes/derbyTesting.jar\r\nOS name:         Windows XP\r\nOS architecture: x86\r\nOS version:      5.1 build 2600 Service Pack 2\r\nJava user name:  cloudtest\r\nJava user home:  C:\\Documents and Settings\\cloudtest\r\nJava user dir:   C:\\jartest\\JarResults.2007-11-26\\ibm15_suites.All\r\njava.specification.name: Java Platform API Specification\r\njava.specification.version: 1.5\r\n--------- Derby Information --------\r\nJRE - JDBC: J2SE 5.0 - JDBC 3.0\r\n[C:\\jartest\\classes\\derbytools.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbyclient.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbynet.jar] 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n----------------- Locale Information -----------------\r\nCurrent Locale :  [Deutsch/Deutschland [de_DE]]\r\nFound support for locale: [cs]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [de_DE]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [es]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [fr]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [hu]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [it]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ja_JP]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ko_KR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pl]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pt_BR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ru]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_CN]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_TW]\r\n\t version: 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.assertContains(SysinfoLocaleTest.java:224)\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:237)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n7) testSysinfoLocale:defaultLocale=de_DE,uiLocale=de_DE(org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest)junit.framework.AssertionFailedError: Substring 'Name des Betriebssystems' not found in output: ------------------ Java Information ------------------\r\nJava Version:    1.5.0\r\nJava Vendor:     IBM Corporation\r\nJava home:       c:\\jartest\\ibm15\\jre\r\nJava classpath:  c:/jartest/tools/java/junit.jar;c:/jartest/classes/derbytools.jar;c:/jartest/classes/derbyclient.jar;c:/jartest/classes/derbynet.jar;c:/jartest/classes/derbyTesting.jar\r\nOS name:         Windows XP\r\nOS architecture: x86\r\nOS version:      5.1 build 2600 Service Pack 2\r\nJava user name:  cloudtest\r\nJava user home:  C:\\Documents and Settings\\cloudtest\r\nJava user dir:   C:\\jartest\\JarResults.2007-11-26\\ibm15_suites.All\r\njava.specification.name: Java Platform API Specification\r\njava.specification.version: 1.5\r\n--------- Derby Information --------\r\nJRE - JDBC: J2SE 5.0 - JDBC 3.0\r\n[C:\\jartest\\classes\\derbytools.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbyclient.jar] 10.4.0.0 alpha - (598493)\r\n[C:\\jartest\\classes\\derbynet.jar] 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n----------------- Locale Information -----------------\r\nCurrent Locale :  [Deutsch/Deutschland [de_DE]]\r\nFound support for locale: [cs]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [de_DE]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [es]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [fr]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [hu]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [it]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ja_JP]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ko_KR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pl]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [pt_BR]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [ru]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_CN]\r\n\t version: 10.4.0.0 alpha - (598493)\r\nFound support for locale: [zh_TW]\r\n\t version: 10.4.0.0 alpha - (598493)\r\n------------------------------------------------------\r\n\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.assertContains(SysinfoLocaleTest.java:224)\r\n\tat org.apache.derbyTesting.functionTests.tests.tools.SysinfoLocaleTest.testSysinfoLocale(SysinfoLocaleTest.java:237)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-11-27T18:45:34.748+0000","updated":"2007-11-27T18:45:34.748+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12546020","id":"12546020","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks Kathey, that made things much clearer. I think the crucial piece of information is the Java classpath: c:/jartest/tools/java/junit.jar;c:/jartest/classes/derbytools.jar;c:/jartest/classes/derbyclient.jar;c:/jartest/classes/derbynet.jar;c:/jartest/classes/derbyTesting.jar\r\n\r\nWhen I run the test with the same classpath on Sun JDK 6, I get the same errors. It seems like every time derbytools.jar is in front of all the other jar files containing sysinfo, sysinfo's messages are not properly localized. I think this is because the other jar files ensure (in their manifests) that the derbyLocale*.jar files are on the classpath, whereas derbytools.jar doesn't.\r\n\r\nThis actually seems to be a general problem for all the tools:\r\n\r\n$ java -Dderby.ui.locale=pt_BR -cp derbytools.jar org.apache.derby.tools.ij\r\nij version 10.4\r\nij> connect;\r\nIJ ERROR: Unable to establish connection\r\n\r\n$ java -Dderby.ui.locale=pt_BR -jar derbyrun.jar ij\r\nversão ij 10.4\r\nij> connect; \r\nERRO IJ: Não foi possível estabelecer connection","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-11-27T22:03:42.723+0000","updated":"2007-11-27T22:03:42.723+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12546024","id":"12546024","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"d3229-manifest.diff adds the same manifest to derbytools.jar as the manifest presently in derby.jar and derbyclient.jar. That makes the tests pass in my environment. It also makes both the ij invocations mentioned above print Portuguese messages.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-11-27T22:13:44.542+0000","updated":"2007-11-27T22:13:44.542+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12546029","id":"12546029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Does this mean the derbytools.jar has the sealing commands intended for derby.jar in its manifest?\r\n\r\nI don't think sharing the manifest across derbytools.jar, derbyclient.jar and derby.jar is the correct approach.\r\n\r\nSome of sealing instructions are specific to derby.jar and the Bundle-Name should be different for each jar.\r\n\r\nThe manifest files do have information in common, but they should not be identical.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-11-27T22:27:14.212+0000","updated":"2007-11-27T22:27:14.212+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12546035","id":"12546035","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Yes, with this patch derbytools.jar will have the sealing commands. I guess we can split the sealing commands out in a separate ant call. But some of the sealing commands are needed, for instance the unsealing of impl/tools/sysinfo, or?\r\n\r\nderbyclient.jar and derby.jar already have the same Bundle-Name (Apache Derby 10.4), is that not correct? Only derby.jar has Bundle-Activator. Some of the sealing commands in derbyclient.jar refer to packages not actually contained in derbyclient.jar.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-11-27T22:47:30.873+0000","updated":"2007-11-27T22:47:30.873+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12547499","id":"12547499","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Attaching a new patch which factors out the adding of localized jars to the classpath into a separate target, and uses that target to add a classpath to derbytools.jar's manifest. The manifest in derbytools.jar looks like this when built in my environment:\r\n\r\nManifest-Version: 1.0\r\nAnt-Version: Apache Ant 1.7.0\r\nCreated-By: 1.6.0_03-b05 (Sun Microsystems Inc.)\r\nClass-Path: derbyLocale_cs.jar derbyLocale_de_DE.jar derbyLocale_es.ja\r\n r derbyLocale_fr.jar derbyLocale_hu.jar derbyLocale_it.jar derbyLocal\r\n e_ja_JP.jar derbyLocale_ko_KR.jar derbyLocale_pl.jar derbyLocale_pt_B\r\n R.jar derbyLocale_ru.jar derbyLocale_zh_CN.jar derbyLocale_zh_TW.jar\r\n\r\nI have not addressed the other existing issues mentioned by Dan (same bundle name and sealing commands  in derby.jar and derbyclient.jar). Please file a new JIRA issue if you think they need to be addressed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-12-01T18:55:51.510+0000","updated":"2007-12-01T18:55:51.510+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12547774","id":"12547774","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Committed revision 600456.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-12-03T09:23:11.543+0000","updated":"2007-12-03T09:23:11.543+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12548386","id":"12548386","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Merged the fix to 10.3 since this is one of the reported errors on 10.3.2.1 (http://wiki.apache.org/db-derby/TenThreeTwoPlatformTesting). I don't know which fix-version to set, though. Sysinfo on head of 10.3 says 10.3.2.2, but that version is not available for the fixed-in field.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-12-04T20:04:48.961+0000","updated":"2007-12-04T20:04:48.961+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12383269/comment/12548387","id":"12548387","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Fixed in revision 601064 on the 10.3 branch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-12-04T20:06:33.808+0000","updated":"2007-12-04T20:06:33.808+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-3229/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i071fj:"}}