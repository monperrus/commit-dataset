{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12311387","self":"https://issues.apache.org/jira/rest/api/latest/issue/12311387","key":"DERBY-361","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2005-06-29 09:39:02.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"21917","customfield_12310222":"1_*:*_1_*:*_1215326000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_77498738269","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2005-06-29T09:39:02.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-361/watchers","watchCount":0,"isWatching":false},"created":"2005-06-15T08:03:36.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2007-12-13T09:04:40.256+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11412","id":"11412","name":"Store"}],"timeoriginalestimate":null,"description":"Crash was done manually when compress was almost  in the end. \n\nLog trace before the crash:\n\nDEBUG LogTrace OUTPUT: Write log record: tranId=14527 instant: (23,6270154) leng\nth: 20BeginXact null transactionStatus 0\n\nDEBUG LogTrace OUTPUT: Write log record: tranId=14527 instant: (23,6270190) leng\nth: 25\nPage Operation: Page(0,Container(0, 768)) pageVersion 9567 :  CompressSpaceOpera\ntion: newHighestPage = 0;num_pages_truncated = 956 to Page(0,Container(0, 768))\n\nDEBUG LogTrace OUTPUT: Flush log to 1350071\nDEBUG LogTrace OUTPUT: Write log record: tranId=Null instant: (23,6251544) lengt\nh: 21\nChecksum Operation  algorithm = 1 value = 3588488 data length= 18650\n\nDEBUG LogTrace OUTPUT: Begin log sync...\nDEBUG LogTrace OUTPUT: end log sync.\nDEBUG LogTrace OUTPUT: Flush log to 6270235\nDEBUG LogTrace OUTPUT: Begin log sync...\nDEBUG LogTrace OUTPUT: end log sync.\nDEBUG LogTrace OUTPUT: Write log record: tranId=14527 instant: (24,61) length: 1\n7\nEndXact null Committed : transactionStatus =  Committed\n\n\n\n---\n\nC:\\suresht\\databases>java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij\nij version 10.1\nij> call SYSCS_UTIL.SYSCS_INPLACE_COMPRESS_TABLE('APP' , 'T1' , 1 , 1, 1) ;\nIJ ERROR: Unable to establish connection\nij> connect 'jdbc:derby:wombat';\nERROR XJ040: Failed to start database 'wombat', see the next exception for detai\nls.\nERROR XSDB1: Unknown page format at page Page(102,Container(0, 768))\nij>\n\nWhat was done on the DB :\n$ rm -rf wombat\n$ ij\n\nC:\\suresht\\databases>rem set DERBY_INSTALL=\n\nC:\\suresht\\databases>java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij\nij version 10.1\nij> Terminate batch job (Y/N)? ^C\n\n$ ij\n\nC:\\suresht\\databases>rem set DERBY_INSTALL=\n\nC:\\suresht\\databases>java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij\nij version 10.1\nij> connect 'jdbc:derby:wombat;create=true';\nij> create table t1(a int ) ;\n0 rows inserted/updated/deleted\nij> insert into t1 values(1) ;\n1 row inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n1 row inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n2 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n4 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n8 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n16 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n32 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n64 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n128 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n256 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n512 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n1024 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n2048 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n4096 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n8192 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n16384 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n32768 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n65536 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n131072 rows inserted/updated/deleted\nij> insert into t1 select a + 1 from t1 ;\n262144 rows inserted/updated/deleted\nij> commit ;\nij> delete from t1 ;\n524288 rows inserted/updated/deleted\nij>  select * from new org.apache.derby.diag.SpaceTable('T1') ;\nERROR 42X01: Syntax error: Encountered \"<EOF>\" at line 1, column 57.\nij>  select * from new org.apache.derby.diag.SpaceTable('T1') t ;\nCONGLOMERATENAME\n                                                |ISIND&|NUMALLOCATEDPAGES   |NUM\nFREEPAGES        |NUMUNFILLEDPAGES    |PAGESIZE   |ESTIMSPACESAVING\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------------------\n-----------------------------------------------------------------------\nT1\n                                                |0     |1                   |382\n6                |1                   |4096       |15671296\n\n1 row selected\nij> select NUMALLOCATEDPAGES from new org.apache.derby.diag.SpaceTable('T1') t ;\n\nNUMALLOCATEDPAGES\n--------------------\n1\n\n1 row selected\nij> select NUMAFREEPAGES from new org.apache.derby.diag.SpaceTable('T1') t ;\nERROR 42X04: Column 'NUMAFREEPAGES' is either not in any table in the FROM list\nor appears within a join specification and is outside the scope of the join spec\nification or appears in a HAVING clause and is not in the GROUP BY list. If this\n is a CREATE or ALTER TABLE  statement then 'NUMAFREEPAGES' is not a column in t\nhe target table.\nij> select NUMFREEPAGES from new org.apache.derby.diag.SpaceTable('T1') t ;\nNUMFREEPAGES\n--------------------\n3826\n\n1 row selected\nij>  call SYSCS_UTIL.SYSCS_INPLACE_COMPRESS_TABLE('APP' , 'T1' , 1 , 1, 1) ;\n0 rows inserted/updated/deleted\nij> select NUMFREEPAGES from new org.apache.derby.diag.SpaceTable('T1') t ;\nNUMFREEPAGES\n--------------------\n0\n\n1 row selected\nij> select * from new org.apache.derby.diag.SpaceTable('T1') t ;\nCONGLOMERATENAME\n                                                |ISIND&|NUMALLOCATEDPAGES   |NUM\nFREEPAGES        |NUMUNFILLEDPAGES    |PAGESIZE   |ESTIMSPACESAVING\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------------------\n-----------------------------------------------------------------------\nT1\n                                                |0     |1                   |0\n                 |1                   |4096       |0\n\n1 row selected\nij> ^CTerminate batch job (Y/N)? ^C\n\n$ ij\\\n>\n$ ij\n\nC:\\suresht\\databases>rem set DERBY_INSTALL=\n\nC:\\suresht\\databases>java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij\nij version 10.1\nij> connect 'jdbc:derby:wombat';\nij> select * from t1 ;\nA\n-----------\n\n0 rows selected\nij> insert into t1 values(1) ;\n1 row inserted/updated/deleted\nij> insert into t1 select * from t1 ;\n1 row inserted/updated/deleted\nij> insert into t1 select * from t1 ;\n2 rows inserted/updated/deleted\nij> insert into t1 select * from t1 ;\n4 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n8 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n16 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n32 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n64 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n128 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n256 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n512 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n1024 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n2048 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n4096 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n8192 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n16384 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n32768 rows inserted/updated/deleted\nij> insert into t1 select a+1 from t1 ;\n65536 rows inserted/updated/deleted\nij> delete from t1 ;\n131072 rows inserted/updated/deleted\nij> select * from new org.apache.derby.diag.SpaceTable('T1') t ;\nCONGLOMERATENAME\n                                                |ISIND&|NUMALLOCATEDPAGES   |NUM\nFREEPAGES        |NUMUNFILLEDPAGES    |PAGESIZE   |ESTIMSPACESAVING\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------------------\n-----------------------------------------------------------------------\nT1\n                                                |0     |1                   |956\n                 |0                   |4096       |3915776\n\n1 row selected\nij>  call SYSCS_UTIL.SYSCS_INPLACE_COMPRESS_TABLE('APP' , 'T1' , 1 , 1, 1) ;\n0 rows inserted/updated/deleted\nij> Terminate batch job (Y/N)? ^C\n\n$ ij\n\nC:\\suresht\\databases>rem set DERBY_INSTALL=\n\nC:\\suresht\\databases>java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij\nij version 10.1\nij> call SYSCS_UTIL.SYSCS_INPLACE_COMPRESS_TABLE('APP' , 'T1' , 1 , 1, 1) ;\nIJ ERROR: Unable to establish connection\nij> connect 'jdbc:derby:wombat';\nERROR XJ040: Failed to start database 'wombat', see the next exception for detai\nls.\nERROR XSDB1: Unknown page format at page Page(102,Container(0, 768))\nij>\n\nStacks:\n pageVersion 8611 :  Change page allocation status of 102 to 1(undo 0) instant =\n (23,6494) logEnd = (23,6536) logIn at 22 available 4\nDEBUG LogTrace OUTPUT: scanned 12606 : Page Operation: Page(102,Container(0, 768\n)) pageVersion 412 : Invalidate Page - it has been deallocated instant = (23,653\n6) logEnd = (23,6574) logIn at 18 available 4\n\n------------  BEGIN SHUTDOWN ERROR STACK -------------\n\nERROR XSLA7: Cannot redo operation Page Operation: Page(102,Container(0, 768)) p\nageVersion 412 : Invalidate Page - it has been deallocated in the log.\n        at org.apache.derby.iapi.error.StandardException.newException(StandardEx\nception.java:315)\n        at org.apache.derby.impl.store.raw.log.FileLogger.redo(FileLogger.java:1\n515)\n        at org.apache.derby.impl.store.raw.log.LogToFile.recover(LogToFile.java:\n798)\n        at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java:323)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j\nava:1985)\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi\nce.java:290)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo\nnitor.java:539)\n        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni\ntor.java:418)\n        at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessMan\nager.java:994)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j\nava:1985)\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi\nce.java:290)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo\nnitor.java:539)\n        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni\ntor.java:418)\n        at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java:7\n57)\n        at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:178)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j\nava:1985)\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi\nce.java:290)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMo\nnitor.java:1832)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderServi\nce(BaseMonitor.java:1698)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndSta\nrtService(BaseMonitor.java:1577)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer\nvice(BaseMonitor.java:996)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer\nvice(BaseMonitor.java:988)\n        at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService\n(Monitor.java:533)\n        at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnecti\non.java:1551)\n        at org.apache.derby.impl.jdbc.EmbedConnection.<init>(EmbedConnection.jav\na:196)\n        at org.apache.derby.impl.jdbc.EmbedConnection30.<init>(EmbedConnection30\n.java:72)\n        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:73\n)\n        at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:183)\n        at java.sql.DriverManager.getConnection(DriverManager.java:512)\n        at java.sql.DriverManager.getConnection(DriverManager.java:140)\n        at org.apache.derby.impl.tools.ij.ij.dynamicConnection(ij.java:836)\n        at org.apache.derby.impl.tools.ij.ij.ConnectStatement(ij.java:698)\n        at org.apache.derby.impl.tools.ij.ij.ijStatement(ij.java:528)\n        at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:289)\n        at org.apache.derby.impl.tools.ij.Main.go(Main.java:203)\n        at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:169)\n        at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)\n        at org.apache.derby.tools.ij.main(ij.java:60)\n============= begin nested exception, level (1) ===========\nERROR XSDB1: Unknown page format at page Page(102,Container(0, 768))\n        at org.apache.derby.iapi.error.StandardException.newException(StandardEx\nception.java:315)\n        at org.apache.derby.impl.store.raw.data.CachedPage.changeInstanceTo(Cach\nedPage.java:315)\n        at org.apache.derby.impl.store.raw.data.CachedPage.setIdentity(CachedPag\ne.java:195)\n        at org.apache.derby.impl.services.cache.CachedItem.takeOnIdentity(Cached\nItem.java:235)\n        at org.apache.derby.impl.services.cache.Clock.addEntry(Clock.java:798)\n        at org.apache.derby.impl.services.cache.Clock.find(Clock.java:303)\n        at org.apache.derby.impl.store.raw.data.FileContainer.getAnyPage(FileCon\ntainer.java:2430)\n        at org.apache.derby.impl.store.raw.data.BaseContainer.getAnyPage(BaseCon\ntainer.java:473)\n        at org.apache.derby.impl.store.raw.data.BaseContainerHandle.getAnyPage(B\naseContainerHandle.java:590)\n        at org.apache.derby.impl.store.raw.data.PageBasicOperation.findpage(Page\nBasicOperation.java:303)\n        at org.apache.derby.impl.store.raw.data.PageBasicOperation.needsRedo(Pag\neBasicOperation.java:159)\n        at org.apache.derby.impl.store.raw.log.FileLogger.redo(FileLogger.java:1\n394)\n        at org.apache.derby.impl.store.raw.log.LogToFile.recover(LogToFile.java:\n798)        at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java:323)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j\nava:1985)\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi\nce.java:290)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo\nnitor.java:539)\n        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni\ntor.java:418)\n        at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessMan\nager.java:994)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j\nava:1985)\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi\nce.java:290)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo\nnitor.java:539)\n        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni\ntor.java:418)\n        at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java:7\n57)\n        at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:178)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j\nava:1985)\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi\nce.java:290)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMo\nnitor.java:1832)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderServi\nce(BaseMonitor.java:1698)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndSta\nrtService(BaseMonitor.java:1577)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer\nvice(BaseMonitor.java:996)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer\nvice(BaseMonitor.java:988)\n        at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService\n(Monitor.java:533)\n        at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnecti\non.java:1551)\n        at org.apache.derby.impl.jdbc.EmbedConnection.<init>(EmbedConnection.jav\na:196)\n        at org.apache.derby.impl.jdbc.EmbedConnection30.<init>(EmbedConnection30\n.java:72)\n        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:73\n)\n        at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:183)\n        at java.sql.DriverManager.getConnection(DriverManager.java:512)\n        at java.sql.DriverManager.getConnection(DriverManager.java:140)\n        at org.apache.derby.impl.tools.ij.ij.dynamicConnection(ij.java:836)\n        at org.apache.derby.impl.tools.ij.ij.ConnectStatement(ij.java:698)\n        at org.apache.derby.impl.tools.ij.ij.ijStatement(ij.java:528)\n        at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:289)\n        at org.apache.derby.impl.tools.ij.Main.go(Main.java:203)\n        at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:169)\n        at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)\n        at org.apache.derby.tools.ij.main(ij.java:60)\n============= end nested exception, level (1) ===========\n============= begin nested exception, level (2) ===========\nERROR XBM0U: No class was registered for identifier 0.\n        at org.apache.derby.iapi.error.StandardException.newException(StandardEx\nception.java:311)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.classFromIdentifie\nr(BaseMonitor.java:648)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.newInstanceFromIde\nntifier(BaseMonitor.java:661)\n        at org.apache.derby.iapi.services.monitor.Monitor.newInstanceFromIdentif\nier(Monitor.java:618)\n        at org.apache.derby.impl.store.raw.data.CachedPage.changeInstanceTo(Cach\nedPage.java:303)\n        at org.apache.derby.impl.store.raw.data.CachedPage.setIdentity(CachedPag\ne.java:195)\n        at org.apache.derby.impl.services.cache.CachedItem.takeOnIdentity(Cached\nItem.java:235)\n        at org.apache.derby.impl.services.cache.Clock.addEntry(Clock.java:798)\n        at org.apache.derby.impl.services.cache.Clock.find(Clock.java:303)\n--More--        at org.apache.derby.impl.store.raw.data.FileContainer.getAnyPage(FileCon\ntainer.java:2430)\n        at org.apache.derby.impl.store.raw.data.BaseContainer.getAnyPage(BaseCon\ntainer.java:473)\n        at org.apache.derby.impl.store.raw.data.BaseContainerHandle.getAnyPage(B\naseContainerHandle.java:590)\n        at org.apache.derby.impl.store.raw.data.PageBasicOperation.findpage(Page\nBasicOperation.java:303)\n        at org.apache.derby.impl.store.raw.data.PageBasicOperation.needsRedo(Pag\neBasicOperation.java:159)\n        at org.apache.derby.impl.store.raw.log.FileLogger.redo(FileLogger.java:1\n394)\n        at org.apache.derby.impl.store.raw.log.LogToFile.recover(LogToFile.java:\n798)\n        at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java:323)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j\nava:1985)\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi\nce.java:290)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo\nnitor.java:539)\n        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni\ntor.java:418)\n        at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessMan\nager.java:994)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j\nava:1985)\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi\nce.java:290)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo\nnitor.java:539)\n        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni\ntor.java:418)\n        at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java:7\n57)\n        at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:178)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j\nava:1985)\n        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi\nce.java:290)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMo\nnitor.java:1832)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderServi\nce(BaseMonitor.java:1698)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndSta\nrtService(BaseMonitor.java:1577)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer\nvice(BaseMonitor.java:996)\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer\nvice(BaseMonitor.java:988)\n        at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService\n(Monitor.java:533)\n        at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnecti\non.java:1551)\n        at org.apache.derby.impl.jdbc.EmbedConnection.<init>(EmbedConnection.jav\na:196)\n        at org.apache.derby.impl.jdbc.EmbedConnection30.<init>(EmbedConnection30\n.java:72)\n        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:73\n)\n        at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:183)\n        at java.sql.DriverManager.getConnection(DriverManager.java:512)\n        at java.sql.DriverManager.getConnection(DriverManager.java:140)\n        at org.apache.derby.impl.tools.ij.ij.dynamicConnection(ij.java:836)\n        at org.apache.derby.impl.tools.ij.ij.ConnectStatement(ij.java:698)\n        at org.apache.derby.impl.tools.ij.ij.ijStatement(ij.java:528)\n        at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:289)\n        at org.apache.derby.impl.tools.ij.Main.go(Main.java:203)\n        at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:169)\n        at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)\n        at org.apache.derby.tools.ij.main(ij.java:60)\n============= end nested exception, level (2) ===========\n--More--\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"39733","summary":" Unknown page format  error  while doing recovery after a  a crash while doing  in place compress.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Windows.","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":5,"total":5,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311387/comment/12313656","id":"12313656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"wombat..jar -  database  which got unknown page format error. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2005-06-15T08:16:11.000+0000","updated":"2005-06-15T08:16:11.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311387/comment/12313657","id":"12313657","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"derby2.log -  partial log file with log trace on. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2005-06-15T08:23:29.000+0000","updated":"2005-06-15T08:23:29.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311387/comment/12314659","id":"12314659","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"The problem was that redo recovery encountered a page that no longer existed in the file after a \r\ncompress space that removed the page from the file.  To avoid the issue, forced a checkpoint\r\nbefore the compress.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2005-06-29T09:39:02.000+0000","updated":"2005-06-29T09:39:02.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311387/comment/12420360","id":"12420360","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Assigning to Store component.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2006-07-11T23:58:14.000+0000","updated":"2006-07-11T23:58:14.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12311387/comment/12551276","id":"12551276","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"This issue has been resolved for over a year with no further movement. Closing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2007-12-13T09:04:40.250+0000","updated":"2007-12-13T09:04:40.250+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-361/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i075yv:"}}