{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12405641","self":"https://issues.apache.org/jira/rest/api/latest/issue/12405641","key":"DERBY-3898","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315564","id":"12315564","description":"First release on the 10.7 branch.","name":"10.7.1.1","archived":false,"released":true,"releaseDate":"2010-12-14"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2008-10-03 01:01:17.683","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"23908","customfield_12310222":"3_*:*_1_*:*_2867164678_*|*_1_*:*_1_*:*_55713973776_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-08-11T17:04:58.100+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-3898/watchers","watchCount":0,"isWatching":false},"created":"2008-10-02T16:32:39.646+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":["BLOB"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"7.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313142","id":"12313142","description":"","name":"10.3.3.0","archived":false,"released":true,"releaseDate":"2008-05-12"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313345","id":"12313345","description":"","name":"10.4.2.0","archived":false,"released":true,"releaseDate":"2008-09-05"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313771","id":"12313771","description":"build: 764942, 14/Apr/09. Voted release: 28/Apr/09. Announced: 1/May/09","name":"10.5.1.1","archived":false,"released":true,"releaseDate":"2009-04-28"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313727","id":"12313727","description":"Feature release","name":"10.6.1.0","archived":false,"released":true,"releaseDate":"2010-05-18"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12321883","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12321883","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"inwardIssue":{"id":"32841","key":"DERBY-310","self":"https://issues.apache.org/jira/rest/api/2/issue/32841","fields":{"summary":"Document and/or change Derby client code to match behavior with Embedded driver where possible.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}},{"id":"12333760","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12333760","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"inwardIssue":{"id":"12461296","key":"DERBY-4609","self":"https://issues.apache.org/jira/rest/api/2/issue/12461296","fields":{"summary":"Derby Test and Fix GSOC 2010 project","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/3","id":"3","description":"A task that needs to be done.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/task.png","name":"Task","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-11-29T14:21:37.192+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11407","id":"11407","name":"JDBC"}],"timeoriginalestimate":null,"description":"Blob.setBytes behaves differently with the embedded driver and the client driver.\r\nAssume a 1 byte array and a specified length of 2: Blob.setBytes(1, new byte[] {0x69}, 0, 2)\r\nEmbedded: IndexOutOfBoundsException (from java.io.RandomAccessFile.writeBytes or System.arraycopy)\r\nClient: succeeds, returns insertion count 1\r\n\r\nThe behavior should be made consistent, but what is the correct behavior?\r\n\r\nFrom the Blob.setBytes JavaDoc:\r\n\"Writes all or part of the given byte array to the BLOB value that this Blob object represents and returns the number of bytes written. Writing starts at position pos in the BLOB  value; len bytes from the given byte array are written. The array of bytes will overwrite the existing bytes in the Blob object starting at the position pos. If the end of the Blob value is reached while writing the array of bytes, then the length of the Blob value will be increased to accomodate the extra bytes.\"","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10363","value":"Embedded/Client difference","id":"10363"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"37834","summary":"Blob.setBytes differs between embedded and client driver when the specified length is invalid","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"subtasks":[],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10423","value":"Newcomer","id":"10423"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10052","value":"Normal","id":"10052"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":18,"total":18,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12636507","id":"12636507","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"I would say Embedded is correct, taking System.arraycopy as an example of Java \"style\" in this\r\nrespect (leniency of \"array copy\" methods, of which setBytes is an instance). \r\nLooking at Arrays#fill, it is similarly restrictive. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2008-10-03T01:01:17.683+0000","updated":"2008-10-03T01:01:17.683+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12644108","id":"12644108","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I found that DB2 with JCC does not throw an exception.  I am curious how other databases behave.  I am attaching a program to try in case someone else has access to another db and wants to try.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2008-10-30T21:07:34.641+0000","updated":"2008-10-30T21:07:34.641+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12644282","id":"12644282","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"MySQL (Connector/J 5.1.7) throws an IndexOutOfBoundsException.\r\nPostgreSQL (JDBC4 Driver, Version 8.3-603) succeeds and returns 2 (two bytes are inserted, the extra byte is 0).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2008-10-31T13:19:14.220+0000","updated":"2008-10-31T13:19:14.220+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12726916","id":"12726916","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"body":"Triaged July 3, 2009: Assigned normal urgency. Marked as Newcomer, as I think this is easy to fix once the correct behavior has been determined.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"created":"2009-07-03T11:48:01.061+0000","updated":"2009-07-03T11:48:01.061+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12728772","id":"12728772","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Changing to normal urgency as comments say that was the intent for triage for 10.5.2\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2009-07-08T16:32:32.431+0000","updated":"2009-07-08T16:32:32.431+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12886709","id":"12886709","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"body":"When run org.apache.derbyTesting.functionTests.tests.jdbc4.BlobTest against Revision 962387, I have 7 errors on testFreeandMethodsAfterCallingFree(), testGetBinaryStreamLongLastByte(), testGetBinaryStreamLongDrain(), testSetBytesReturnValueLargeStateChange(), testLockingAfterFree(), testLockingAfterFreeWithRR() and testLockingAfterFreeWithDirtyReads(). They all are in NetworkServer mode, and throw the identifical java.lang.NoSuchMethodError: org.apache.derby.client.net.NetStatem\r\nentRequest.writeScalarStream(ZZIILjava/io/InputStream;ZI)V. \r\n\r\nexception snippet is below:\r\n4) testGetBinaryStreamLongLastByte(org.apache.derbyTesting.functionTests.tests.j\r\ndbc4.BlobTest)java.lang.NoSuchMethodError: org.apache.derby.client.net.NetStatem\r\nentRequest.writeScalarStream(ZZIILjava/io/InputStream;ZI)V\r\n        at org.apache.derby.client.net.NetStatementRequest.buildEXTDTA(NetStatem\r\nentRequest.java:983)\r\n        at org.apache.derby.client.net.NetStatementRequest.writeExecute(NetState\r\nmentRequest.java:152)\r\n        at org.apache.derby.client.net.NetPreparedStatement.writeExecute_(NetPre\r\nparedStatement.java:178)\r\n        at org.apache.derby.client.am.PreparedStatement.writeExecute(PreparedSta\r\ntement.java:1787)\r\n        at org.apache.derby.client.am.PreparedStatement.flowExecute(PreparedStat\r\nement.java:2017)\r\n        at org.apache.derby.client.am.PreparedStatement.executeX(PreparedStateme\r\nnt.java:1580)\r\n        at org.apache.derby.client.am.PreparedStatement.execute(PreparedStatemen\r\nt.java:1565)\r\n        at org.apache.derbyTesting.functionTests.tests.jdbc4.BlobTest.testGetBin\r\naryStreamLongLastByte(BlobTest.java:451)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:\r\n109)\r\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\r\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:23)\r\n        at junit.extensions.TestSetup.run(TestSetup.java:27)\r\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57\r\n)\r\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\r\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:23)\r\n        at junit.extensions.TestSetup.run(TestSetup.java:27)\r\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\r\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:23)\r\n        at junit.extensions.TestSetup.run(TestSetup.java:27)\r\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57\r\n)\r\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\r\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:23)\r\n        at junit.extensions.TestSetup.run(TestSetup.java:27)\r\n        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57\r\n)\r\n\r\n\r\nBut I have found writeScalarStream() method in NetStatementRequest actually. Is it OK on your computor, please?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"created":"2010-07-09T12:41:27.137+0000","updated":"2010-07-09T12:41:27.137+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12886712","id":"12886712","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"body":"In derby-3898-testcase.patch, I have added 7 test cases in BlobTest.java to test the boundary of setBytes() method, each of them run in both Embed and NetworkServer modes. For the current revision, I get 2 erors and 1 failure. It suggests that there are 3 differences between embedded and client driver, 2 of them are about length, and the third is about offset. In particular, it works like below:\r\n\r\na.\r\npublic void testSetBytesWithTooLongLength() throws SQLException {\r\n        Blob blob = getConnection().createBlob();\r\n        \r\n        try{\r\n            blob.setBytes(1, new byte[] {0x69}, 0, 2);\r\n            fail(\"IndexOutOfBoundsException should be thrown out for \" +\r\n                    \"wrong argument for Blob.setBytes()!\");\r\n        } catch (IndexOutOfBoundsException e) {\r\n            assertTrue(true);\r\n        }\r\n    }\r\n   This is what this issue is talking about. It has been agrred that \"Embedded is correct\" as it throws a IndexOutOfBoundsException by System.arrayCopy(). However, should it be wrapped into a SQLException with SQLState.BLOB_LENGTH_TOO_LONG to provide exact info.\r\n\r\nb.\r\npublic void testSetBytesWithNonPositiveLength() throws SQLException {\r\n        Blob blob = getConnection().createBlob();\r\n        \r\n        try{\r\n            blob.setBytes(1, new byte[] {0x69}, 0, -1);\r\n        } catch (SQLException sqle) {\r\n            assertSQLState(\"XJ071\", sqle);\r\n        }\r\n    }\r\nIt passes in NetworkServer mode, but fails in Embed mode by throwing an ArrayIndexOutOfBoundsException. Obviously, in both modes Blob.setByets() has catch the nonpositive length, but it doesn't give a consistent exception. Maybe it's best to also throw out a SQLException. in Embed mode.\r\n\r\nc.\r\npublic void testSetBytesWithInvalidOffset() throws SQLException {\r\n        Blob blob = getConnection().createBlob();\r\n        \r\n        try {\r\n            blob.setBytes(1, new byte[] {0xb}, -1, 1);\r\n        } catch (SQLException sqle) {\r\n            assertSQLState(\"XJ078\", sqle);\r\n        }\r\n        \r\n        try {\r\n            blob.setBytes(1, new byte[] {0xb}, 2, 1);\r\n        } catch (SQLException sqle) {\r\n            assertSQLState(\"XJ078\", sqle);\r\n        }\r\n        \r\n        try {\r\n            blob.setBytes(1, new byte[] {0xb, 0xe}, Integer.MAX_VALUE, 1);\r\n        } catch (SQLException sqle) {\r\n            assertSQLState(\"XJ078\", sqle);\r\n        }\r\n    }\r\nAs b., c. passes in NetworkServer mode, but fails in Embed mode by throwing an ArrayIndexOutOfBoundsException. Obviously, in both modes Blob.setByets() has catch the nonpositive length, but it doesn't give a consistent exception. Maybe it's best to also throw out a SQLException in Embed mode.\r\n\r\nShould we create two new issues for b. and c. and provide the same patch for 3 of them? And welcome to enrich relative test cases before patch available!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"created":"2010-07-09T12:51:05.814+0000","updated":"2010-07-09T12:51:05.814+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12887727","id":"12887727","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"body":"Hi Yun,\r\n\r\nI'm really not sure what to say here. Both approaches have merit:\r\n o ArrayIndexOutOfBounds : well known pattern from Java, may simplify the input validation code in Derby\r\n o SQLException : follows JDBC pattern, higher chance that the exception will be caught and dealt with\r\n\r\nSince the problem in this case isn't really database related, I'm leaning towards AIOOB (as Dag commented too). Funnily enough, the embedded driver is throwing an SQLException, catching it and then throwing an AIOOB.\r\nIf anyone else has opinions it would be nice if you share them now such that we can allow Yun to continue work on this issue.\r\n\r\nWhen it comes to the test code, I have the following comments:\r\n a) I don't see the point of statements like 'assertTrue(true)'. Why not simply add a comment?\r\n b) For tests like the one below, you should add a fail() statement in case the setBytes-method doesn't throw an exception.\r\n\r\n+        try {\r\n+            blob.setBytes(1, new byte[] {0xb}, -1, 1);\r\n+        } catch (SQLException sqle) {\r\n+            assertSQLState(\"XJ078\", sqle);\r\n+        }\r\n\r\n c) If the tests don't use any API methods from JDBC 4, we usually add them to jdbcapi instead of jdbc4. That way, the tests are run also when the JDK version is 1.4 or 1.5. Are there any suitable existing test classes in jdbcapi?\r\n\r\nI think the problems you had with NoSuchMethod errors were caused by a bad build. Some times it is good to run 'ant clobber' (or 'ant clobber all buildjars') to recompile all classes.\r\n\r\n\r\nThanks,","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"created":"2010-07-13T12:09:00.151+0000","updated":"2010-07-13T12:09:00.151+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12888321","id":"12888321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"body":"Thanks for your comment, Kristian.\r\n\r\nNoSuchMethod errors have dissappeared after clean and rebuild.\r\n\r\nI agree with your opinion on test code, and will provide a new patch for them.\r\n\r\norg.apache.derbyTesting.functionTests.tests.jdbc4.BlobTest is used to test the JDBC 4.0 specific <code>Blob</code> methods, it does be not suitable to place the additional boundary test cases for setBytes(). Is it OK to use the test class org.apache.derbyTesting.functionTests.tests.jdbc4.BlobSetMethodsTest.java? Now BlobSetMethodsTest has only two test case for Blob.setBytes(), and it only uses a JDBC4 specific mothod Connection.createBlob() , maybe BlobSetMethodsTest can be changed to use only JDBC3 API and  moved into package org.apache.derbyTesting.functionTests.tests.jdbcapi, and insert additional test cases into it?\r\n\r\nOthers' opinions on choice between SQLException and AIOOB is welcome! Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"created":"2010-07-14T12:48:14.738+0000","updated":"2010-07-14T12:48:14.738+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12896352","id":"12896352","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"body":"In the new patch, BlobSetBytesBoundaryTest.java has been added to run Boundary tests for Blob.setBytes(). \r\n\r\nOverall boundary check has been done in Blob.setBytes() and EmbedBlob.setBytes().Now they can perform accordingly, not only for too big length, but also for offset and pos.\r\n\r\nI have run relative tests, they were all OK. Please check it, thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"created":"2010-08-08T13:40:48.359+0000","updated":"2010-08-08T13:40:48.359+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12897340","id":"12897340","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"switching off patch available - I commetted the latest patch with revision 984472.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2010-08-11T17:03:52.178+0000","updated":"2010-08-11T17:03:52.178+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12897341","id":"12897341","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Setting to resolved, but leave this for Kristian (as reporter of the bug) to confirm & close.\r\nDoes this need to get backported?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2010-08-11T17:04:58.061+0000","updated":"2010-08-11T17:04:58.061+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12899351","id":"12899351","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"One small corner case: The patch checks whether (len + offset > bytes.length) is true to detect if the sum of len and offset exceeds the length of the byte buffer. However, if the sum of len and offset is greater than Integer.MAX_VALUE, (len + offset) will overflow and return a negative result. Since a negative value will not be considered greater than bytes.length, the check will fail to detect that the sum is too big.\r\n\r\nExample that shows the bug:\r\n\r\n    blob.setBytes(1, new byte[100], 10, Integer.MAX_VALUE);\r\n\r\nThe above statement will fail with an IndexOutOfBoundsException on the embedded driver. On the client driver, no error is raised at all. The expected result is an SQLException.\r\n\r\nI've attached a patch which fixes the problem by changing (len + offset > bytes.length) to (len > bytes.length - offset). Since we know at this point in the code that both bytes.length and offset are non-negative, we also know that (bytes.length - offset) cannot overflow. The patch also adds a test case for the bug.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-08-17T09:06:42.677+0000","updated":"2010-08-17T09:06:42.677+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12899362","id":"12899362","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"All the regression tests ran cleanly with the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-08-17T10:07:59.463+0000","updated":"2010-08-17T10:07:59.463+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12899366","id":"12899366","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"One other small issue. BlobSetBytesBoundaryTest was added to the list of tests that are not run on Java ME. I successfully ran the test on phoneME, so I assume that was unintentional. The attached patch (enable-javame.diff) adds the test to the jdbcapi suite also on Java ME. Committed revision 986260.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-08-17T10:20:53.748+0000","updated":"2010-08-17T10:20:53.748+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12899372","id":"12899372","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"body":"That's right, thanks, Knut.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yunlee","name":"yunlee","emailAddress":"yun dot lee dot bj at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yun Lee","active":true},"created":"2010-08-17T11:04:04.553+0000","updated":"2010-08-17T11:04:04.553+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12899429","id":"12899429","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Committed overflow.diff with revision 986345.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-08-17T14:58:50.278+0000","updated":"2010-08-17T14:58:50.278+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12405641/comment/12928571","id":"12928571","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"body":"As an invalid length must be specified to trigger this difference between the drivers, backporting it is not justified for me.\r\nIf anyone else want to do so, feel free to reopen the issue and do the work.\r\n\r\nClosing issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"created":"2010-11-05T12:15:56.919+0000","updated":"2010-11-05T12:15:56.919+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-3898/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06u8v:"}}