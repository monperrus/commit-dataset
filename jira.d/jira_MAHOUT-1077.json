{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12609135","self":"https://issues.apache.org/jira/rest/api/latest/issue/12609135","key":"MAHOUT-1077","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12320153","id":"12320153","description":"The release will stabilize core components, improve performances and adds new streaming algorithms. Unmaintained code is getting killed as part of this","name":"0.8","archived":false,"released":true,"releaseDate":"2013-07-25"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-10-21 21:00:58.05","customfield_12312323":null,"customfield_12310420":"242154","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_2673945197_*|*_1_*:*_1_*:*_7211113655_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2013-01-18T07:45:22.712+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-1077/watchers","watchCount":4,"isWatching":false},"created":"2012-09-25T21:54:23.897+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":["patch"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12319261","id":"12319261","description":"Primarily a cleanup and refactoring release. Some new functionality which has been previously completed and tested may be introduced.","name":"0.7","archived":false,"released":true,"releaseDate":"2012-05-15"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ssc","name":"ssc","emailAddress":"ssc at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ssc&avatarId=14353","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ssc&avatarId=14353","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ssc&avatarId=14353","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ssc&avatarId=14353"},"displayName":"Sebastian Schelter","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-02-03T08:06:06.586+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312151","id":"12312151","name":"Clustering","description":"Bugs related to any of the clustering packages"}],"timeoriginalestimate":null,"description":"Using example data at:  https://cwiki.apache.org/MAHOUT/spectral-clustering.html\r\n\r\n0,0,0\r\n0,1,0.8\r\n0,2,0.5\r\n1,0,0.8\r\n1,1,0\r\n1,2,0.9\r\n2,0,0.5\r\n2,1,0.9\r\n2,2,0\r\n\r\nUsing 0.7 distribution.\r\n\r\nmahout spectralkmeans -i file:///Users/phubenig/affExGraph.txt -o file:///Users/phubenig/spectralEx -k 2 -d 3 -x 30 -cd 0.01   -ow\r\n\r\n12/09/05 16:14:00 INFO mapred.JobClient:     Combine output records=1\r\n12/09/05 16:14:00 INFO mapred.JobClient:     Reduce output records=1\r\n12/09/05 16:14:00 INFO mapred.JobClient:     Map output records=1\r\n12/09/05 16:14:00 INFO lanczos.LanczosSolver: 2 passes through the corpus so far...\r\nException in thread \"main\" org.apache.mahout.math.IndexException: Index 2 is outside allowable range of [0,2)\r\n    at org.apache.mahout.math.AbstractMatrix.set(AbstractMatrix.java:479)\r\n    at org.apache.mahout.math.decomposer.lanczos.LanczosSolver.solve(LanczosSolver.java:132)\r\n    at org.apache.mahout.math.hadoop.decomposer.DistributedLanczosSolver.runJob(DistributedLanczosSolver.java:73)\r\n    at org.apache.mahout.clustering.spectral.kmeans.SpectralKMeansDriver.run(SpectralKMeansDriver.java:148)\r\n    at org.apache.mahout.clustering.spectral.kmeans.SpectralKMeansDriver.run(SpectralKMeansDriver.java:86)\r\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)\r\n    at org.apache.mahout.clustering.spectral.kmeans.SpectralKMeansDriver.main(SpectralKMeansDriver.java:53)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    at java.lang.reflect.Method.invoke(Method.java:597)\r\n    at org.apache.hadoop.util.ProgramDriver$ProgramDescription.invoke(ProgramDriver.java:68)\r\n    at org.apache.hadoop.util.ProgramDriver.driver(ProgramDriver.java:139)\r\n    at org.apache.mahout.driver.MahoutDriver.main(MahoutDriver.java:195)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    at java.lang.reflect.Method.invoke(Method.java:597)\r\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:156)\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"12701","summary":"apparent spectral kmeans bug","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phubenig","name":"phubenig","emailAddress":"phubenig at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Hubenig","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phubenig","name":"phubenig","emailAddress":"phubenig at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Hubenig","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":3,"total":3,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12609135/comment/13481067","id":"13481067","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ddavies","name":"ddavies","emailAddress":"dan dot davies at parc dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel Davies","active":true},"body":"I'm seeing exactly the same bug on a dataset with 936 points.  The LanczosSolver crashes attempting to access an array element that's one larger than the desired number of clusters specified by the -k switch.  The problem was also noted by Dan Brinkley as noted in this mailing list message:\r\n\r\nFrom\tDan Brickley <dan...@danbri.org>\r\nSubject\tSpectral Kmeans wiki category data test - can you confirm if you ran it to completion?\r\nDate\tThu, 21 Jun 2012 19:54:58 GMT\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ddavies","name":"ddavies","emailAddress":"dan dot davies at parc dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel Davies","active":true},"created":"2012-10-21T21:00:58.050+0000","updated":"2012-10-21T21:00:58.050+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12609135/comment/13534765","id":"13534765","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dreamquster","name":"dreamquster","emailAddress":"sdfox_mahout at 163 dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sdfox","active":true},"body":"The dimension of 'triDiag' matrix in LanczosState  and  the 'desiredRank' in LanczosSolver was inconsistent.\r\nIt caused the LanczosSolver set the element with index which is out of bound of triDiag.\r\nShould it be the LanczosSolver use the dimension of matrix in LanczosState  as desiredRank to avoid using incorrectly this solver?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dreamquster","name":"dreamquster","emailAddress":"sdfox_mahout at 163 dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"sdfox","active":true},"created":"2012-12-18T08:58:50.051+0000","updated":"2012-12-18T08:58:50.051+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12609135/comment/13557067","id":"13557067","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Mahout-Quality #1828 (See [https://builds.apache.org/job/Mahout-Quality/1828/])\r\n    MAHOUT-1077 apparent spectral kmeans bug (Revision 1435045)\r\n\r\n     Result = SUCCESS\r\nssc : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1435045\r\nFiles : \r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/spectral/kmeans/SpectralKMeansDriver.java\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2013-01-18T09:15:04.654+0000","updated":"2013-01-18T09:15:04.654+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-1077/votes","votes":2,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i02j4v:"}}