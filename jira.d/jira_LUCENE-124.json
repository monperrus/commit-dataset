{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12314274","self":"https://issues.apache.org/jira/rest/api/latest/issue/12314274","key":"LUCENE-124","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314025","id":"12314025","description":"Alpha release of the 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2003-09-10 22:56:36.0","customfield_12312323":null,"customfield_12310420":"13626","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_210271966845_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-03-08T20:39:30.845+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-124/watchers","watchCount":1,"isWatching":false},"created":"2003-07-10T03:46:44.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12310284","id":"12310284","description":"First Apache release","name":"1.2","archived":true,"released":true,"releaseDate":"2002-06-13"}],"issuelinks":[{"id":"12322290","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12322290","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12314479","key":"LUCENE-329","self":"https://issues.apache.org/jira/rest/api/2/issue/12314479","fields":{"summary":"Fuzzy query scoring issues","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-10T10:44:25.371+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310235","id":"12310235","name":"core/search","description":"issues with search code"}],"timeoriginalestimate":null,"description":"According to the website's \"Query Syntax\" page, fuzzy searches are given a\r\nboost of 0.2. I've found this not to be the case, and have seen situations where\r\nexact matches have lower relevance scores than fuzzy matches.\r\n\r\nRather than getting a boost of 0.2, it appears that all variations on the term\r\nare first found in the model, where dist* > 0.5.\r\n\r\n* dist = levenshteinDistance / length of min(termlength, variantlength)\r\n\r\nThis then leads to a boolean OR search of all the variant terms, each of whose\r\nboost is set to (dist - 0.5)*2 for that variant.\r\n\r\nThe upshot of all of this is that there are many cases where a fuzzy match will\r\nget a higher relevance score than an exact match.\r\n\r\nSee this email for a test case to reproduce this anomalous behaviour.\r\nhttp://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02819.html\r\n\r\nHere is a candidate patch to address the issue -\r\n\r\n*** lucene-1.2\\src\\java\\org\\apache\\lucene\\search\\FuzzyTermEnum.java\tSun Jun 09\r\n13:47:54 2002\r\n--- lucene-1.2-modified\\src\\java\\org\\apache\\lucene\\search\\FuzzyTermEnum.java\tFri\r\nMar 14 11:37:20 2003\r\n***************\r\n*** 99,105 ****\r\n      }\r\n      \r\n      final protected float difference() {\r\n!         return (float)((distance - FUZZY_THRESHOLD) * SCALE_FACTOR);\r\n      }\r\n      \r\n      final public boolean endEnum() {\r\n--- 99,109 ----\r\n      }\r\n      \r\n      final protected float difference() {\r\n! \t\tif (distance == 1.0) {\r\n! \t\t\treturn 1.0f;\r\n! \t\t}\r\n! \t\telse\r\n! \t\t\treturn (float)((distance - FUZZY_THRESHOLD) * SCALE_FACTOR);\r\n      }\r\n      \r\n      final public boolean endEnum() {\r\n***************\r\n*** 111,117 ****\r\n       ******************************/\r\n      \r\n      public static final double FUZZY_THRESHOLD = 0.5;\r\n!     public static final double SCALE_FACTOR = 1.0f / (1.0f - FUZZY_THRESHOLD);\r\n      \r\n      /**\r\n       Finds and returns the smallest of three integers \r\n--- 115,121 ----\r\n       ******************************/\r\n      \r\n      public static final double FUZZY_THRESHOLD = 0.5;\r\n!     public static final double SCALE_FACTOR = 0.2f * (1.0f / (1.0f -\r\nFUZZY_THRESHOLD));\r\n      \r\n      /**\r\n       Finds and returns the smallest of three integers","customfield_10010":21446.0,"timetracking":{},"customfield_12310120":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10120","value":"Patch Available","id":"10120"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"27925","summary":"Fuzzy Searches do not get a boost of 0.2 as stated in \"Query Syntax\" doc","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cormac%40siderean.com","name":"cormac@siderean.com","emailAddress":"cormac at siderean dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cormac Twomey","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cormac%40siderean.com","name":"cormac@siderean.com","emailAddress":"cormac at siderean dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cormac Twomey","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Operating System: All\r\nPlatform: All","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":12,"total":12,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12321341","id":"12321341","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=otis%40apache.org","name":"otis@apache.org","emailAddress":"otis at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Otis Gospodnetic","active":true},"body":"Cormac, the problem you described at\r\nhttp://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02819.html seems clear.\r\n\r\nI do not see any mention of 0.2f boost in any of the *Fuzzy* classes.  This is a\r\ndocumentation bug, which I will fix soon.\r\n\r\nHowever, your fix may still be valid, as exact matches should never have lower\r\nscore than fuzzy ones.  I would be very greatful if you could submit that\r\nlevtest class as a JUnit test, so we can see the bug clearly before applying\r\nyour patch.\r\n\r\nFinally, why did you choose the boost of 0.2?  Why not 0.1 or 0.3 for example? \r\nAnd is it possible that choosing a random(?) number such as 0.2, will work for\r\nyour test document set, but may not work for some other cases?\r\n\r\nThank you.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=otis%40apache.org","name":"otis@apache.org","emailAddress":"otis at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Otis Gospodnetic","active":true},"created":"2003-09-10T22:56:36.000+0000","updated":"2003-09-10T22:56:36.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12321342","id":"12321342","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cormac%40siderean.com","name":"cormac@siderean.com","emailAddress":"cormac at siderean dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cormac Twomey","active":true},"body":"I will work on massaging my test case into a JUnit test.\r\n\r\nMeanwhile, I chose the value of 0.2 simply because it is the documented\r\nbehavior, and therefore I considered that to be the expected, even desired,\r\nbehavior. That said, it does appear to be a randomly chosen value, although not\r\nchosen by me :-)\r\n\r\nFollowing the logic of how the scoring mechanism works (or at least my\r\nunderstanding of it), this is not a universal fix, but rather as I state in my\r\noriginal email on lucene-dev, it mitigates the problem. I chose the fix simply\r\nas it brought the functionality in line with documented behavior.\r\n\r\nThe essence of the problem is the battle in scoring between levenshtein distance\r\n and term frequency - high frequency terms are scored lower than low frequency\r\nterms. A good example of a low frequency term is a typo in a document. If the\r\noriginal correctly spelled word has a very high frequency, the misspelled word\r\nwill come out on top, due to its significantly lower frequency.\r\n\r\nBy setting the boost to 0.2, We at least make it 5 times harder (in terms of\r\nfrequency) for the misspelled item to appear ahead of the correctly spelled\r\nitem. But this clearly means that it will still happen.\r\n\r\n--Cormac","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cormac%40siderean.com","name":"cormac@siderean.com","emailAddress":"cormac at siderean dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cormac Twomey","active":true},"created":"2003-09-11T01:01:49.000+0000","updated":"2003-09-11T01:01:49.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12330223","id":"12330223","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markh","name":"markh","emailAddress":"markharw00d at yahoo dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mark Harwood","active":true},"body":"I would suggest this is a duplicate of http://issues.apache.org/jira/browse/LUCENE-329\r\n\r\nThe idf rating of expanded terms should be the same and not favour rarer terms. I suggest that this applies to all auto-expanding searches eg range queries.\r\n\r\nShould we drop this bug as a duplicate?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markh","name":"markh","emailAddress":"markharw00d at yahoo dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mark Harwood","active":true},"created":"2005-09-23T04:49:15.000+0000","updated":"2005-09-23T04:49:15.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12833856","id":"12833856","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Here is a patch, with a test for the issue.\r\n\r\nThis patch adds TOP_TERMS_CONSTANT_BOOLEAN_REWRITE to complement TOP_TERMS_SCORING_BOOLEAN_REWRITE.\r\n\r\nNote: this solution is different than LUCENE-329, but I think this rewrite method could be useful for other queries as well.\r\n\r\nexample usage:\r\n{code}\r\nFuzzyQuery query = new FuzzyQuery(new Term(\"field\", \"Lucene\"));\r\nquery.setRewriteMethod(MultiTermQuery.TOP_TERMS_CONSTANT_BOOLEAN_REWRITE);\r\nScoreDoc[] hits = searcher.search(query, ...)\r\n ...\r\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2010-02-15T15:46:33.163+0000","updated":"2010-02-15T15:46:33.163+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12833865","id":"12833865","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"I will wait till after the code freeze and commit this in a few days if no one objects.\r\n\r\nI don't claim its a 'best-practice' fix for fuzzy (see LUCENE-329 for ideas on that), I just think TOP_TERMS_CONSTANT_BOOLEAN_REWRITE is a useful complement to TOP_TERMS_SCORING_BOOLEAN_REWRITE, for MultiTermQueries that want the Top-N terms expansion, but the constant score behavior of CONSTANT_BOOLEAN_REWRITE.\r\n\r\nthis patch doesnt change any defaults for fuzzy either. in fact its not specific to fuzzy at all.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2010-02-15T16:02:41.915+0000","updated":"2010-02-15T16:02:41.915+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12833885","id":"12833885","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"uwe pointed out to me, i think there is a naming problem with TOP_TERMS_CONSTANT_BOOLEAN_REWRITE, as the entire booleanquery will not produce the same score like CONSTANT_SCORE_BOOLEAN_QUERY_REWRITE. \r\n\r\nI think the behavior makes sense though, as it wouldnt make sense to use TOP_TERMS without per-term boosting, but we need to fix the naming... and TOP_TERMS_BOOST_BOOLEAN_REWRITE sounds confusing.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2010-02-15T16:51:15.367+0000","updated":"2010-02-15T16:51:15.367+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12834163","id":"12834163","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"body":"bq. I will wait till after the code freeze and commit this in a few days if no one objects. \r\n\r\nThe code freeze only affects branches. Trunk is only frozen for fixes that should also go into branches.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"created":"2010-02-16T11:17:58.624+0000","updated":"2010-02-16T11:17:58.624+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12834376","id":"12834376","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"bq. The code freeze only affects branches. Trunk is only frozen for fixes that should also go into branches.\r\n\r\nok, well I will wait on this one anyway especially as there is a concern about naming... no rush, looks like its been open for a long time.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2010-02-16T18:49:54.409+0000","updated":"2010-02-16T18:49:54.409+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12842768","id":"12842768","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Attached is an updated patch:\r\n* Synced to trunk as these PQ rewrite methods allow setting of the size\r\n* Renamed to TopTermsBoostOnlyBooleanQueryRewrite\r\n\r\nPlease review, I think this rewrite method would also be helpful for\r\nimproving Fuzzy's junit tests: Testing that scores are correct, etc.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2010-03-08T18:54:32.906+0000","updated":"2010-03-08T18:54:32.906+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12842772","id":"12842772","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Patch looks good Robert!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2010-03-08T19:07:43.364+0000","updated":"2010-03-08T19:07:43.364+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12842776","id":"12842776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Thanks Mike. I will commit later today if no one objects.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2010-03-08T19:17:51.748+0000","updated":"2010-03-08T19:17:51.748+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12314274/comment/12842810","id":"12842810","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Committed revision 920499.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2010-03-08T20:39:30.819+0000","updated":"2010-03-08T20:39:30.819+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-124/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0553z:"}}