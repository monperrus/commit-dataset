{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12444081","self":"https://issues.apache.org/jira/rest/api/latest/issue/12444081","key":"DERBY-4492","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313401","id":"12313401","description":"Head of 10.4 branch","name":"10.4.2.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314182","id":"12314182","description":"Old head of 10.5 branch","name":"10.5.3.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313727","id":"12313727","description":"Feature release","name":"10.6.1.0","archived":false,"released":true,"releaseDate":"2010-05-18"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2009-12-23 21:40:50.214","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"24293","customfield_12310222":"3_*:*_1_*:*_1866267261_*|*_1_*:*_1_*:*_121539795_*|*_6_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-01-15T10:12:50.540+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4492/watchers","watchCount":0,"isWatching":false},"created":"2009-12-23T10:02:43.484+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"8.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313345","id":"12313345","description":"","name":"10.4.2.0","archived":false,"released":true,"releaseDate":"2008-09-05"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314116","id":"12314116","description":"10.5.2 Release July 30 2009 (794445) Now deprecated","name":"10.5.2.0","archived":false,"released":true,"releaseDate":"2009-07-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314117","id":"12314117","description":"Next release after 10.5.2.0 release candidate #1","name":"10.5.3.0","archived":false,"released":true,"releaseDate":"2009-08-21"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12331758","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12331758","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12463757","key":"DERBY-4643","self":"https://issues.apache.org/jira/rest/api/2/issue/12463757","fields":{"summary":"startup message in japanese are garbled","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12337458","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12337458","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12495330","key":"DERBY-4969","self":"https://issues.apache.org/jira/rest/api/2/issue/12495330","fields":{"summary":"weird message when launching Derby on a French system","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/5","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/trivial.png","name":"Trivial","id":"5"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12328504","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12328504","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12401259","key":"DERBY-3804","self":"https://issues.apache.org/jira/rest/api/2/issue/12401259","fields":{"summary":"Provide localizations for messages added in 10.4.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}},{"id":"12328505","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12328505","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12425106","key":"DERBY-4221","self":"https://issues.apache.org/jira/rest/api/2/issue/12425106","fields":{"summary":"Provide message localizations for 10.5","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-02-11T09:32:32.725+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11409","id":"11409","name":"Localization"},{"self":"https://issues.apache.org/jira/rest/api/2/component/11414","id":"11414","name":"Tools"}],"timeoriginalestimate":null,"description":"When I change the locale to one of the languages for which we have localized tools messages, either by changing the system locale or by setting the derby.ui.locale property, the output from derbyrun.jar is garbled:\r\n\r\n$ java -Dderby.ui.locale=zh_TW -jar derbyrun.jar\r\nÁî®Ê≥ïÔºö\r\njava -jar derbyrun.jar ij [-p propertiesfile] [sql script]\r\njava -jar derbyrun.jar sysinfo [-cp ...] [-cp help] \r\njava -jar derbyrun.jar dblook [args] (ÊàñÊòØ‰∏çÂä†ÂºïÊï∏‰ª•Êü•ÁúãÁî®Ê≥ï)\r\njava -jar derbyrun.jar server [args] (ÊàñÊòØ‰∏çÂä†ÂºïÊï∏‰ª•Êü•ÁúãÁî®Ê≥ï)\r\n$ java -Dderby.ui.locale=de_DE -jar derbyrun.jar\r\nSyntax:\r\njava -jar derbyrun.jar ij [-p Merkmaldatei] [sql Script]\r\njava -jar derbyrun.jar sysinfo [-cp ...] [-cp help] \r\njava -jar derbyrun.jar dblook [Argumente] (oder ohne Argumente f√ºr Syntaxinformationen)\r\njava -jar derbyrun.jar server [Argumente] (oder ohne Argumente f√ºr Syntaxinformationen)\r\n\r\nOnly the help message from derbyrun.jar is garbled. The other tools appear to produce fine output, even when invoked via derbyrun.jar:\r\n\r\n$ java -Dderby.ui.locale=zh_TW -jar derbyrun.jar sysinfo\r\n------------------ Java 資訊 ------------------\r\nJava 版本：       1.6.0_17\r\nJava 供應商：     Sun Microsystems Inc.\r\nJava 首頁：       /usr/jdk/instances/jdk1.6.0/jre\r\nJava 類別路徑：   derbyrun.jar\r\nOS 名稱：         SunOS\r\n.\r\n.\r\n.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10420","value":"Regression","id":"10420"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"36923","summary":"Localized help message from derbyrun.jar has wrong encoding","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":21,"total":21,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12794155","id":"12794155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"This is a regression in 10.5.2.0. Before, the messages looked OK. Here's from 10.5.1.1:\r\n\r\n% java -Dderby.ui.locale=de_DE -jar /code/derby/oldreleases/10.5.1.1/derbyrun.jar\r\nSyntax:\r\njava -jar derbyrun.jar ij [-p Merkmaldatei] [sql Script]\r\njava -jar derbyrun.jar sysinfo [-cp ...] [-cp help] \r\njava -jar derbyrun.jar dblook [Argumente] (oder ohne Argumente für Syntaxinformationen)\r\njava -jar derbyrun.jar server [Argumente] (oder ohne Argumente für Syntaxinformationen)\r\n\r\nIt looks like the problem is in the message files. Here's the message above from toolsmessages_de_DE.properties in 10.5.3.0:\r\n\r\nRUN_Usage=Syntax\\:\\njava -jar derbyrun.jar ij [-p Merkmaldatei] [sql Script]\\njava -jar derbyrun.jar sysinfo [-cp ...] [-cp help] \\njava -jar derbyrun.jar dblook [Argumente] (oder ohne Argumente f\\u221A\\u00BAr Syntaxinformationen)\\njava -jar derbyrun.jar server [Argumente] (oder ohne Argumente f\\u221A\\u00BAr Syntaxinformationen)\r\n\r\nNote that the word \"für\" is represented as \"f\\u221A\\u00BAr\", that is two characters for the single character \"ü\", so that it is displayed as \"√º\".","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-12-23T19:01:47.965+0000","updated":"2009-12-23T19:01:47.965+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12794187","id":"12794187","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"This seems to affect more messages, not only the ones used by derbyrun.jar:\r\n\r\nij> connect 'jdbc:derby:db;territory=de_DE;create=true';\r\nij> create table t(x int);\r\n0 rows inserted/updated/deleted\r\nij> alter table t add constraint c primary key (x);\r\nERROR 42831: 'X' kann Nullwerte enthalten und daher keine Spalte eines Prim√§rschl√ºssels sein.\r\n\r\n\"Prim√§rschl√ºssels\" should have been \"Primärschlüssels\".\r\n\r\nIt looks like all messages touched by revision 793870 (DERBY-4221) have the wrong escape sequence for non-ascii characters. At least it looks so for the languages that I have some minimal knowledge about.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-12-23T19:44:04.460+0000","updated":"2009-12-23T19:44:04.460+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12794229","id":"12794229","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"That sounds, unfortunately, like the messages for that error were generated using an incorrect encoding.\r\n\r\nI believe they need to be generated with UTF8...\r\n\r\nWhich languages did you look at specifically? German, and?\r\n\r\nI believe the translations were contributed by Rick. Perhaps it's possible to arrange for regeneration with the correct encoding? \r\n\r\nIs this problem large enough to warrant a new 10.5 release?\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-12-23T21:40:50.214+0000","updated":"2009-12-23T21:40:50.214+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12794239","id":"12794239","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"> Which languages did you look at specifically? German, and?\r\n\r\nI've found problems with the messages in these locales:\r\n\r\nde_DE\r\nfr_FR\r\nzh_TW\r\nzh_CN\r\nja_JP\r\n\r\n(No, I don't know Chinese or Japanese, but I know what Chinese and Japanese characters don't look like...)\r\n\r\nI suspect there are problems with all the locales touched by DERBY-4221, but those are the only languages I have checked explicitly.\r\n\r\nFor French and German, the problem isn't that severe. The messages look odd, but they are still possible to understand since most characters are ascii anyway. For languages that uses mostly non-ascii characters, I would believe the garbled messages are completely incomprehensible, though.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-12-23T22:01:53.971+0000","updated":"2009-12-23T22:01:53.971+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12794376","id":"12794376","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"This problem also appears to affect the messages touched for 10.4 (DERBY-3804). The messages for 10.3 and earlier look fine, as far as I can tell.\r\n\r\nNow, the garbling seems to be different in 10.4 and 10.5.\r\n\r\nIn 10.4, a word such as \"Schlüssel\" would be encoded as \"Schl\\u00C3\\u00BCssel\", whereas it should have been \"Schl\\u00FCssel\". Here, the problem seems obvious: \"ü\" has the codepoint 0xFC, and should therefore have the unicode escape sequence \\u00FC. However, the UTF-8 encoding of ü is {0xC3, 0xBC}, and it looks like each byte in the UTF-8 encoded sequence is inserted as a separate codepoint. That is, ü --> {0xC3, 0xBC} --> \\u00C3\\u00BC --> Ã¼. It should be fairly easy to write a script that goes through the original patch and fixes up this.\r\n\r\nIn 10.5, I have a harder time seeing what's going on. There, the character ü (0xFC) is escaped as \\u221A\\u00BA, and ö (0xF6) as \\u221A\\u2202. I fail to see a pattern here.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-12-24T09:59:00.807+0000","updated":"2009-12-24T09:59:00.807+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12794377","id":"12794377","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I think I can see what happened in 10.5 now. I came across the character table for Mac OS Roman encoding here: http://smontagu.damowmow.com/genEncodingTest.cgi?family=apple&codepage=roman\r\n\r\nNow, \"ö\" has the codepoint 0xF6, which is encoded in UTF-8 as {0xC3, 0xB6}. If you decode this byte sequence using the above mentioned character table, you get the character sequence \"√∂\", which has the unicode escape sequence \\u221A\\u2202. This is the same escape sequence used to represent ö in the 10.5 messages.\r\n\r\nSame goes for \"ü\": Codepoint 0xFC --> UTF-8 {0xC3, 0xBC} --> decoded using character table to \"√º\", whose unicode escape is \\u221A\\u00BA.\r\n\r\nI think this should be a fairly easy scripting task to fix as well.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-12-24T10:24:29.135+0000","updated":"2009-12-24T10:24:29.135+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12794450","id":"12794450","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"I am attaching handback.zip. These are the 10.5 message files in UTF-8, as I received them from the translators. These are the steps of the process I followed:\r\n\r\n1) First I converted our messages to UTF-8 because that is the format which the translators required.\r\n\r\n2) Then the translators made the necessary changes.\r\n\r\n3) Then I converted the changed files back to the encoding which Derby uses.\r\n\r\nAt one point I considered changing the encoding on all of our message files to UTF-8. I don't know why we are using our current encoding. I don't know what will break if we do this.\r\n\r\nBut if the files in handback.zip look good to you, it might be worthwhile checking them in and then changing the encoding on the remaining message files to UTF-8.\r\n\r\nOn the other hand, this might not fix the problem if the errors were introduced in step (1) rather than in step (3).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2009-12-24T16:00:51.304+0000","updated":"2009-12-24T16:00:51.304+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12794463","id":"12794463","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks Rick. The files in handback.zip appear to be correct, so I'll see if I can redo step (3), and then go on to fixing up the 10.4 messages. Changing the encoding of the files to UTF-8 sounds appealing, but I think I'll go for the minimal change for now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-12-24T17:30:48.585+0000","updated":"2009-12-24T17:30:48.585+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12794465","id":"12794465","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"It looks like the files in handback.zip also fix the messages that were touched in 10.4 (haven't checked them all yet, but those I have checked look correct).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-12-24T17:48:12.768+0000","updated":"2009-12-24T17:48:12.768+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12794490","id":"12794490","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I used the attached java class to regenerate the message files and created a diff against the messages on trunk. I haven't gone through the messages yet to verify that all the changes look sensible, but at least the output from the commands in the bug description looks fine.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-12-24T20:14:33.143+0000","updated":"2009-12-24T20:14:33.143+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12795592","id":"12795592","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Another issue is that long messages (like the IJ help message) are truncated. These messages appear to be correct in the handback.zip file, and in the attached patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-12-31T12:21:20.633+0000","updated":"2009-12-31T12:21:20.633+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12795594","id":"12795594","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I'm uploading a new version of the program I used to convert the UTF-8 files to escaped ASCII files. This version also escapes tab characters as \\t so that the diff becomes smaller. I will regenerate the files and upload a new patch.\r\n\r\nIt looks like the messages in handback.zip are ordered slightly different from the messages in the source, which also makes the patch somewhat bigger than necessary. I'll try to fix this in the new version of the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-12-31T12:38:51.863+0000","updated":"2009-12-31T12:38:51.863+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12796130","id":"12796130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"As to why the message files are not UTF-8 encoded in the first place, I think this is because Properties.load(InputStream) is specified to take a stream encoded in ISO-8859-1. There is a method Properties.load(Reader) that could be used to read files with any encoding, but it is only available on Java 1.6 and later.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-01-04T10:19:39.955+0000","updated":"2010-01-04T10:19:39.955+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12796140","id":"12796140","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Attached is a new version of the class that converts the UTF-8 encoded files to the escaped format that Derby understands. It now uses a custom comparator to get the same ordering as the original message files, and it also performs some additional washing of the input to prevent unnecessary diffs.\r\n\r\nA new patch generated from the latest version of the converter is also attached. I intend to commit that patch if all the regression tests pass.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-01-04T11:08:09.772+0000","updated":"2010-01-04T11:08:09.772+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12796399","id":"12796399","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"All the regression tests passed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-01-04T22:33:48.029+0000","updated":"2010-01-04T22:33:48.029+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12797977","id":"12797977","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Committed revision 897161.\r\n\r\nI also intend to check in the fix on the 10.5 branch before I close this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-01-08T10:51:26.053+0000","updated":"2010-01-08T10:51:26.053+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12799684","id":"12799684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Merged to 10.5 and committed revision 898704.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-01-13T10:28:38.859+0000","updated":"2010-01-13T10:28:38.859+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12800643","id":"12800643","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Here's a patch that fixes the encoding on 10.4. To create this patch I followed these steps:\r\n\r\n1) Ran a script on the original localization patch that was applied to 10.4 (revision 682388) and replaced the broken escape sequences with the correct ones (e.g., \\u00C3\\u00A4 -> \\u00E4)\r\n\r\n2) Applied the modified patch to sandbox with the 10.4 branch on revision 682387, which is right before the original 10.4 localization patch was checked in\r\n\r\n3) Updated the sandbox to revision 682388, resolving all conflicts by choosing my changes\r\n\r\n4) Updated the sandbox all the way to head of 10.4\r\n\r\n5) svn diff > backport-10.4.diff\r\n\r\nAll the regression tests ran cleanly (well, almost... one failure in derbyall because of DERBY-4418).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-01-15T09:55:44.113+0000","updated":"2010-01-15T09:55:44.113+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12800651","id":"12800651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Here's a sample from 10.4. With 10.4.2.0:\r\n\r\nkah@ugle:~ % java -Dderby.ui.locale=fr_FR -jar /code/derby/oldreleases/10.4.2.0/derbynet.jar\r\nDRDA_NoCommand.U\r\nSyntaxe : NetworkServerControl <commandes> \r\nCommandes :\r\nstart [-h <hôte>] [-p <numéro_port>] [-noSecurityManager] [-ssl <mode_ssl>]\r\nshutdown [-h <hÃ´te>][-p <numÃ©ro_port>] [-ssl <mode_ssl>] [-user <nom_utilisateur>] [-password <mot_de_passe>]\r\n...\r\n\r\nNotice the wrong encoding for hôte and numéro_port on the shutdown line.\r\n\r\nWith patched 10.4:\r\n\r\nkah@ugle:~ % java -Dderby.ui.locale=fr_FR -jar /code/derby/10.4/jars/sane/derbynet.jar \r\nDRDA_NoCommand.U\r\nSyntaxe : NetworkServerControl <commandes> \r\nCommandes :\r\nstart [-h <hôte>] [-p <numéro_port>] [-noSecurityManager] [-ssl <mode_ssl>]\r\nshutdown [-h <hôte>][-p <numéro_port>] [-ssl <mode_ssl>] [-user <nom_utilisateur>] [-password <mot_de_passe>]\r\n...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-01-15T10:08:33.312+0000","updated":"2010-01-15T10:08:33.312+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12800652","id":"12800652","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Committed backport-10.4.diff to the 10.4 branch with revision 899582.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-01-15T10:12:50.435+0000","updated":"2010-01-15T10:12:50.435+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12444081/comment/12801869","id":"12801869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Perhaps we should add a test to prevent this from happening in the future...I'll think on it. If anyone has some suggestions? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2010-01-18T17:16:11.841+0000","updated":"2010-01-18T17:16:11.841+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4492/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06omf:"}}