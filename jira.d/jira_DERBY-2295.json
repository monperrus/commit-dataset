{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12362081","self":"https://issues.apache.org/jira/rest/api/latest/issue/12362081","key":"DERBY-2295","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2007-02-20 02:58:46.2","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22988","customfield_12310222":"1_*:*_1_*:*_1187691257_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_2481726021","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-02-20T03:25:40.828+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2295/watchers","watchCount":0,"isWatching":false},"created":"2007-02-06T09:30:49.571+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-06-30T15:55:55.164+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"Seen on windows only.\n\nThere were 2 failures:\n1) DRDAProtocolTest:clientjunit.framework.AssertionFailedError\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.removeDir(DropDatabaseSetup.java:96)\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.access$000(DropDatabaseSetup.java:34)\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup$1.run(DropDatabaseSetup.java:71)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.removeDirectory(DropDatabaseSetup.java:68)\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:62)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:22)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n2) DRDAProtocolTest:clientjunit.framework.AssertionFailedError\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.removeDir(DropDatabaseSetup.java:96)\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.access$000(DropDatabaseSetup.java:34)\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup$1.run(DropDatabaseSetup.java:71)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.removeDirectory(DropDatabaseSetup.java:68)\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:62)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:22)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n\nFAILURES!!!\nTests run: 2417,  Failures: 2,  Errors: 0\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10420","value":"Regression","id":"10420"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38792","summary":"DRDAProtocolTest:clientjunit.framework.AssertionFailedError","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"A)\n------------------ Java Information ------------------\n\nJava Version:    1.5.0_05\n\nJava Vendor:     Sun Microsystems Inc.\n\nJava home:       c:\\Program Files\\Java\\jdk1.5.0_05\\jre\n\nJava classpath:  C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derby.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyclient.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbytools.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbynet.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\db2jcc\\lib\\db2jcc.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\db2jcc\\lib\\db2jcc_license_c.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyTesting.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyrun.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\tools\\java\\jakarta-oro-2.0.8.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyLocale_de_DE.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyLocale_es.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyLocale_fr.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyLocale_it.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyLocale_ja_JP.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyLocale_ko_KR.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyLocale_pt_BR.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyLocale_zh_CN.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyLocale_zh_TW.jar;C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\tools\\java\\junit.jar\n\nOS name:         Windows XP\n\nOS architecture: x86\n\nOS version:      5.1\n\nJava user name:  os136789\n\nJava user home:  C:\\Documents and Settings\\os136789\n\nJava user dir:   C:\\cygwin\\export\\home\\tmp\\os136789\\testingDerby\\CYGWIN_NT-5.1_i686-unknown\\org.apache.derbyTesting.functionTests.suites.All\n\njava.specification.name: Java Platform API Specification\n\njava.specification.version: 1.5\n\n--------- Derby Information --------\n\nJRE - JDBC: J2SE 5.0 - JDBC 3.0\n\n[C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derby.jar] 10.3.0.0 alpha - (503453:503454)\n\n[C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbytools.jar] 10.3.0.0 alpha - (503453:503454)\n\n[C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbynet.jar] 10.3.0.0 alpha - (503453:503454)\n\n[C:\\cygwin\\home\\os136789\\Apache\\Derby\\trunk\\jars\\insane\\derbyclient.jar] 10.3.0.0 alpha - (503453:503454)\n\n[C:\\cygwin\\home\\os136789\\Apache\\Derby\\db2jcc\\lib\\db2jcc.jar] 2.4 - (17)\n\n[C:\\cygwin\\home\\os136789\\Apache\\Derby\\db2jcc\\lib\\db2jcc_license_c.jar] 2.4 - (17)\n\n------------------------------------------------------\n\n\nB)\nJVM name: Java HotSpot(TM) Client VM\nJVM version: 1.5.0_07-b03\nJVM vendor: Sun Microsystems Inc.\nJVM datamodel: 32-bit\n","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":5,"total":5,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12362081/comment/12474342","id":"12474342","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Problem is that the DropDatabaseSetup had its definition partially changed by the recent work to support multiple databases.\r\nDropDatabaseSetup previously dropped the current default database, now it drops the last database added by the single\r\nuse database decorators. However it continues to shutdown the current default database, and these may not be the same.\r\nDropDatabaseSetup requires the database be shutdown before it can be removed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-02-20T02:58:46.200+0000","updated":"2007-02-20T02:58:46.200+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12362081/comment/12474343","id":"12474343","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Committed revision 509419 fixes the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-02-20T03:25:40.801+0000","updated":"2007-02-20T03:25:40.801+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12362081/comment/12479461","id":"12479461","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"I'm seeing a similar failure in the new ImportExportTest, introduced as part of DERBY-2342.  Error is:\r\n\r\nImportExportTest:embeddedjunit.framework.AssertionFailedError: extinout\\T1.dat\r\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.removeDir(DropDatabaseSetup.java:102)\r\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.access$000(DropDatabaseSetup.java:38)\r\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup$1.run(DropDatabaseSetup.java:77)\r\n\tat java.security.AccessController.doPrivileged1(Native Method)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:287)\r\n\tat org.apache.derbyTesting.junit.DropDatabaseSetup.removeDirectory(DropDatabaseSetup.java:74)\r\n\tat org.apache.derbyTesting.junit.SupportFilesSetup.tearDown(SupportFilesSetup.java:107)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:20)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\r\n\r\nAlso fails with the client, as well.  Does this look like the same issue, and if so, is it okay to reopen this Jira?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-03-08T23:41:36.955+0000","updated":"2007-03-08T23:41:36.955+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12362081/comment/12481275","id":"12481275","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"Army , \r\n\r\nI think  ImportExportTest failure you mentioned  is not  related to this issue.  My guess is on a negative test case   extinout\\T1.dat   file is not getting closed. \r\nWhen I disbaled the test case :  ImportExportTest: testInvalidEncoding()  , this test is not failing.   I think  in ExportWriteData.openFile() ,  when \r\nan exception occurs while setting up the character stream with an Invalide encoding , file stream is not being closed.   You may want to file \r\na separate Jira for this issue. \r\n\r\n\r\n\r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2007-03-15T18:35:36.379+0000","updated":"2007-03-15T18:35:36.379+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12362081/comment/12481281","id":"12481281","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"Thank you for looking into this, Suresh!  I filed DERBY-2456 for the issue as you described it here.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-03-15T18:58:30.049+0000","updated":"2007-03-15T18:58:30.049+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2295/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0705r:"}}