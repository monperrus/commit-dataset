{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12461108","self":"https://issues.apache.org/jira/rest/api/latest/issue/12461108","key":"CASSANDRA-952","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310865","id":"12310865","key":"CASSANDRA","name":"Cassandra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310865&avatarId=12034","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310865&avatarId=12034","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310865&avatarId=12034","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310865&avatarId=12034"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11961","id":"11961","description":"Apache Cassandra related projects","name":"Cassandra"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314533","id":"12314533","description":"","name":"0.7 beta 1","archived":false,"released":true,"releaseDate":"2010-08-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2010-04-06 14:47:30.412","customfield_12312322":null,"customfield_12312323":null,"customfield_12310222":"3_*:*_1_*:*_10999_*|*_10002_*:*_6_*:*_2327051855_*|*_1_*:*_5_*:*_1516119672_*|*_5_*:*_1_*:*_0","customfield_12310420":"19935","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-05-18T17:16:21.031+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-952/watchers","watchCount":2,"isWatching":false},"created":"2010-04-04T05:43:18.505+0000","customfield_10022":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12311124":null,"customfield_12312334":null,"customfield_12310310":"13.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-05-18T17:16:21.017+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312978","id":"12312978","name":"Core"}],"timeoriginalestimate":null,"description":"Currently DCQuorum is broken in trunk, Suggesting the following fix... \r\n\r\nWrite to DC's\r\n1) Move determineBlockFor(int expandedTargets, ConsistencyLevel consistency_level) to AbstractEndpointSnitch\r\n2) Add the same to support DC Quorum in DatacenterShardStategy\r\n\r\nRead to DC's\r\n1) find suitable nodes was a list which was returning a list of local DC's earlier but now it is just one node and MD is been sent by other nodes. Need to have an option to even avoid MD from other DC's?","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12444546","id":"12444546","filename":"0002-dcquorum-fixes-v2.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-05-14T23:55:24.727+0000","size":81265,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12444546/0002-dcquorum-fixes-v2.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12441264","id":"12441264","filename":"952-Canges_To_Stategy_V002.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-04-09T05:31:17.912+0000","size":21810,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12441264/952-Canges_To_Stategy_V002.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12440777","id":"12440777","filename":"952-Change_BlockFor.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-04-05T17:07:35.734+0000","size":4325,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12440777/952-Change_BlockFor.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12441265","id":"12441265","filename":"952-Changes_To_ResponseHandler_v002.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-04-09T05:31:17.917+0000","size":38401,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12441265/952-Changes_To_ResponseHandler_v002.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12440820","id":"12440820","filename":"952-Fix_Refactor_DCStatergy.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-04-06T01:16:58.225+0000","size":16042,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12440820/952-Fix_Refactor_DCStatergy.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12444683","id":"12444683","filename":"952-v3.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-05-17T14:29:48.808+0000","size":79659,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12444683/952-v3.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443042","id":"12443042","filename":"952-v3.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-04-28T06:31:20.622+0000","size":70160,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443042/952-v3.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12444724","id":"12444724","filename":"952-v4.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-05-17T18:49:43.584+0000","size":78294,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12444724/952-v4.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443208","id":"12443208","filename":"952-v4.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-04-29T17:42:55.430+0000","size":69794,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443208/952-v4.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443389","id":"12443389","filename":"952-v5.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-05-01T20:55:15.362+0000","size":67556,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443389/952-v5.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12444346","id":"12444346","filename":"ASF.LICENSE.NOT.GRANTED--0001-clean-out-callback-purging-from-truncate-writerh.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-05-12T21:48:53.411+0000","size":12598,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12444346/ASF.LICENSE.NOT.GRANTED--0001-clean-out-callback-purging-from-truncate-writerh.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12444347","id":"12444347","filename":"ASF.LICENSE.NOT.GRANTED--0002-dcquorum-fixes.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-05-12T21:48:53.440+0000","size":68588,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12444347/ASF.LICENSE.NOT.GRANTED--0002-dcquorum-fixes.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443390","id":"12443390","filename":"DC-Config.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-05-01T20:55:15.454+0000","size":927,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12443390/DC-Config.xml"}],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"91769","summary":"DC Quorum broken @ trunk","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"customfield_12311420":null,"customfield_12311421":null,"environment":"Linux, Cassandra","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":21,"total":21,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12854010","id":"12854010","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"The fundamental problem here is that an int count of replicas to block for is not sufficient to represent the DC strategy wants: we want to SEND to all replicas, but only count replicas in the CURRENT DC towards success.  Allowing other DC replicas will mostly work, since they will typically be slower to arrive than local ones, but if there are failure conditions locally then it could succeed where it should not, which would violate its contract to readers.\r\n\r\nI think you will need to push the concept of what to block for into the WriteResponseHandler, and similarly for reads.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-04-06T14:47:30.412+0000","updated":"2010-04-06T14:47:30.412+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12855276","id":"12855276","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"body":"Made Changes as suggested","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-04-09T05:31:17.921+0000","updated":"2010-04-09T05:31:17.921+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12861491","id":"12861491","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"Finally ready to get this in (now that CASSANDRA-994 is done).  Can you rebase?  Sorry, it's going to be a bit messy.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-04-27T18:49:13.876+0000","updated":"2010-04-27T18:49:13.876+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12861690","id":"12861690","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"body":"this patch works in my environment, and i think we need couple of methods to be added to RackInferringSnitch which is getReplicationFactor and getDatacenters to make it work with the DCSS. Let me know if you dont agree with the changes, i have renamed the DCEPS to XMLFileSnitch. there is a lot of changes in these classes.... ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-04-28T06:31:20.765+0000","updated":"2010-04-28T06:31:20.765+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12861806","id":"12861806","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"We're not adding DCEPS/XMLFileSnitch back, and we shouldn't need to make any changes to the Snitch classes.  It should be able to run against any RackAwareSnitch, since it gets the per-DC settings from DCSS/datacenters.properties now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-04-28T13:50:14.264+0000","updated":"2010-04-28T13:50:14.264+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12862280","id":"12862280","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"body":"Attached is the modified version, please note that XMLFileSnitch included in this patch, uses a different logic than PFS to read the hosts, if you choose not to include that thats fine too.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-04-29T17:42:55.516+0000","updated":"2010-04-29T17:42:55.516+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12862750","id":"12862750","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"It looks like this is mixing code from CASSANDRA-967 in.  Let's do these one at a time, or we're more likely to introduce bugs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-04-30T17:11:07.940+0000","updated":"2010-04-30T17:11:07.940+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12863053","id":"12863053","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"body":"I have attached the changes, Please note that we have to change a bit of logic in rangeslice in order to remove blockFor for from the SP, IF you think it is unnecessary, i put blockFor for now and add a depreciated annotation on it (by doing this i can leave the rangeslice untouched).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-05-01T20:55:15.560+0000","updated":"2010-05-01T20:55:15.560+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12866753","id":"12866753","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"patch 01 cleans out callback purging from WriteResponseHandler (leaving ExpiringMap to clean it out automatically).\r\n\r\n02 adds the dcquorum changes, extracting AbstractWRH so the DQSyncRH doesn't have to subclass WRH which is a poor fit, and cleans up the WRH heirarchy.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-05-12T21:55:13.724+0000","updated":"2010-05-12T21:55:13.724+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12867174","id":"12867174","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeromatron","name":"jeromatron","emailAddress":"jeremy dot hanna1234 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Hanna","active":true},"body":"Reviewing part of it and I know this wasn't part of the change - but in RackAwareStrategy couldn't we save some instruction execution by moving the check for whether we already have found another datacenter/rack outside of the checks?  Like so:\r\n\r\n{code}\r\nToken t = iter.next();\r\n\r\n// First try to find one in a different data center\r\n// If we have already found something in a diff datacenter no need to find another\r\nif (!bDataCenter)\r\n{\r\n    if (!snitch.getDatacenter(metadata.getEndpoint(primaryToken)).equals(snitch.getDatacenter(metadata.getEndpoint(t))))\r\n    {\r\n        endpoints.add(metadata.getEndpoint(t));\r\n        bDataCenter = true;\r\n        continue;\r\n    }\r\n}\r\n\r\n// Now  try to find one on a different rack\r\n// If we have already found something in a diff rack no need to find another\r\nif (!bOtherRack)\r\n{\r\n    if (!snitch.getRack(metadata.getEndpoint(primaryToken)).equals(snitch.getRack(metadata.getEndpoint(t))) &&\r\n        snitch.getDatacenter(metadata.getEndpoint(primaryToken)).equals(snitch.getDatacenter(metadata.getEndpoint(t))))\r\n    {\r\n        endpoints.add(metadata.getEndpoint(t));\r\n        bOtherRack = true;\r\n        continue;\r\n    }\r\n}\r\n{code}\r\n\r\nnot that big of a deal, but since it's done on every write, might be helpful.  Maybe I'm missing something there though...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeromatron","name":"jeromatron","emailAddress":"jeremy dot hanna1234 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Hanna","active":true},"created":"2010-05-13T16:49:37.923+0000","updated":"2010-05-13T16:50:55.703+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12867177","id":"12867177","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"body":"Jeremy, Thanks... different datacenter is physically a different rack.... I dont think we need additional check for that....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-05-13T17:01:23.775+0000","updated":"2010-05-13T17:01:23.775+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12867191","id":"12867191","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeromatron","name":"jeromatron","emailAddress":"jeremy dot hanna1234 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Hanna","active":true},"body":"Vijay - okay - I wasn't thinking of doing an additional check, I was just thinking of bringing the check for bDatacenter and bOtherRack outside of the block they were in, in RackAwareStrategy.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeromatron","name":"jeromatron","emailAddress":"jeremy dot hanna1234 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Hanna","active":true},"created":"2010-05-13T17:36:40.462+0000","updated":"2010-05-13T17:36:40.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12867192","id":"12867192","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeromatron","name":"jeromatron","emailAddress":"jeremy dot hanna1234 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Hanna","active":true},"body":"Jonathan - in your 0002 patch, the DatacenterShardStrategy changes - you refactored forLoopReturn into endpoints.  I'm not sure that you want to do that.  forLoopReturn is re-initialized on every loop iteration to include all of the replicas needed for that particular datacenter.  Endpoints includes all replicas regardless of datacenter.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeromatron","name":"jeromatron","emailAddress":"jeremy dot hanna1234 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Hanna","active":true},"created":"2010-05-13T17:38:36.229+0000","updated":"2010-05-13T17:38:36.229+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12867234","id":"12867234","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeromatron","name":"jeromatron","emailAddress":"jeremy dot hanna1234 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Hanna","active":true},"body":"Jonathan - Also it looks like you're doing the datacenter replication factor per keyspace now, which is what we're hoping to have for multi-tenants.  However, in StorageService, I was under the impression that the replication strategy is handled as though it was per keyspace but in reality it is a quasi singleton.  So all keyspaces will share the same RS of that type.  Is that not true now?  I didn't see any change to that in your patches.  Just wanted to make sure that doesn't cause odd problems - if all of the keyspaces are sharing the same DatacenterShardStrategy instance which is only meant for one of those keyspaces.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeromatron","name":"jeromatron","emailAddress":"jeremy dot hanna1234 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Hanna","active":true},"created":"2010-05-13T20:05:20.460+0000","updated":"2010-05-13T20:05:20.460+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12867601","id":"12867601","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"body":"Jeremy, \r\nFor 002 i am submitting the update for the patch... Thanks!\r\nreplication strategy - Yes currently thats the case, but DSS can handle all the required levels it will just forward the requests to AbstractReplicationStrategy if other than DCQuorum or DCQuorumSync.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-05-14T17:59:10.662+0000","updated":"2010-05-14T17:59:10.662+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12867651","id":"12867651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeromatron","name":"jeromatron","emailAddress":"jeremy dot hanna1234 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Hanna","active":true},"body":"Cool - yeah - looking at it again, DSS contains DC RF information for all keyspaces, so it really wouldn't matter if it was a singleton for all keyspaces.\r\n\r\nBtw, I was mostly just reviewing the getNaturalEndpointsInternal method of DSS - Jonathan had asked me to take a look at it in IRC.  Just so you know I wasn't reviewing the entire patch.  I don't know if that matters too much, but thought I would clarify.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jeromatron","name":"jeromatron","emailAddress":"jeremy dot hanna1234 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jeremy Hanna","active":true},"created":"2010-05-14T19:59:33.467+0000","updated":"2010-05-14T19:59:33.467+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12867742","id":"12867742","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"body":"Attached is the fix and along with it i have a testcase, so we dont miss this in future.\r\n\r\nThanks\r\nVijay","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-05-14T23:55:24.844+0000","updated":"2010-05-14T23:55:24.844+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12868237","id":"12868237","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"v3 attached is the same as v2 w/ (unintentional?) breakages to TruncateResponseHandler reverted and formatting fixed.\r\n\r\nthe new test needs to work with normal propertyfilesnitch, XMLFS is not going back in.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-05-17T14:29:48.888+0000","updated":"2010-05-17T14:29:48.888+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12868342","id":"12868342","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"body":"Yes that was unintentional... This has updates to the test and also fix to the PEPS. And Hope it works... ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijay2win%40yahoo.com","name":"vijay2win@yahoo.com","emailAddress":"vijay2win at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijay2win%40yahoo.com&avatarId=11039","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijay2win%40yahoo.com&avatarId=11039","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijay2win%40yahoo.com&avatarId=11039","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijay2win%40yahoo.com&avatarId=11039"},"displayName":"Vijay","active":true},"created":"2010-05-17T18:49:43.723+0000","updated":"2010-05-17T18:49:43.723+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12868642","id":"12868642","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Cassandra #439 (See [http://hudson.zones.apache.org/hudson/job/Cassandra/439/])\r\n    make DCQUORUM CLs actually wait for the nodes per DC rather than attempting a purely count-based approach that didn't really work as advertised.  patch by Vijay Parthasarathy and jbellis; reviewed by Jeremy Hanna for CASSANDRA-952\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2010-05-18T13:31:38.815+0000","updated":"2010-05-18T13:31:38.815+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461108/comment/12868743","id":"12868743","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"committed v4.\r\n\r\nthere is still a minor issue w/ replica placement but I have opened CASSANDRA-1103 instead of round-tripping this again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-05-18T17:16:20.995+0000","updated":"2010-05-18T17:16:20.995+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-952/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0g23b:"}}