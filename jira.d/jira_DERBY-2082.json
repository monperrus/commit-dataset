{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12355560","self":"https://issues.apache.org/jira/rest/api/latest/issue/12355560","key":"DERBY-2082","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12310220":"2008-11-14 18:53:07.256","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22879","customfield_12310222":"1_*:*_1_*:*_63561924711_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2008-11-18T17:34:46.711+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2082/watchers","watchCount":0,"isWatching":false},"created":"2006-11-14T01:29:22.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-01-21T17:49:29.084+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"********* Diff file derbyall/storeall/storemore/OnlineBackupTest1.diff\n*** Start: OnlineBackupTest1 jdkJ2ME Foundation Specification v1.0 storeall:storemore 2006-11-11 13:41:44 ***\n5 del\n< database shutdown properly\n6 del\n< Restored From the Backup\n7 del\n< Consistency Check is Done\n8 del\n< database shutdown properly\n9 del\n< End Online Backup Test1\n9 add\n> Unhandled exception\n> Type=GPF vmState=0x00000040\n> Target=2_20_20040706_1457_lHdSMR (Windows 2000 5.0 build 2195 Service Pack 4)\n> CPU=x86 (2 logical CPUs) (0x2ff8a000 RAM)\n> ExceptionCode=c0000005 ExceptionAddress=1130A074 ContextFlags=0001003f Handler1=1130A07C\n> Handler2=1130A080\n> EDI=fd2023b2 ESI=02466098 EAX=03cbc072 EBX=00000000\n> ECX=02462724 EDX=070330fa EBP=00000000\n> EIP=12c29c90 ESP=0115fb0c\n> Module=e:\\cloudtst\\jartest\\wctme5.7\\ive\\bin\\j9jit22.dll\n> Module_base_address=12c00000 Offset_in_DLL=00029c90\n> JavaVMInitArgs.nOptions=23:\n>     -Dcom.ibm.oti.vm.exe=e:\\cloudtst\\jartest\\wctme5.7\\ive\\bin\\j9.exe\n>     _port_library (extra info: 0012F894)\n>     -Duser.language=en\n>     -Duser.country=US\n>     -Dij.dataSource=org.apache.derby.jdbc.EmbeddedSimpleDataSource\n>     -Xjcl:jclfoun10_22\n>     -Xbootclasspath/a:e:/cloudtst/jartest/wctme5.7/ive/lib/jdbc.jar\n>     -Dderby.system.home=E:\\cloudtst\\jartest\\JarResults.2006-11-10\\wctme5.7_foundation_derbyall\\derbyall\\storeall\\storemore\\OnlineBackupTest1\n>     -Dderby.infolog.append=true\n>     -Dframework=embedded\n>     -DderbyTesting.jar.path=e:/cloudtst/jartest/tools/testing/derby\n>     -Djava.security.manager\n>     -Djava.security.policy=E:\\cloudtst\\jartest\\JarResults.2006-11-10\\wctme5.7_foundation_derbyall\\derby_tests.policy\n>     -DderbyTesting.clientjar=file:/E:/cloudtst/jartest/classes/\n>     -DderbyTesting.codejar=file:/E:/cloudtst/jartest/classes/\n>     -DderbyTesting.testjar=file:/E:/cloudtst/jartest/classes/\n>     -DderbyTesting.codedir=E:\\cloudtst\\jartest\\classes\n>     -DderbyTesting.serverhost=xxxFILTERED_HOSTNAMExxx\n>     -DderbyTesting.clienthost=xxxFILTERED_HOSTNAMExxx\n>     -Djava.home=e:\\cloudtst\\jartest\\wctme5.7\\ive\n>     -Dcom.ibm.oti.vm.bootstrap.library.path=e:\\cloudtst\\jartest\\wctme5.7\\ive\\bin\\\n>     -Djava.library.path=e:\\cloudtst\\jartest\\wctme5.7\\ive\\bin\\;.;e:/cloudtst/jartest/wctme5.7/ive/bin;e:/cloudtst/jartest/wctme5.7/ive/lib;e:/cloudtst/jartest/frameworks/embedded/bin;E:\\cloudtst\\jartest\\tools\\nt;E:\\cloudtst\\jartest\\tools\\nightlybuild;E:\\cloudtst\\jartest\\jdk15\\bin;E:\\PROGRA~1\\MKSTOO~1\\bin;E:\\PROGRA~1\\MKSTOO~1\\bin\\X11;E:\\PROGRA~1\\MKSTOO~1\\mksnt;C:\\WINNT\\system32;C:\\WINNT;C:\\WINNT\\System32\\Wbem;C:\\Program Files\\Perforce\n> (no Thread object associated with thread)\n> Thread: Gc Slave Thread (priority 5) (daemon)\n> Thread: derby.antiGC (priority 1) (daemon)\n> Thread: Thread-0 (priority 5) (daemon)\n> Thread: derby.rawStoreDaemon (priority 5) (daemon)\n> Thread: Finalizer thread (priority 5) (daemon)\n> Thread: BACKUP (priority 5)\n>  00000039 org/apache/d\n> Error: Dump failed - could not link MiniDumpWriteDump in DBGHELP.DLL\n> erbyTesting/functionTests/tests/store/OnlineBackup.performBackup()V\n>  00000006 org/apache/derbyTesting/functionTests/tests/store/OnlineBackup.run()V\n> Thread: DML_THREAD (priority 5)\nTest Failed.\n*** End:   OnlineBackupTest1 jdkJ2ME Foundation Specification v1.0 storeall:storemore 2006-11-11 13:42:52 ***\n********* Diff file derbyall/storeall/storemore/OnlineBackupTest3.diff\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"37522","summary":"store/OnlineBackupTest1.java fails with unhandled exception/crash  on wctme5.7 foundation on 10.2","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"------------------ Java Information ------------------\nJava Version:    J2ME Foundation Specification v1.0\nJava Vendor:     IBM Corporation\nJava home:       e:\\cloudtst\\jartest\\wctme5.7\\ive\nOS name:         Windows 2000\nOS architecture: x86\nOS version:      5.0 build 2195 Service Pack 4\nJava user name:  cloudtest\nJava user home:  C:\\Documents and Settings\\cloudtest\nJava user dir:   E:\\cloudtst\\jartest\\JarResults.2006-11-10\\wctme5.7_foundation_derbyall\njava.specification.name: J2ME Foundation Specification\njava.specification.version: 1.0\n--------- Derby Information --------\nJRE - JDBC: J2ME - JDBC for CDC/FP 1.0\n[E:\\cloudtst\\jartest\\classes\\derby.jar] 10.2.1.8 - (473634)\n[E:\\cloudtst\\jartest\\classes\\derbytools.jar] 10.2.1.8 - (473634)\n[E:\\cloudtst\\jartest\\classes\\derbynet.jar] 10.2.1.8 - (473634)\n[E:\\cloudtst\\jartest\\classes\\derbyclient.jar] 10.2.1.8 - (473634)\n","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":6,"total":6,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355560/comment/12647698","id":"12647698","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"body":"I noticed this failure again on 10.2 codeline (revision 713912)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"created":"2008-11-14T18:53:07.256+0000","updated":"2008-11-14T18:53:07.256+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355560/comment/12647879","id":"12647879","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"This looks like a bug in J9, not in Derby. It would probably be better to file a bug report against J9 and close this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2008-11-15T17:13:40.819+0000","updated":"2008-11-15T17:13:40.819+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355560/comment/12648010","id":"12648010","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"You're correct, of course, this looks like a jvm bug. \r\nIt's unlikely this would get fixed in wctme5.7, or rather, wctme5.7 has been superseded by weme6.1. However, that one supports Foundation 1.1, not Foundation 1.0. I don't think we need to spend time to make 10.2 support Foundation 1.1. or even investigate how much work that would be.\r\nI see two alternatives to work around this - intermittent - failure:\r\n- stop running this particular test with j9 (i.e. add runwithfoundation=false to the test's properties files)\r\n- stop running tests for 10.2 altogether with wctme5.7.\r\n\r\nI don't know that anyone else is running jsr 169 tests on 10.2; if anyone is, specifying runwithfoundation=false would also disable the test for that environment.\r\nOf course, stop running altogether with wctme5.7 would be a bigger step.\r\nOut of principle I don't like to take away regression testing, so I'd go for adding runwithfoundation=false...\r\n\r\nAt the same time, I want to point out that in 10.2 we also have had this same test fail intermittently (although, no jvm crash) with other jvms, see DERBY-973.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2008-11-16T18:40:42.169+0000","updated":"2008-11-16T18:40:42.169+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355560/comment/12648055","id":"12648055","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I think regardless of the testing strategy, this issue can be closed Invalid since it is a jvm bug.\r\nMy testing preference would be to use runwithfoundation=false for this test as it is good to have some JSR169 testing to make sure we don't check in something that breaks it.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2008-11-17T00:33:19.688+0000","updated":"2008-11-17T00:33:19.688+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355560/comment/12648347","id":"12648347","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I wanted to check this in, but noticed I don't actually have a 'live' 10.2 tree (no https).\r\nIs there a committer who can add this to 10.2/java/testing/org/apache/derbyTesting/functionTests/tests/store/OnlineBackupTest1_app.properties:\r\nrunwithfoundation=false\r\nIf not, I'll check-out the 10.2 branch...\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2008-11-17T21:25:00.665+0000","updated":"2008-11-17T21:25:00.665+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12355560/comment/12648666","id":"12648666","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Closing this issue as invalid since it is a JVM issue. Disabled the test in the  10.2 branch.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2008-11-18T17:34:46.665+0000","updated":"2008-11-18T17:34:46.665+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2082/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06sbj:"}}