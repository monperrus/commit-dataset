{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12631306","self":"https://issues.apache.org/jira/rest/api/latest/issue/12631306","key":"SOLR-4414","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310230","id":"12310230","key":"SOLR","name":"Solr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310230&avatarId=22151","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310230&avatarId=22151","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310230&avatarId=22151"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2013-02-07 17:54:07.379","customfield_12312323":null,"customfield_12310420":"311802","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-4414/watchers","watchCount":19,"isWatching":false},"created":"2013-02-07T17:29:08.014+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321141","id":"12321141","description":"Major release after 4.0","name":"4.1","archived":false,"released":true,"releaseDate":"2013-01-22"}],"issuelinks":[{"id":"12364071","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12364071","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12405232","key":"SOLR-788","self":"https://issues.apache.org/jira/rest/api/2/issue/12405232","fields":{"summary":"MoreLikeThis should support distributed search","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-04-29T15:47:17.901+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313026","id":"12313026","name":"MoreLikeThis","description":"MoreLikeThis support"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12313841","id":"12313841","name":"SolrCloud"}],"timeoriginalestimate":null,"description":"Running a MoreLikeThis query in a cloud works only when the document being queried exists in whatever shard serves the request. If the document is not present in the shard, no \"interesting terms\" are found and, consequently, no matches are found.\r\n\r\nh5. Steps to reproduce\r\n\r\n* Edit example/solr/collection1/conf/solrconfig.xml and add this line, with the rest of the request handlers:\r\n\r\n{code:xml}\r\n<requestHandler name=\"/mlt\" class=\"solr.MoreLikeThisHandler\" />\r\n{code}\r\n\r\n* Follow the [simplest SolrCloud example|http://wiki.apache.org/solr/SolrCloud#Example_A:_Simple_two_shard_cluster] to get two shards running.\r\n* Hit this URL: [http://localhost:8983/solr/collection1/mlt?mlt.fl=includes&q=id:3007WFP&mlt.match.include=false&mlt.interestingTerms=list&mlt.mindf=1&mlt.mintf=1]\r\n* Compare that output to that of this URL: [http://localhost:7574/solr/collection1/mlt?mlt.fl=includes&q=id:3007WFP&mlt.match.include=false&mlt.interestingTerms=list&mlt.mindf=1&mlt.mintf=1]\r\n\r\nThe former URL will return a result and list some interesting terms. The latter URL will return no results and list no interesting terms. It will also show this odd XML element:\r\n\r\n{code:xml}\r\n<null name=\"response\"/>\r\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"312148","summary":"MoreLikeThis on a shard finds no interesting terms if the document queried is not in that shard","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cbartolo","name":"cbartolo","emailAddress":"cbartolo at crappycomic dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Colin Bartolome","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cbartolo","name":"cbartolo","emailAddress":"cbartolo at crappycomic dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Colin Bartolome","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":25,"total":25,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13573710","id":"13573710","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"Looks like this is from your mailing list discussion about SOLR-788, so I have linked the two issues.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2013-02-07T17:54:07.379+0000","updated":"2013-02-07T17:54:07.379+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13573717","id":"13573717","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"I tried distributed MLT right after it got committed and could not make it work.  I'm not using SolrCloud.  I have a broker core (no index of its own, shards parameter in solrconfig.xml) and I got no results at all.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2013-02-07T17:55:46.956+0000","updated":"2013-02-07T17:55:46.956+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13573777","id":"13573777","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"It works, you just have to setup shards.qt or your handlers right. I don't promise all of it works (like probably this situation), but it works at a basic level.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2013-02-07T18:56:39.630+0000","updated":"2013-02-07T18:56:39.630+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13573815","id":"13573815","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"I hope it's user error, not a bug.  Here's how I've configured my request handler.  The first one is the broker core, the second one is the config on the shard cores.  I have also tried this with the MoreLikeThisComponent in a regular search handler.\r\n\r\n{code}\r\n<requestHandler name=\"/mlt\" class=\"solr.MoreLikeThisHandler\">\r\n  <lst name=\"defaults\">\r\n    <str name=\"mlt\">true</str>\r\n    <str name=\"mlt.fl\">catchall</str>\r\n    <str name=\"mlt.boost\">true</str>\r\n    <str name=\"shards\">bigindy5.REDACTED.com:8982/solr/inclive,bigindy5.REDACTED.com:8982/solr/s0live,bigindy5.REDACTED.com:8982/solr/s1live,bigindy5.REDACTED.com:8982/solr/s2live,bigindy5.REDACTED.com:8982/solr/s3live,bigindy5.REDACTED.com:8982/solr/s4live,bigindy5.REDACTED.com:8982/solr/s5live</str>\r\n    <str name=\"shards.qt\">/mlt</str>\r\n    <str name=\"echoParams\">all</str>\r\n  </lst>\r\n</requestHandler>\r\n\r\n<requestHandler name=\"/mlt\" class=\"solr.MoreLikeThisHandler\">\r\n  <lst name=\"defaults\">\r\n    <str name=\"mlt\">true</str>\r\n    <str name=\"mlt.fl\">catchall</str>\r\n    <str name=\"mlt.boost\">true</str>\r\n    <str name=\"mlt.count\">100</str>\r\n    <str name=\"echoParams\">all</str>\r\n  </lst>\r\n</requestHandler>\r\n{code}\r\n\r\nWhen I send a query to /mlt on the broker core, I get the following.  The same query to /select returns one document.\r\n\r\n{code}\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<response>\r\n\r\n<lst name=\"responseHeader\">\r\n  <int name=\"status\">0</int>\r\n  <int name=\"QTime\">0</int>\r\n  <lst name=\"params\">\r\n    <str name=\"echoParams\">all</str>\r\n    <str name=\"shards\">bigindy5.REDACTED.com:8982/solr/inclive,bigindy5.REDACTED.com:8982/solr/s0live,bigindy5.REDACTED.com:8982/solr/s1live,bigindy5.REDACTED.com:8982/solr/s2live,bigindy5.REDACTED.com:8982/solr/s3live,bigindy5.REDACTED.com:8982/solr/s4live,bigindy5.REDACTED.com:8982/solr/s5live</str>\r\n    <str name=\"mlt.boost\">true</str>\r\n    <str name=\"mlt.fl\">catchall</str>\r\n    <str name=\"shards.qt\">/mlt</str>\r\n    <str name=\"mlt\">true</str>\r\n    <str name=\"indent\">true</str>\r\n    <str name=\"q\">tag_id:efespphotos531595</str>\r\n    <str name=\"wt\">xml</str>\r\n  </lst>\r\n</lst>\r\n<result name=\"match\" numFound=\"0\" start=\"0\">\r\n</result>\r\n<null name=\"response\"/>\r\n</response>\r\n{code}\r\n\r\nNote that if I send the exact same request to the core that contains the document, I get results.  This just involves changing the part of the URL after /solr, no other changes.  Here's the first part of the response.  I've left the actual results out.\r\n\r\n{code}\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<response>\r\n\r\n<lst name=\"responseHeader\">\r\n  <int name=\"status\">0</int>\r\n  <int name=\"QTime\">198</int>\r\n  <lst name=\"params\">\r\n    <str name=\"echoParams\">all</str>\r\n    <str name=\"mlt.count\">100</str>\r\n    <str name=\"mlt.boost\">true</str>\r\n    <str name=\"mlt.fl\">catchall</str>\r\n    <str name=\"mlt\">true</str>\r\n    <str name=\"indent\">true</str>\r\n    <str name=\"q\">tag_id:efespphotos531595</str>\r\n    <str name=\"wt\">xml</str>\r\n  </lst>\r\n</lst>\r\n<result name=\"match\" numFound=\"1\" start=\"0\">\r\n  <doc>\r\n...\r\n{code}\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2013-02-07T19:22:16.537+0000","updated":"2013-02-07T19:22:16.537+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13573826","id":"13573826","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"I'm guessing that's kind of the uglish situation we have with distrib search and components at the moment.\r\n\r\nThe sub searches are hitting the /select handler unless you use shards.qt - so the select handler needs the component as well or you have to use shards.qt. Or do everything in the /select handler, but be sure not to hard code shards in solrconfig.xml (or you get infinite recursion)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2013-02-07T19:28:00.868+0000","updated":"2013-02-07T19:28:21.447+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13573865","id":"13573865","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"bq. The sub searches are hitting the /select handler unless you use shards.qt\r\n\r\nI am using shards.qt, but I can see in the log that it's hitting /select ... so perhaps one problem is that the MoreLikeThisHandler is ignoring shards.qt.  Even if that's fixed, I'm still not sure it'll work.  See below.\r\n\r\nHere's the results of my testing with just using the MoreLikeThisComponent using a handler called /search.  I manually included shards.qt, but it is also included in the handler definition.  I removed the one document from the results and redacted my domain name, but left the rest of the response as-is.  This time I can see the distributed requests hitting /search like they're supposed to, but still no results.  The QTime on this suggests that it's actually doing the work:\r\n\r\n{code}\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<response>\r\n\r\n<lst name=\"responseHeader\">\r\n  <int name=\"status\">0</int>\r\n  <int name=\"QTime\">6198</int>\r\n  <lst name=\"params\">\r\n    <str name=\"shards.qt\">/search</str>\r\n    <str name=\"spellcheck.extendedResults\">false</str>\r\n    <str name=\"spellcheck.maxCollationTries\">2</str>\r\n    <str name=\"spellcheck.maxCollations\">5</str>\r\n    <str name=\"spellcheck.maxCollationEvaluations\">2</str>\r\n    <str name=\"shards.tolerant\">true</str>\r\n    <str name=\"rows\">70</str>\r\n    <str name=\"spellcheck.onlyMorePopular\">false</str>\r\n    <str name=\"echoParams\">all</str>\r\n    <str name=\"df\">catchall</str>\r\n    <str name=\"shards\">bigindy5.REDACTED.com:8982/solr/inclive,bigindy5.REDACTED.com:8982/solr/s0live,bigindy5.REDACTED.com:8982/solr/s1live,bigindy5.REDACTED.com:8982/solr/s2live,bigindy5.REDACTED.com:8982/solr/s3live,bigindy5.REDACTED.com:8982/solr/s4live,bigindy5.REDACTED.com:8982/solr/s5live</str>\r\n    <str name=\"shards.info\">true</str>\r\n    <str name=\"spellcheck.dictionary\">default</str>\r\n    <str name=\"q.op\">AND</str>\r\n    <str name=\"spellcheck.count\">9</str>\r\n    <str name=\"mlt.count\">100</str>\r\n    <str name=\"mlt.fl\">catchall</str>\r\n    <str name=\"indent\">true</str>\r\n    <str name=\"shards.qt\">/search</str>\r\n    <str name=\"q\">tag_id:efespphotos531595</str>\r\n    <str name=\"mlt\">true</str>\r\n    <str name=\"wt\">xml</str>\r\n  </lst>\r\n</lst>\r\n<lst name=\"shards.info\">\r\n  <lst name=\"bigindy5.REDACTED.com:8982/solr/s0live\">\r\n    <long name=\"numFound\">0</long>\r\n    <float name=\"maxScore\">0.0</float>\r\n    <long name=\"time\">15</long>\r\n  </lst>\r\n  <lst name=\"bigindy5.REDACTED.com:8982/solr/s1live\">\r\n    <long name=\"numFound\">0</long>\r\n    <float name=\"maxScore\">0.0</float>\r\n    <long name=\"time\">15</long>\r\n  </lst>\r\n  <lst name=\"bigindy5.REDACTED.com:8982/solr/s4live\">\r\n    <long name=\"numFound\">0</long>\r\n    <float name=\"maxScore\">0.0</float>\r\n    <long name=\"time\">6</long>\r\n  </lst>\r\n  <lst name=\"bigindy5.REDACTED.com:8982/solr/s2live\">\r\n    <long name=\"numFound\">0</long>\r\n    <float name=\"maxScore\">0.0</float>\r\n    <long name=\"time\">6</long>\r\n  </lst>\r\n  <lst name=\"bigindy5.REDACTED.com:8982/solr/s5live\">\r\n    <long name=\"numFound\">0</long>\r\n    <float name=\"maxScore\">0.0</float>\r\n    <long name=\"time\">3</long>\r\n  </lst>\r\n  <lst name=\"bigindy5.REDACTED.com:8982/solr/s3live\">\r\n    <long name=\"numFound\">0</long>\r\n    <float name=\"maxScore\">0.0</float>\r\n    <long name=\"time\">5</long>\r\n  </lst>\r\n  <lst name=\"bigindy5.REDACTED.com:8982/solr/inclive\">\r\n    <long name=\"numFound\">1</long>\r\n    <float name=\"maxScore\">12.94707</float>\r\n    <long name=\"time\">37</long>\r\n  </lst>\r\n</lst>\r\n<result name=\"response\" numFound=\"1\" start=\"0\" maxScore=\"12.94707\">\r\n  <doc>\r\n.....</doc>\r\n</result>\r\n<lst name=\"moreLikeThis\">\r\n  <result name=\"efespphotos531595\" numFound=\"0\" start=\"0\" maxScore=\"0.0\">\r\n  </result>\r\n</lst>\r\n</response>\r\n{code}\r\n\r\nIn addition to the distributed requests with the mlt parameters, the log also shows this seven times:\r\n\r\nINFO  - 2013-02-07 12:51:51.036; org.apache.solr.handler.component.MoreLikeThisComponent; MLT: results added for key: efespphotos531595 documents: {numFound=0,start=0,maxScore=0.0,docs=[]}\r\n\r\nI also tried sending the request to /select, which is configured identically to /search except that shards.qt is not present.\r\n\r\nOne other potential factor: my uniqueKey field is not id, it's tag_id.  I don't have a field named id.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2013-02-07T20:01:00.447+0000","updated":"2013-02-07T20:01:00.447+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13573892","id":"13573892","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"I don't actually have any idea if the MoreLikeThisHandler works with distrib - I have not tried or written a test for that - just the mlt component itself configured in a standard handler. That's probably something that deserves it's own JIRA issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2013-02-07T20:31:06.073+0000","updated":"2013-02-07T20:31:06.073+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13573896","id":"13573896","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"bq. INFO - 2013-02-07 12:51:51.036; org.apache.solr.handler.component.MoreLikeThisComponent; MLT: results added for key: efespphotos531595 documents: {numFound=0,start=0,maxScore=0.0,docs=[]}\r\n\r\nThis means it's not finding matches on each node - either due to the data or config, I don't know. I do know it can find matches because I've seen that happen in tests - I've also matched those results against a single node for some basic queries. \r\n\r\nI've only tested that most basic scenario, because I don't really use the component and no one offered to test at the time. There is likely some work required to learn all of it's hills and valleys at the moment. I know it works at a basic level on tiny data - I don't know how smooth the ride is for anything real.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2013-02-07T20:35:17.498+0000","updated":"2013-02-07T20:35:17.498+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13573967","id":"13573967","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"Mark, do you see anything obviously wrong in my component query?  It's got echoParams=all, so you should be able to see everything even though I haven't given you the handler definition.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2013-02-07T21:47:30.298+0000","updated":"2013-02-07T21:47:30.298+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13577851","id":"13577851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cbartolo","name":"cbartolo","emailAddress":"cbartolo at crappycomic dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Colin Bartolome","active":true},"body":"Unfortunately, I can't find a way to get the MLT component to return the interesting terms it found, so I'm stuck with {{MoreLikeThisHandler}}.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cbartolo","name":"cbartolo","emailAddress":"cbartolo at crappycomic dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Colin Bartolome","active":true},"created":"2013-02-13T19:26:33.242+0000","updated":"2013-02-13T19:26:33.242+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13582635","id":"13582635","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"Colin, are you able to make distributed MLT work?  I can't make it work at all.  Do my problems require a separate issue?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2013-02-20T23:03:32.522+0000","updated":"2013-02-20T23:03:32.522+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13582673","id":"13582673","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cbartolo","name":"cbartolo","emailAddress":"cbartolo at crappycomic dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Colin Bartolome","active":true},"body":"Using the {{MoreLikeThisHandler}}, following the steps to reproduce I wrote produces interesting terms on one server, but not the other. On the server that produces interesting terms, the MLT search _is_ performed, but it returns matching documents from that server only.\r\n\r\nI don't know enough about broker cores to say for sure whether your issue is related.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cbartolo","name":"cbartolo","emailAddress":"cbartolo at crappycomic dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Colin Bartolome","active":true},"created":"2013-02-20T23:42:41.206+0000","updated":"2013-02-20T23:42:41.206+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13582831","id":"13582831","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[branch_4x commit] Shalin Shekhar Mangar\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1447339\r\n\r\nSOLR-4414: Add 'state' to shards (default to 'active') and read/write them to ZooKeeper\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2013-02-21T02:42:38.200+0000","updated":"2013-02-21T02:42:38.200+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13582847","id":"13582847","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[trunk commit] Shalin Shekhar Mangar\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1447336\r\n\r\nSOLR-4414: Add 'state' to shards (default to 'active') and read/write them to ZooKeeper\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2013-02-21T02:42:51.426+0000","updated":"2013-02-21T02:42:51.426+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13586558","id":"13586558","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cbartolo","name":"cbartolo","emailAddress":"cbartolo at crappycomic dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Colin Bartolome","active":true},"body":"By the way, I'm guessing the interesting terms that the query does return, when it returns any, are based on the documents contained in that shard only, instead of the documents contained in the whole collection. I suppose I can live with that, for the time being, but the trick is to query the right shard to begin with!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cbartolo","name":"cbartolo","emailAddress":"cbartolo at crappycomic dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Colin Bartolome","active":true},"created":"2013-02-26T01:01:37.980+0000","updated":"2013-02-26T01:01:37.980+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13733703","id":"13733703","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"body":"[~shalinmangar] I came across this issue while looking into my problems with distributed MoreLikeThis.  Things look a little off, so I'm writing this.\r\n\r\nAt a quick glance, the commit comment doesn't seem to be related to this issue, because it doesn't mention MLT at all.  Also, you have never commented on this issue outside the commit comment.  This is the issue number in CHANGES.txt, though.  Is the commit for this issue or another one?\r\n\r\nIf the commit is for this issue, I think this probably needs to be closed, fixed in 4.2 and 5.0.  If not, CHANGES.txt probably needs some cleanup.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elyograg","name":"elyograg","emailAddress":"apache at elyograg dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=elyograg&avatarId=20749","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=elyograg&avatarId=20749","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=elyograg&avatarId=20749","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=elyograg&avatarId=20749"},"displayName":"Shawn Heisey","active":true},"created":"2013-08-08T17:16:45.895+0000","updated":"2013-08-08T17:16:45.895+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13733713","id":"13733713","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"I think it was simply mis-tagged.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2013-08-08T17:25:14.342+0000","updated":"2013-08-08T17:25:14.342+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13733717","id":"13733717","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shalinmangar","name":"shalinmangar","emailAddress":"shalin dot mangar at lucidworks dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shalinmangar&avatarId=19501","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shalinmangar&avatarId=19501","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shalinmangar&avatarId=19501","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shalinmangar&avatarId=19501"},"displayName":"Shalin Shekhar Mangar","active":true},"body":"[~elyograg] - That was a mistake. The commit mentioned here actually belonged to SOLR-4415. I fixed the issue number in the change log but I forgot to put a comment here.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shalinmangar","name":"shalinmangar","emailAddress":"shalin dot mangar at lucidworks dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shalinmangar&avatarId=19501","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shalinmangar&avatarId=19501","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shalinmangar&avatarId=19501","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shalinmangar&avatarId=19501"},"displayName":"Shalin Shekhar Mangar","active":true},"created":"2013-08-08T17:27:39.668+0000","updated":"2013-08-08T17:27:39.668+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13865538","id":"13865538","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nimrod%40modusp.com","name":"nimrod@modusp.com","emailAddress":"nimrod at modusp dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nimrod Gliksman","active":true},"body":"Hi,\r\nDoes anyone knows of any progress in this matter, or any workaround?\r\nThanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nimrod%40modusp.com","name":"nimrod@modusp.com","emailAddress":"nimrod at modusp dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nimrod Gliksman","active":true},"created":"2014-01-08T15:19:32.373+0000","updated":"2014-01-08T16:04:54.459+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13865603","id":"13865603","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smolloy","name":"smolloy","emailAddress":"steve dot molloy at opentext dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=smolloy&avatarId=24845","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smolloy&avatarId=24845","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smolloy&avatarId=24845","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smolloy&avatarId=24845"},"displayName":"Steve Molloy","active":true},"body":"You may want to look at SOLR-5480.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smolloy","name":"smolloy","emailAddress":"steve dot molloy at opentext dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=smolloy&avatarId=24845","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smolloy&avatarId=24845","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smolloy&avatarId=24845","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smolloy&avatarId=24845"},"displayName":"Steve Molloy","active":true},"created":"2014-01-08T16:35:30.994+0000","updated":"2014-01-08T16:35:30.994+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13865651","id":"13865651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nimrod%40modusp.com","name":"nimrod@modusp.com","emailAddress":"nimrod at modusp dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nimrod Gliksman","active":true},"body":"Thanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nimrod%40modusp.com","name":"nimrod@modusp.com","emailAddress":"nimrod at modusp dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nimrod Gliksman","active":true},"created":"2014-01-08T17:15:47.354+0000","updated":"2014-01-08T17:15:47.354+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13869109","id":"13869109","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aaronkaplan","name":"aaronkaplan","emailAddress":"issues dot apache dot org4924 at aaronkaplan dot info","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kaplan","active":true},"body":"[~smolloy] why did you open a new ticket for SOLR-5480 rather than putting your patches here? Isn't SOLR-5480 just a better-specified version of this ticket?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aaronkaplan","name":"aaronkaplan","emailAddress":"issues dot apache dot org4924 at aaronkaplan dot info","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aaron Kaplan","active":true},"created":"2014-01-12T18:49:01.346+0000","updated":"2014-01-12T18:49:01.346+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13869568","id":"13869568","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smolloy","name":"smolloy","emailAddress":"steve dot molloy at opentext dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=smolloy&avatarId=24845","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smolloy&avatarId=24845","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smolloy&avatarId=24845","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smolloy&avatarId=24845"},"displayName":"Steve Molloy","active":true},"body":"There was confusion around MLT component and MLT handler support for distribution. The component already supported it when used in standard search, the handler didn't. If you feel both tickets should be merged, I'm ok with it. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smolloy","name":"smolloy","emailAddress":"steve dot molloy at opentext dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=smolloy&avatarId=24845","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=smolloy&avatarId=24845","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=smolloy&avatarId=24845","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=smolloy&avatarId=24845"},"displayName":"Steve Molloy","active":true},"created":"2014-01-13T14:08:45.476+0000","updated":"2014-01-13T14:08:45.476+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13984261","id":"13984261","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=simoneg","name":"simoneg","emailAddress":"simoneg at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simone Gianni","active":true},"body":"Managed to work around this bug using the TermVectorComponent (which is properly sharded) to fetch term vectors and adapting the query generation code in Lucene's MoreLikeThis component to create the MLT query client side. It's two calls (one for the term vectors and then one to perform the MLT query), but it works and is totally sharded.\r\n\r\nJust a hint on how to eventually work it around. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=simoneg","name":"simoneg","emailAddress":"simoneg at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simone Gianni","active":true},"created":"2014-04-29T12:50:46.824+0000","updated":"2014-04-29T12:50:46.824+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12631306/comment/13984423","id":"13984423","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daniele","name":"daniele","emailAddress":"d dot madama at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniele Madama","active":true},"body":"Great!\r\n\r\n\r\n\r\n\r\n\r\n\r\n-- \r\nThe box said \"Requires Windows XP or better\" .... so I installed Linux !\r\n-o=|=o-\r\n\r\nDaniele Madama\r\nhttp://www.danysoft.org\r\nskype: daniele_madama\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=daniele","name":"daniele","emailAddress":"d dot madama at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniele Madama","active":true},"created":"2014-04-29T15:47:17.828+0000","updated":"2014-04-29T15:47:17.828+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-4414/votes","votes":5,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1ht53:"}}