{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12538460","self":"https://issues.apache.org/jira/rest/api/latest/issue/12538460","key":"MAHOUT-946","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12319261","id":"12319261","description":"Primarily a cleanup and refactoring release. Some new functionality which has been previously completed and tested may be introduced.","name":"0.7","archived":false,"released":true,"releaseDate":"2012-05-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-01-16 00:01:04.559","customfield_12312323":null,"customfield_12310420":"223964","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_2054077485_*|*_1_*:*_1_*:*_160025_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-02-08T17:17:27.128+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-946/watchers","watchCount":2,"isWatching":false},"created":"2012-01-15T22:40:09.675+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316364","id":"12316364","description":"","name":"0.6","archived":false,"released":true,"releaseDate":"2012-02-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-06-16T09:35:17.836+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[],"timeoriginalestimate":null,"description":"I've run into a few places in Mahout where mapreduce jobs can fail and their status won't be checked, so processing will continue on.  This sometimes obscures the root problem.  I've tracked down a bunch of places where this problem exists, and tried to fix the code to do something reasonable (return -1 status code, throw exception, etc.) when jobs fail.\r\n\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"22475","summary":"Map-reduce job status often left unchecked","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":13,"total":13,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13186626","id":"13186626","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"Don't forget the example shell scripts!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2012-01-16T00:01:04.559+0000","updated":"2012-01-16T00:01:04.559+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13187264","id":"13187264","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"body":"Making sure the examples halt at appropriate places looks like it could be pretty involved.  For example, the first program where I added exit-code checks (asf-email-examples.sh) would not fail early, even when given a non-existant input directory.  Digging in, I found the java code (SequenceFilesFromMailArchives and MailProcessor) is happy to skip \"missing\" files during processing, even if that leads to 0 input records overall.\r\n\r\nI'm not sure I have the time/bandwidth to audit all of these.  Can we split that off into another JIRA (or maybe several for different examples)?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"created":"2012-01-16T22:29:12.580+0000","updated":"2012-01-16T22:29:12.580+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13187369","id":"13187369","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"Yup, you're right. Shell script should be a separate project.\r\n\r\nOne thing that jumps out at me is refactoring. The AbstractJob class is a toolkit for common tasks. It has a lot of kit for maybe the first 1/3 of the code to set up and run a job from the command line.  Could it also have a \"run job and fail nicely\" method?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2012-01-17T01:38:48.385+0000","updated":"2012-01-17T01:47:17.568+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13187755","id":"13187755","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"body":"Interesting thought - right now it seems to me the simplest \"drop in\" convenience method would be a (better-named) runAndThrowExceptionOnFailure().  There could also be a version that returned a status code, but I think most locations that use status codes also run multiple jobs.  So you still have to check the return value at many of the call-sites, just like with Job.waitForCompletion().  \r\n\r\nSome of these classes are also not AbstractJobs (though in some cases they should probably be converted - not sure it would make sense in all cases), some return some non-status value from the method that fires of the MR job, etc.  Maybe a static util method would make more sense?\r\n\r\nTaking a long view, I'd actually prefer to see most of these call sites re-worked to use return codes, rather than bake in exceptions.  Probably not pragmatic, though.  Sometimes done is the best color.  \r\n\r\nAbsent objections in the next day or so, I'll do something along the lines of static Job.waitForCompletion wrappers in AbstractJob.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"created":"2012-01-17T15:31:07.425+0000","updated":"2012-01-17T15:31:07.425+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13188152","id":"13188152","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"A job shutdown method should remember to remove intermediate files, and if it fails remove the output. A job should be able to override the \"run the job\" method with extra cleanups. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2012-01-18T00:48:09.703+0000","updated":"2012-01-18T00:48:09.703+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13194873","id":"13194873","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"body":"I thought about this some more and realized in many cases you might want opposite behavior (delete the intermediate files unless something broke - in that case save them for analysis).\r\n\r\nIn the end, I added a way to accumulate a list of Paths and clean those paths at the end of processing, but left accumulation and triggering deletion as subclass responsibilities.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"created":"2012-01-27T15:55:43.666+0000","updated":"2012-01-27T15:55:43.666+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13195416","id":"13195416","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"Sweet!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2012-01-28T04:48:49.778+0000","updated":"2012-01-28T04:48:49.778+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13202848","id":"13202848","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"I like it all, except I'm not sure about the cleanup methods. I think as you say the job can manage that if it needs to clean up; at least, that's how it works now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2012-02-07T21:57:43.232+0000","updated":"2012-02-07T21:57:43.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13202917","id":"13202917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"bq. Some of these classes are also not AbstractJobs (though in some cases they should probably be converted - not sure it would make sense in all cases), some return some non-status value from the method that fires of the MR job, etc. Maybe a static util method would make more sense?\r\n\r\nStatic util method would probably make more sense. \r\n\r\nMy current view of AbstractJob is that it is mixing two disparate concerns in one implementation: a Tool (pipeline bootstrap) in a sense of handing off the default Configuration, to which end it has a lot of helper methods, and a distinct MR job. Due to this, it is hard (or at least inconsistent) to use it as a base for a separate and highly specific step in multistep pipelines. \r\n\r\nStatic method would not require AbstractJob as a base, so static drop-in is probably a better approach at this point.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2012-02-07T23:06:14.915+0000","updated":"2012-02-07T23:08:38.607+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13203290","id":"13203290","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"body":"bq. My current view of AbstractJob is that it is mixing two disparate concerns in one implementation: a Tool (pipeline bootstrap) in a sense of handing off the default Configuration, to which end it has a lot of helper methods, and a distinct MR job\r\nThere are some single-threaded AbstractJob apps. It handles so much argument processing nonsense that it is useful for that alone.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lancenorskog","name":"lancenorskog","emailAddress":"lance dot norskog at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lance Norskog","active":true},"created":"2012-02-08T05:38:25.037+0000","updated":"2012-02-08T05:38:25.037+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13203694","id":"13203694","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"body":"I agree that the cleanup stuff seems a bit awkward as is.\r\n\r\nI'd like to see the checks get in, and I think halting execution on job failure is something folks can agree is an improvement.  It might be harder to settle on consensus for job cleanup strategies.  \r\n\r\nWould it make sense at this point to integrate the earlier patch, without the cleanups, and split off utility methods for cleanup to another ticket?  If so I'll volunteer to open a new issue and submit an initial patch to address the cleanup issue.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tcp","name":"tcp","emailAddress":"tcp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"tom pierce","active":true},"created":"2012-02-08T16:03:01.131+0000","updated":"2012-02-08T16:03:01.131+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13203755","id":"13203755","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"Agree, that much is done and committed now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2012-02-08T17:17:27.151+0000","updated":"2012-02-08T17:17:27.151+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12538460/comment/13203986","id":"13203986","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Mahout-Quality #1341 (See [https://builds.apache.org/job/Mahout-Quality/1341/])\r\n    MAHOUT-946 (missed one file)\r\nMAHOUT-946 Don't ignore failed MR status\r\n\r\nsrowen : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1241992\r\nFiles : \r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/classifier/naivebayes/test/TestNaiveBayesDriver.java\r\n\r\nsrowen : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1241988\r\nFiles : \r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/cf/taste/hadoop/als/DatasetSplitter.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/cf/taste/hadoop/als/FactorizationEvaluator.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/cf/taste/hadoop/als/ParallelALSFactorizationJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/cf/taste/hadoop/als/RecommenderJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/cf/taste/hadoop/item/RecommenderJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/cf/taste/hadoop/preparation/PreparePreferenceMatrixJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/cf/taste/hadoop/pseudo/RecommenderJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/cf/taste/hadoop/similarity/item/ItemSimilarityJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/cf/taste/hadoop/slopeone/SlopeOneAverageDiffsJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/classifier/df/mapreduce/Classifier.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/classifier/df/tools/FrequenciesJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/classifier/naivebayes/training/TrainNaiveBayesJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/spectral/common/AffinityMatrixInputJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/spectral/common/MatrixDiagonalizeJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/spectral/common/UnitVectorizerJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/spectral/common/VectorMatrixMultiplicationJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/spectral/eigencuts/EigencutsAffinityCutsJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/spectral/eigencuts/EigencutsSensitivityJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/fpm/pfpgrowth/PFPGrowth.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/ga/watchmaker/MahoutEvaluator.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/graph/AdjacencyMatrixJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/graph/linkanalysis/RandomWalk.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/math/hadoop/similarity/cooccurrence/RowSimilarityJob.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/math/hadoop/stats/BasicStats.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/math/stats/entropy/ConditionalEntropy.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/math/stats/entropy/Entropy.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/vectorizer/DictionaryVectorizer.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/vectorizer/DocumentProcessor.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/vectorizer/HighDFWordsPruner.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/vectorizer/SimpleTextEncodingVectorizer.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/vectorizer/collocations/llr/CollocDriver.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/vectorizer/common/PartialVectorMerger.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/vectorizer/tfidf/TFIDFConverter.java\r\n* /mahout/trunk/examples/src/main/java/org/apache/mahout/cf/taste/example/email/MailToPrefsDriver.java\r\n* /mahout/trunk/examples/src/main/java/org/apache/mahout/classifier/bayes/WikipediaDatasetCreatorDriver.java\r\n* /mahout/trunk/examples/src/main/java/org/apache/mahout/classifier/email/PrepEmailVectorsDriver.java\r\n* /mahout/trunk/examples/src/main/java/org/apache/mahout/fpm/pfpgrowth/dataset/KeyBasedStringTupleGrouper.java\r\n* /mahout/trunk/examples/src/main/java/org/apache/mahout/ga/watchmaker/cd/hadoop/CDMahoutEvaluator.java\r\n* /mahout/trunk/examples/src/main/java/org/apache/mahout/ga/watchmaker/cd/tool/CDInfosTool.java\r\n* /mahout/trunk/examples/src/main/java/org/apache/mahout/text/WikipediaToSequenceFile.java\r\n* /mahout/trunk/integration/src/main/java/org/apache/mahout/clustering/conversion/InputDriver.java\r\n* /mahout/trunk/integration/src/main/java/org/apache/mahout/clustering/conversion/meanshift/InputDriver.java\r\n* /mahout/trunk/integration/src/main/java/org/apache/mahout/clustering/evaluation/RepresentativePointsDriver.java\r\n* /mahout/trunk/integration/src/main/java/org/apache/mahout/text/TextParagraphSplittingJob.java\r\n* /mahout/trunk/integration/src/main/java/org/apache/mahout/utils/SplitInputJob.java\r\n* /mahout/trunk/integration/src/main/java/org/apache/mahout/utils/regex/RegexConverterDriver.java\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2012-02-08T21:09:47.429+0000","updated":"2012-02-08T21:09:47.429+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-946/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i047gv:"}}