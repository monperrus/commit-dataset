{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12313112","self":"https://issues.apache.org/jira/rest/api/latest/issue/12313112","key":"DERBY-496","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-07-01 12:21:12.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"21982","customfield_12310222":"1_*:*_1_*:*_1410051000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_693040000_*|*_4_*:*_1_*:*_27991603000","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-07-20T21:01:45.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-496/watchers","watchCount":0,"isWatching":false},"created":"2005-08-06T13:23:31.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-06-29T22:57:48.783+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"As summary.\n\n\nI found next exception in derby.log.\n\n[main] FAIL - org.apache.derbyTesting.unitTests.harness.T_Fail: Test failed - DiagnosticUtil.toDiagString() failed, got: (T_DiagTestClass1.toString(): object with diag interface), expected: (D_T_DiagTestClass1: object with diag interface).\norg.apache.derbyTesting.unitTests.harness.T_Fail: Test failed - DiagnosticUtil.toDiagString() failed, got: (T_DiagTestClass1.toString(): object with diag interface), expected: (D_T_DiagTestClass1: object with diag interface).\n\tat org.apache.derbyTesting.unitTests.harness.T_Fail.testFailMsg(T_Fail.java:95)\n\tat org.apache.derbyTesting.unitTests.services.T_Diagnosticable.t_001(T_Diagnosticable.java:105)\n\tat org.apache.derbyTesting.unitTests.services.T_Diagnosticable.runTestSet(T_Diagnosticable.java:207)\n\tat org.apache.derbyTesting.unitTests.harness.T_MultiIterations.runTests(T_MultiIterations.java:94)\n\tat org.apache.derbyTesting.unitTests.harness.T_Generic.Execute(T_Generic.java:117)\n\tat org.apache.derbyTesting.unitTests.harness.BasicUnitTestManager.runATest(BasicUnitTestManager.java:183)\n\tat org.apache.derbyTesting.unitTests.harness.BasicUnitTestManager.runTests(BasicUnitTestManager.java:245)\n\tat org.apache.derbyTesting.unitTests.harness.BasicUnitTestManager.boot(BasicUnitTestManager.java:92)\n\tat org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)\n\tat org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)\n\tat org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMonitor.java:1834)\n\tat org.apache.derby.impl.services.monitor.BaseMonitor.startServices(BaseMonitor.java:966)\n\tat org.apache.derby.impl.services.monitor.BaseMonitor.runWithState(BaseMonitor.java:398)\n\tat org.apache.derby.impl.services.monitor.FileMonitor.<init>(FileMonitor.java:57)\n\tat org.apache.derby.iapi.services.monitor.Monitor.startMonitor(Monitor.java:288)\n\tat org.apache.derbyTesting.unitTests.harness.UnitTestMain.main(UnitTestMain.java:50)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38977","summary":"unit test 'org.apache.derbyTesting.unitTests.services.T_Diagnosticable' was failed","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"naka@nysalor:~$ cat /proc/version\nLinux version 2.4.27-2-386 (horms@tabatha.lab.ultramonkey.org) (gcc version 3.3. 5 (Debian 1:3.3.5-12)) #1 Mon May 16 16:47:51 JST 2005\n\nnaka@nysalor:~$ java -version\njava version \"1.4.2_08\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_08-b03)\nJava HotSpot(TM) Client VM (build 1.4.2_08-b03, mixed mode)\n","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":16,"total":16,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12317832","id":"12317832","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"This is derby.log of testing unit suite resulted to failure in 'org.apache.derbyTesting.unitTests.services.T_Diagnosticable'.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-06T13:25:53.000+0000","updated":"2005-08-06T13:25:53.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12317835","id":"12317835","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"Next is Error message found in derby.log , and sorted out.\r\n\r\n\tDiagnosticUtil.toDiagString() failed, \r\n\r\n\t\tgot: (T_DiagTestClass1.toString(): object with diag interface), \r\n\t\texpected: (D_T_DiagTestClass1: object with diag interface).\r\n\r\n\r\nIt seems that processing to make diagnostic message was failed.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-06T15:48:32.000+0000","updated":"2005-08-06T15:48:32.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12317836","id":"12317836","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"I suspected exception which was not assumed was happened in the \"org.apache.derby.iapi.services.diag.DiagnosticUtil#findDiagnostic(Object ref)\" , \r\nwhich was called from  \"toDiagString(Object obj)\" of the same class.\r\n\r\n\r\nOn this assumption, I added next test code to working copy:\r\n\r\nIndex: DiagnosticUtil.java\r\n===================================================================\r\n--- DiagnosticUtil.java\t(revision 230523)\r\n+++ DiagnosticUtil.java\t(working copy)\r\n@@ -78,6 +78,8 @@\r\n \t\t\t\tString          diagClassName = \r\n \t\t\t\t\tclassName.substring(0, lastDot) + \r\n \t\t\t\t\t\"D_\" + className.substring(lastDot);\r\n+\t\t\t\t\r\n+\t\t\t\tSystem.out.println(\"SURVEY-496: \" + diagClassName);\r\n \r\n \t\t\t\tClass diagClass;\r\n \t\t\t\t\r\n@@ -98,10 +100,14 @@\r\n \r\n \t\t\t\tdiag_obj.init(ref);\r\n \r\n+\t\t\t\tSystem.out.println(\"SURVEY-496: diag_obj found\");\r\n+\r\n \t\t\t\treturn diag_obj;\r\n \t\t\t}\r\n \t\t\tcatch (Exception e)\r\n \t\t\t{\r\n+\t\t\t\tSystem.out.println(\"SURVEY-496:exepction catched\");\r\n+\t\t\t\te.printStackTrace(System.out);\r\n \t\t\t\treturn null;\r\n \t\t\t}\r\n \t\t}\r\n\r\n\r\nNext is log of executing program with test code:\r\n\r\ntext:MasterFileName = master/T_Diagnosticable.out\r\n2 del\r\n< -- Unit Test T_Diagnosticable finished\r\n2 add\r\n> SURVEY-496: org.apache.derbyTesting.unitTests.services.D_T_DiagTestClass1\r\n> SURVEY-496:exepction catched\r\n> java.lang.SecurityException: sealing violation: package org.apache.derby.iapi.services.diag is sealed\r\n> Shutting down due to unit test failure.\r\nTest Failed.\r\n*** End:   T_Diagnosticable jdk1.4.2_08 2005-08-06 15:41:06 ***\r\n\r\n\r\n I guesses java.lang,SecurityException. which was found in the log . causes this phenomena.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-06T16:02:51.000+0000","updated":"2005-08-06T16:02:51.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12317906","id":"12317906","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"I found that org.apache.derby.iapi.services.diag package exists in multiple jarfile.\r\n\r\n\r\nnaka@nysalor:~/ProgramDev/derby/trunk/jars/sane$ jar tf derby.jar > derby.jar.list\r\nnaka@nysalor:~/ProgramDev/derby/trunk/jars/sane$ jar tf derbyTesting.jar > derbyTesting.jar.list\r\n\r\nnaka@nysalor:~/ProgramDev/derby/trunk/jars/sane$ grep \"org.apache.derby.iapi.services.diag\" derby.jar.list\r\norg/apache/derby/iapi/services/diag/DiagnosticUtil.class\r\norg/apache/derby/iapi/services/diag/Diagnosticable.class\r\n\r\nnaka@nysalor:~/ProgramDev/derby/trunk/jars/sane$ grep \"org.apache.derby.iapi.services.diag\" derbyTesting.jar.list\r\norg/apache/derby/iapi/services/diag/DiagnosticUtil.class\r\norg/apache/derby/iapi/services/diag/Diagnosticable.class\r\norg/apache/derby/iapi/services/diag/DiagnosticableGeneric.class\r\nnaka@nysalor:~/ProgramDev/derby/trunk/jars/sane$\r\n\r\n\r\nThis seems to be the reason why SecurityException happened.\r\n\r\n\r\nSpec says ...\r\n\r\n\tA package sealed within a JAR specifies \r\n\tthat all classes defined in that package must originate from the same JAR. \r\n\tOtherwise, a SecurityException is thrown\r\n\r\n(citation from http://java.sun.com/j2se/1.4.2/docs/guide/extensions/spec.html#sealing)\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-07T20:36:02.000+0000","updated":"2005-08-07T20:36:02.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12317908","id":"12317908","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"Surveying this phenomena , I think this is a problem of building derby.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-07T20:49:28.000+0000","updated":"2005-08-07T20:49:28.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12318873","id":"12318873","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"I upload the patch.\r\n\r\n\r\nNext is description.\r\n\r\nModification:\r\n\t* Remove whole diag package from derbyTesting.jar\r\n\t* Add missing \"DiagnosticableGeneric\" class to diag package.\r\n\r\nTest:\r\n\t* run derbyall suite in next two classpath configuration , which contain derbyTesting.jar in different places , and confirm no error.\r\n\tCLASSPATH=$DERBY_INSTALL/jars/sane/derbyTesting.jar:$DERBY_INSTALL/tools/java/jakarta-oro-2.0.8.jar:$DERBY_INSTALL/jars/sane/derbynet.jar:$DERBY_INSTALL/jars/sane/derby.jar:$DERBY_INSTALL/jars/sane/derbytools.jar:$DERBY_INSTALL/jars/sane/derbyclient.jar:$DERBY_INSTALL/tools/java/db2jcc.jar:$DERBY_INSTALL/tools/java/db2jcc_license_c.jar:$DERBY_INSTALL/jars/sane/derbyLocale_es.jar:$DERBY_INSTALL/jars/sane/derbyLocale_de_DE.jar:$DERBY_INSTALL/jars/sane/derbyLocale_fr.jar:$DERBY_INSTALL/jars/sane/derbyLocale_it.jar:$DERBY_INSTALL/jars/sane/derbyLocale_ko_KR.jar:$DERBY_INSTALL/jars/sane/derbyLocale_pt_BR.jar:$DERBY_INSTALL/jars/sane/derbyLocale_zh_CN.jar:$DERBY_INSTALL/jars/sane/derbyLocale_zh_TW.jar:$DERBY_INSTALL/jars/sane/derbyLocale_ja_JP.jar:$CLASSPATH\r\n\t\r\n\tCLASSPATH=$DERBY_INSTALL/tools/java/jakarta-oro-2.0.8.jar:$DERBY_INSTALL/jars/sane/derbynet.jar:$DERBY_INSTALL/jars/sane/derby.jar:$DERBY_INSTALL/jars/sane/derbytools.jar:$DERBY_INSTALL/jars/sane/derbyclient.jar:$DERBY_INSTALL/tools/java/db2jcc.jar:$DERBY_INSTALL/tools/java/db2jcc_license_c.jar:$DERBY_INSTALL/jars/sane/derbyLocale_es.jar:$DERBY_INSTALL/jars/sane/derbyLocale_de_DE.jar:$DERBY_INSTALL/jars/sane/derbyLocale_fr.jar:$DERBY_INSTALL/jars/sane/derbyLocale_it.jar:$DERBY_INSTALL/jars/sane/derbyLocale_ko_KR.jar:$DERBY_INSTALL/jars/sane/derbyLocale_pt_BR.jar:$DERBY_INSTALL/jars/sane/derbyLocale_zh_CN.jar:$DERBY_INSTALL/jars/sane/derbyLocale_zh_TW.jar:$DERBY_INSTALL/jars/sane/derbyLocale_ja_JP.jar:$DERBY_INSTALL/jars/sane/derbyTesting.jar:$CLASSPATH\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-16T19:22:50.000+0000","updated":"2005-08-16T19:22:50.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12319167","id":"12319167","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":" I upload the second patch. Next is description.\r\n\r\nModification:\r\n* Remove whole diag package from derbyTesting.jar\r\n* Add missing \"DiagnosticableGeneric\" class to diag package. \r\n* Modify extraDBMSclasses.properties, reffering the mail,  http://article.gmane.org/gmane.comp.apache.db.derby.devel/7269.\r\n\r\nTesting:\r\n* run derbyall suite in next classpath configuration and found no error.\r\nCLASSPATH=$DERBY_INSTALL/tools/java/jakarta-oro-2.0.8.jar:$DERBY_INSTALL/jars/sane/derbynet.jar:$DERBY_INSTALL/jars/sane/derby.jar:$DERBY_INSTALL/jars/sane/derbytools.jar:$DERBY_INSTALL/jars/sane/derbyclient.jar:$DERBY_INSTALL/tools/java/db2jcc.jar:$DERBY_INSTALL/tools/java/db2jcc_license_c.jar:$DERBY_INSTALL/jars/sane/derbyLocale_es.jar:$DERBY_INSTALL/jars/sane/derbyLocale_de_DE.jar:$DERBY_INSTALL/jars/sane/derbyLocale_fr.jar:$DERBY_INSTALL/jars/sane/derbyLocale_it.jar:$DERBY_INSTALL/jars/sane/derbyLocale_ko_KR.jar:$DERBY_INSTALL/jars/sane/derbyLocale_pt_BR.jar:$DERBY_INSTALL/jars/sane/derbyLocale_zh_CN.jar:$DERBY_INSTALL/jars/sane/derbyLocale_zh_TW.jar:$DERBY_INSTALL/jars/sane/derbyLocale_ja_JP.jar:$DERBY_INSTALL/jars/sane/derbyTesting.jar:$CLASSPATH\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-18T22:21:43.000+0000","updated":"2005-08-18T22:21:43.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12319578","id":"12319578","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"I have commited the patch.\r\n\r\nSending        build.xml\r\nSending        tools/jar/extraDBMSclasses.properties\r\nTransmitting file data ..\r\nCommitted revision 234472.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-22T21:03:32.000+0000","updated":"2005-08-22T21:03:32.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12320567","id":"12320567","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"There is suspicion that the patch for DERBY-496 caused regression ...\r\n\r\nsee http://article.gmane.org/gmane.comp.apache.db.derby.devel/7703 .","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-30T21:35:02.000+0000","updated":"2005-08-30T21:35:02.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12320584","id":"12320584","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"Additional Fix proposed in http://article.gmane.org/gmane.comp.apache.db.derby.devel/7709","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-30T23:21:09.000+0000","updated":"2005-08-30T23:21:09.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12320680","id":"12320680","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"Description of DERBY-496_2_addition.patch:\r\n\r\nModification:\r\n* Adding DiagnosticUtil explicitly to derby.jar by modifying extraDBMSclasses.properties\r\n\r\nTesting:\r\n* unit/T_Diagnosticable passed.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-08-31T20:01:15.000+0000","updated":"2005-08-31T20:01:15.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12320779","id":"12320779","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"Additional Description of DERBY-496_2_addition.patch: \r\nTesting:\r\n* derbyall passed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-09-01T19:58:51.000+0000","updated":"2005-09-01T19:58:51.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12322608","id":"12322608","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"body":"I have commited DERBY-496_2_addition.patch :\r\n\r\nSending        tools/jar/extraDBMSclasses.properties\r\nTransmitting file data .\r\nCommitted revision 278581.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=naka","name":"naka","emailAddress":"tomonaka at basil dot ocn dot ne dot jp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tomohito Nakayama","active":true},"created":"2005-09-04T20:35:46.000+0000","updated":"2005-09-04T20:35:46.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12418760","id":"12418760","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"I've seen some recent reports of this failure. Knut Anders Hatlen reported that this failed for him on a couple of platforms for 10.1.3. There were also recent reports of failure in this test attached to DERBY-1386 and DERBY-1058.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2006-07-01T12:21:12.000+0000","updated":"2006-07-01T12:21:12.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12419150","id":"12419150","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I believe this failure has not occurred on trunk after the check-in of\r\nDERBY-496_2_addition.patch (revision 278581). If no one wants to port\r\nthe fix to the 10.1 branch, I think we can close the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2006-07-04T23:37:28.000+0000","updated":"2006-07-04T23:37:28.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12313112/comment/12422493","id":"12422493","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I am closing the issue since the failure has not been observed in 10.2 after revision 278581. Thank you for tracking it down and fixing it, Tomohito!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2006-07-20T21:01:45.000+0000","updated":"2006-07-20T21:01:45.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-496/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i071av:"}}