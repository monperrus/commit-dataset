{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12502727","self":"https://issues.apache.org/jira/rest/api/latest/issue/12502727","key":"ARIES-626","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310981","id":"12310981","key":"ARIES","name":"Aries","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310981&avatarId=10065","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310981&avatarId=10065","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310981&avatarId=10065","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310981&avatarId=10065"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10520","id":"10520","description":"Apache Aries","name":"Aries"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321541","id":"12321541","name":"blueprint-core-0.3.2","archived":true,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12321544","id":"12321544","name":"1.0","archived":false,"released":true}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-03-30 22:33:41.408","customfield_12312323":null,"customfield_12310420":"94230","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_36282229152_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-05-22T13:30:19.240+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-626/watchers","watchCount":1,"isWatching":false},"created":"2011-03-29T15:06:30.242+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316139","id":"12316139","description":"","name":"0.4","archived":true,"released":false}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dkulp","name":"dkulp","emailAddress":"dkulp at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dkulp&avatarId=10090","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dkulp&avatarId=10090","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dkulp&avatarId=10090","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dkulp&avatarId=10090"},"displayName":"Daniel Kulp","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-05-22T13:30:19.307+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313048","id":"12313048","name":"Blueprint","description":"OSGi Blueprint Services implementation"}],"timeoriginalestimate":null,"description":"If you have a NamespaceHandler implementation where the schema contains xsd:includes, the schema will fail to resolve if you do not have connectivity.\r\nThere is also no way to attach a CatalogResolver or xml-resolver.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"62716","summary":"Aries blueprint namaspace handler schema with includes","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joed","name":"joed","emailAddress":"seijoed at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edstrom Johan","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joed","name":"joed","emailAddress":"seijoed at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edstrom Johan","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":7,"total":7,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12502727/comment/13012539","id":"13012539","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joed","name":"joed","emailAddress":"seijoed at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edstrom Johan","active":true},"body":"Also an inline include will fail. Such as : <xsd:import namespace=\"http://cxf.apache.org/configuration/beans\" schemaLocation=\"cxf-beans.xsd\"/>","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joed","name":"joed","emailAddress":"seijoed at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edstrom Johan","active":true},"created":"2011-03-29T16:15:31.990+0000","updated":"2011-03-29T16:15:31.990+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12502727/comment/13013711","id":"13013711","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gnt","name":"gnt","emailAddress":"gnodet at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guillaume Nodet","active":true},"body":"Why not having the blueprint extender calling \r\n   nshandler.getSchemaLocation(\"http://cxf.apache.org/configuration/beans\") \r\nin such a case ?\r\n\r\nThis way, each namespace handler could implement its own logic ?\r\nEspecially as most of the namespace handlers i've seen use simple (i.e. self contained) schemas, I'm not really sure that complicating the logic is a good idea.\r\n\r\nThoughts ?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gnt","name":"gnt","emailAddress":"gnodet at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guillaume Nodet","active":true},"created":"2011-03-30T22:33:41.408+0000","updated":"2011-03-30T22:33:41.408+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12502727/comment/13015695","id":"13015695","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joed","name":"joed","emailAddress":"seijoed at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edstrom Johan","active":true},"body":"Then the local nshandler would have to rewrite a schema for offline work?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=joed","name":"joed","emailAddress":"seijoed at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edstrom Johan","active":true},"created":"2011-04-05T00:11:07.127+0000","updated":"2011-04-05T00:11:07.127+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12502727/comment/13029862","id":"13029862","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahrwald","name":"mahrwald","emailAddress":"vmahrwald at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Valentin Mahrwald","active":true},"body":"Calling nshandler.getSchemaLocation(...) for missing external schemas would be nice in not complicating the logic. Trying this out in code I have found two snags though (that may be due to my limited understanding):\r\n\r\n- Without adding the namespaces to the NamespaceHandler namespaces service property (or adding a new property) the code has to query every namespace handler to see if it can supply a schema for a given URI.\r\n- xsd:include would only work if the schemaLocation is treated as a schema URI, which seems like a subversion of the API to me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahrwald","name":"mahrwald","emailAddress":"vmahrwald at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Valentin Mahrwald","active":true},"created":"2011-05-06T09:24:53.549+0000","updated":"2011-05-06T09:24:53.549+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12502727/comment/13156942","id":"13156942","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ay","name":"ay","emailAddress":"dev-null at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Akitoshi Yoshida","active":false},"body":"Hi Dan,\r\nI found out the reason why the one-liner fix (i.e. part 1 fix) was working for 0.3.x but not in 0.4.1-SNAPSHOT.\r\nUnlike in 0.3.x, the 0.4.1-SNAPSHOT version uses its own LRResourceResolver and this is returning a schema resource per namespace.\r\nThis is not working when you have schema \"includes\" because you have a single namespace trying to load several schema resources.\r\n\r\nI added this handling by checking whether systemId is relative and if so, transforming it relative to the resource path. I am attaching this patch. Could you check the patch?\r\n\r\nI think the whole thing could have be done simpler using for the cases when baseURI is already a non remote URI. But for now, I think it's okay.\r\n\r\nregards, aki ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ay","name":"ay","emailAddress":"dev-null at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Akitoshi Yoshida","active":false},"created":"2011-11-25T00:11:12.748+0000","updated":"2011-11-25T00:11:12.748+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12502727/comment/13157191","id":"13157191","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ay","name":"ay","emailAddress":"dev-null at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Akitoshi Yoshida","active":false},"body":"I need to make some correction.\r\nsorry. \r\nthe code I uploaded solves the relative path but seems to have broken the remote path handling from Dan.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ay","name":"ay","emailAddress":"dev-null at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Akitoshi Yoshida","active":false},"created":"2011-11-25T15:23:50.936+0000","updated":"2011-11-25T15:23:50.936+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12502727/comment/13157200","id":"13157200","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ay","name":"ay","emailAddress":"dev-null at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Akitoshi Yoshida","active":false},"body":"the regex of the previous fix corrected so that the remote and relpath both should work.\r\n\r\nsorry.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ay","name":"ay","emailAddress":"dev-null at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Akitoshi Yoshida","active":false},"created":"2011-11-25T15:43:33.582+0000","updated":"2011-11-25T15:43:33.582+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-626/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0b3q7:"}}