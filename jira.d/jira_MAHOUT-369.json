{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12461399","self":"https://issues.apache.org/jira/rest/api/latest/issue/12461399","key":"MAHOUT-369","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315255","id":"12315255","description":"","name":"0.5","archived":false,"released":true,"releaseDate":"2011-05-27"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-04-08 16:10:16.207","customfield_12312323":null,"customfield_12310420":"9695","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_52985469_*|*_1_*:*_1_*:*_31263089608_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2011-04-05T00:24:13.705+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-369/watchers","watchCount":5,"isWatching":false},"created":"2010-04-07T13:29:38.663+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":["DistributedLanczosSolver","decomposer"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314281","id":"12314281","description":"","name":"0.3","archived":false,"released":true,"releaseDate":"2010-03-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314396","id":"12314396","description":"","name":"0.4","archived":false,"released":true,"releaseDate":"2010-10-31"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-05-21T03:18:56.606+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312270","id":"12312270","name":"Math","description":"Math / Matrix / Vector stuff"}],"timeoriginalestimate":null,"description":"DistributedLanczosSolver (line 99) claims to persist eigenVectors.numRows() vectors.\r\n{code}\r\n    log.info(\"Persisting \" + eigenVectors.numRows() + \" eigenVectors and eigenValues to: \" + outputPath);\r\n{code}\r\n\r\nHowever, a few lines later (line 106) we have\r\n{code}\r\n    for(int i=0; i<eigenVectors.numRows() - 1; i++) {\r\n        ...\r\n    }\r\n{code}\r\n\r\nwhich only persists eigenVectors.numRows()-1 vectors.\r\n\r\nSeems like the most significant eigenvector (i.e. the one with the largest eigenvalue) is omitted... off by one bug?\r\n\r\n\r\nAlso, I think it would be better if the eigenvectors are persisted in *reverse* order, meaning the most significant vector is marked \"0\", the 2nd most significant is marked \"1\", etc.\r\n\r\nThis, for two reasons:\r\n1) When performing another PCA on the same corpus (say, with more principal componenets), corresponding eigenvalues can be easily matched and compared.  \r\n2) Makes it easier to discard the least significant principal components, which for Lanczos decomposition are usually garbage.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"23049","summary":"Issues with DistributedLanczosSolver output","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dleshem","name":"dleshem","emailAddress":"dleshem at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danny Leshem","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dleshem","name":"dleshem","emailAddress":"dleshem at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danny Leshem","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":19,"total":19,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/12854971","id":"12854971","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"body":"Can you create a suggested patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tdunning","name":"tdunning","emailAddress":"ted dot dunning at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ted Dunning","active":true},"created":"2010-04-08T16:10:16.207+0000","updated":"2010-04-08T16:10:16.207+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/12854992","id":"12854992","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"If the patch amounts to making that loop into:\r\n\r\n   for (int i = eigenVectors.numRows() - 1; i >= 0; i--) {\r\n\r\nThen I can commit that. But do the folks who understand this code agree it's the thing to do? seems so.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2010-04-08T16:45:40.213+0000","updated":"2010-04-08T16:45:40.213+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/12855014","id":"12855014","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"body":"Hold on that Sean, I made the loop like that for a reason.  I need to check in again and verify if/where it's wrong, but it was not an oversight, it has to do with the way the Colt code does EigenDecomposition.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"created":"2010-04-08T17:12:47.691+0000","updated":"2010-04-08T17:12:47.691+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/12857329","id":"12857329","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dleshem","name":"dleshem","emailAddress":"dleshem at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danny Leshem","active":true},"body":"Attached is a simple patch that fixed the two issues raised.\r\n\r\nThe right way to do this is to introduce a new unit-test that fails with the current version (e.g. decompose a fixed matrix and verify all its known eigenvalues are found). The attached patch has no such code.\r\n\r\nAll relevant unit-tests pass (I'm getting errors for a few org.apache.mahout.clustering tests, nothing related to this change though).\r\n\r\nJake, I'm doing this mostly to practice sending Mahout patches. If your original code indeed implemented the intended logic, you might want to add a unit-test that fails my patch...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dleshem","name":"dleshem","emailAddress":"dleshem at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danny Leshem","active":true},"created":"2010-04-15T14:19:10.421+0000","updated":"2010-04-15T14:21:37.831+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/12859855","id":"12859855","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dleshem","name":"dleshem","emailAddress":"dleshem at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danny Leshem","active":true},"body":"Okay, please ignore my previous patch.\r\n\r\nI think I finally understand what's going on with the code. There are two seemingly unrelated issues:\r\n\r\n1) The code returns one less eigenvector/eigenvalue than requested.\r\n\r\nLanczosSolver.java (157) returns one less eigenvector/eigenvalue than requested-\r\n{code}\r\n    for (int i = 0; i < basis.numRows() - 1; i++) {\r\n{code}\r\n\r\nDistributedLanczosSolver.java (106) serializes one less eigenvector than requested-\r\n{code}\r\n    for(int i=0; i<eigenVectors.numRows() - 1; i++) {\r\n{code}\r\n\r\n2) When asked for N eigenvectors, the code returns (serializes) the most important N-1 eigenvectors in *descending* order (meaning, important ones are serialized first - which, other than the \"N-1\" part, is excellent!), but associates them with the bottom N-1 out of the top N most important eigenvalues in *ascending* order (meaning, important ones are serialized last).\r\n\r\nIn other words, the #1 important eigenvalue is not serialized at all, the #2 important eigenvalue is associated with the #N-1 important eigenvector, ... and finally the #N most important eigenvalue is associated with the #1 important eigenvector.\r\n\r\nVector names changed drastically during the last few days (following Sean's patch for MAHOUT-379), so issue #2 is less obvious now. Previously the eigenvalues where serialized with the vector. Now they are only mentioned in log prints.\r\n\r\nHere's some code to verify these claims. The code creates a 1000-rows 100-columns matrix. For each row, the first element is +1/-1 with equal probabilities, and the rest are +0.001/-0.001 with equal probabilities. The Elements are uncorrelated. So decomposing this matrix should reveal that the most important PC is the 100-dimensional vector (1, 0, 0, ... , 0), and it should be associated with a *much* higher eigenvalue than the rest. To test my claims, remove the \"-1\" from the two loops mentioned above, and run the following code:\r\n\r\n[add to TestDistributedRowMatrix.java]\r\n{code}\r\n  public static DistributedRowMatrix distributedMatrix(final Matrix matrix,\r\n                                                       String baseTmpDir) throws IOException {\r\n    baseTmpDir = TESTDATA + baseTmpDir;\r\n    Configuration conf = new Configuration();\r\n    FileSystem fs = FileSystem.get(conf);\r\n\r\n    ClusteringTestUtils.writePointsToFile(new Iterable<VectorWritable>() {\r\n      @Override\r\n      public Iterator<VectorWritable> iterator() {\r\n        final Iterator<MatrixSlice> it = matrix.iterator();\r\n        return new Iterator<VectorWritable>() {\r\n          @Override\r\n          public boolean hasNext() { return it.hasNext(); }\r\n          @Override\r\n          public VectorWritable next() {\r\n            MatrixSlice slice = it.next();\r\n            return new VectorWritable(slice.vector());\r\n          }\r\n          @Override\r\n          public void remove() { it.remove(); }\r\n        };\r\n      }\r\n    }, true, baseTmpDir + \"/distMatrix/part-00000\", fs, conf);\r\n\r\n    DistributedRowMatrix distMatrix = new DistributedRowMatrix(baseTmpDir + \"/distMatrix\",\r\n                                                               baseTmpDir + \"/tmpOut\",\r\n                                                               matrix.numRows(),\r\n                                                               matrix.numCols());\r\n    distMatrix.configure(new JobConf(conf));\r\n\r\n    return distMatrix;\r\n  }\r\n{code}\r\n\r\n[add to TestDistributedLanczosSolver.java, and run the test]\r\n{code}\r\n  private Random rand = new Random();\r\n\r\n  private double[] randomRow(int numColumns) {\r\n      final double[] values = new double[numColumns];\r\n\r\n      // Only the first column's value is \"important\". Columns are uncorrelated.\r\n      values[0] = (rand.nextBoolean() ? 1 : -1);\r\n      for (int i = 1; i < numColumns; ++i) {\r\n          values[i] = (rand.nextBoolean() ? 0.001 : -0.001);\r\n      }\r\n\r\n      return values;\r\n  }\r\n\r\n  private Matrix randomMatrix(int numRows, int numColumns) {\r\n      final Matrix matrix = new DenseMatrix(numRows, numColumns);\r\n      for (int row = 0; row < numRows; ++row) {\r\n          matrix.set(row, randomRow(numColumns));\r\n      }\r\n      return matrix;\r\n  }\r\n\r\n  public void testDistributedLanczosSolverSanity() throws Exception {\r\n    final File testData = new File(\"testdata\");\r\n    if (!testData.exists()) {\r\n      testData.mkdir();\r\n    }\r\n\r\n    final Matrix matrix = randomMatrix(1000, 100);\r\n    final DistributedRowMatrix distMatrix =\r\n            TestDistributedRowMatrix.distributedMatrix(matrix, \"testdata\");\r\n    distMatrix.configure(new JobConf());\r\n\r\n    final DistributedLanczosSolver solver = new DistributedLanczosSolver();\r\n    final Matrix eigenVectors = new DenseMatrix(30, 100);\r\n    final List<Double> eigenValues = new ArrayList<Double>();\r\n    solver.solve(distMatrix, 30, eigenVectors, eigenValues, false);\r\n\r\n    System.out.println(\"--- Eigenvalues ---\");\r\n    printDoubleList(eigenValues);\r\n    \r\n    System.out.println(\"--- Eigenvectors ---\");\r\n    printMatrix(eigenVectors);\r\n  }\r\n\r\n  private void printDoubleList(List<Double> values) {\r\n    for (double value : values) {\r\n        System.out.print(value + \"\\t\");\r\n    }\r\n    System.out.println(\"\");\r\n  }\r\n\r\n  private void printMatrix(Matrix matrix) {\r\n      for (int row = 0; row < matrix.numRows(); ++row) {\r\n          for (int col = 0; col < matrix.numCols(); ++col) {\r\n              System.out.print(matrix.get(row, col) + \"\\t\");\r\n          }\r\n          System.out.println(\"\");\r\n      }\r\n  }\r\n{code}\r\n\r\nThe test does not fail the current code, but you can see what's wrong by its prints. To make this a real test, one can replace the printing with verifying that 1) the first eigenvalue is, say, at least 100 times bigger than the second; and 2) the returned eigenvectors in fact correspond to their eigenvalues. This would fail the current code.\r\n\r\nI considered submitting another patch, but I'm no longer sure about the best way to fix this. However, I am positive now that this is a real issue that needs to be fixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dleshem","name":"dleshem","emailAddress":"dleshem at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danny Leshem","active":true},"created":"2010-04-22T15:57:55.432+0000","updated":"2010-04-22T15:57:55.432+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/12860690","id":"12860690","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"body":"Danny, thanks for looking into this so carefully, I think you definitely have described what's going on in this now.  \r\n\r\nI'm going to try and look at this some more in the next few days and clean it up a bit, and add in some of your suggested unit tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"created":"2010-04-25T15:10:06.117+0000","updated":"2010-04-25T15:10:06.117+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/12914001","id":"12914001","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"Same question -- commitable Jake? or needs more review and time and so for 0.5?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2010-09-23T12:22:05.479+0000","updated":"2010-09-23T12:22:05.479+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/12983592","id":"12983592","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"This one's also been on the shelf for about 4 months. Is it ready to go, or should it be archived?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2011-01-19T07:48:51.506+0000","updated":"2011-01-19T07:48:51.506+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/12983600","id":"12983600","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"body":"I haven't looked at this particular patch in ages, but let me try and check it out again, because I think this patch fixes a real problem and should get in, not archived.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"created":"2011-01-19T08:12:44.534+0000","updated":"2011-01-19T08:12:44.534+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/12992656","id":"12992656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=danny.bickson","name":"danny.bickson","emailAddress":"danny dot bickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danny Bickson","active":true},"body":"I just checked this patch and it is correct. There are some other minor problems.\r\n1) The ordering of eigenvalues was the opposite than eigenvectors. But this the patch fixes.\r\n2) The signs of the first and third eigenvectors are negative to the sign of matlab. The second eigenvalue has the correct sign.\r\n3) When requesting a rank of 4, we get 3 eigenvalues... So it seems that the rank is always lower by one.\r\n\r\n\r\nI have added a test function named estLanczosSolver2() to TestLanczosSolver.java (code below).\r\nTo run it, you need first to comment the line: //nextVector.assign(new Scale(1 / scaleFactor));\r\nin LanczosSolver.java, so it is easier to compare the results to Matlab, without the normalization.\r\n\r\nI further suggest to add an additional optional flag for avoiding normalization.\r\n\r\n\r\nThe factorized matrix is: \r\n>> full(A)\r\n\r\nans =\r\n\r\n    3.1200   -3.1212   -3.0000\r\n   -3.1110    1.5000    2.1212\r\n   -7.0000   -8.0000   -4.0000\r\n\r\n\r\nThe eigenvalues are;\r\n>> [a,b]=eig(full(A'*A))  \r\n\r\na =\r\n\r\n    0.2132   -0.8010   -0.5593\r\n   -0.5785    0.3578   -0.7330\r\n    0.7873    0.4799   -0.3871\r\n\r\n\r\nb =\r\n\r\n    0.0314         0         0\r\n         0   42.6176         0\r\n         0         0  131.2553\r\n\r\nNow I run the unit test testLanczosSolver2 and I get:\r\nINFO: Lanczos iteration complete - now to diagonalize the tri-diagonal auxiliary matrix.\r\nFeb 9, 2011 1:25:36 PM org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Eigenvector 0 found with eigenvalue 131.25526355941963\r\nFeb 9, 2011 1:25:36 PM org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Eigenvector 1 found with eigenvalue 42.61761063477249\r\nFeb 9, 2011 1:25:36 PM org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Eigenvector 2 found with eigenvalue 0.03137295830779152\r\nFeb 9, 2011 1:25:36 PM org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: LanczosSolver finished.\r\n\r\nAs you can see the eigenvalues are correct, but when I look at the eigenvectors I see that\r\nV0 (the row number zero eigenvector) = [ 0.5593 0.7330 0.387] , where in matlab we get -V0 (the third column of the matrix a above)\r\n\r\n@\r\nTest\r\n  public void testLanczosSolver2() throws Exception {\r\n    int numRows = 3; int numCols = 3;\r\n    int numColumns = 3;\r\n    SparseRowMatrix m = new SparseRowMatrix(new int[]{numRows, numCols});\r\n    /**\r\n     *     3.1200   -3.1212   -3.0000\r\n          -3.1110    1.5000    2.1212\r\n          -7.0000   -8.0000   -4.0000\r\n\r\n     */\r\n    m.set(0,0,3.12);\r\n    m.set(0,1,-3.12121);\r\n    m.set(0,2,-3);\r\n    m.set(1,0,-3.111);\r\n    m.set(1,1,1.5);\r\n    m.set(1,2,2.12122);\r\n    m.set(2,0,-7);\r\n    m.set(2,1,-8);\r\n    m.set(2,2,-4);\r\n\r\n    int rank = 4;\r\n    Matrix eigens = new DenseMatrix(rank, numColumns);\r\n    long time = timeLanczos(m, eigens, rank, false);\r\n    assertTrue(\"Lanczos taking too long!  Are you in the debugger? :)\", time < 10000);\r\n    //assertOrthonormal(eigens);\r\n    //assertEigen(eigens, m, 0.1, false);\r\n  }\r\n\r\n\r\nBest, \r\n\r\nDanny Bickson\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=danny.bickson","name":"danny.bickson","emailAddress":"danny dot bickson at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Danny Bickson","active":true},"created":"2011-02-09T18:54:08.447+0000","updated":"2011-02-09T18:58:01.563+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/13000929","id":"13000929","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=derekocallaghan","name":"derekocallaghan","emailAddress":"derek dot ocallaghan at ucd dot ie","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Derek O'Callaghan","active":true},"body":"Hi Danny,\r\n\r\nI've tried out your testLanczosSolver2() test, but I get different output to yours as the eigenvalues are in the reverse order to what you got, i.e. (I've added a line to LanczosSolver to also print the realEigen eigenvector):\r\n\r\nINFO: Lanczos iteration complete - now to diagonalize the tri-diagonal auxiliary matrix.\r\n01-Mar-2011 15:56:56 org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Eigenvector 0 found with eigenvalue 0.0\r\n01-Mar-2011 15:56:56 org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Eigenvector 0 - {0:0.5593439330819562,1:0.7330112630790516,2:0.3870773213760546}\r\n01-Mar-2011 15:56:56 org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Eigenvector 1 found with eigenvalue 0.03137295830774178\r\n01-Mar-2011 15:56:56 org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Eigenvector 1 - {0:-0.8010370751145115,1:0.35784374789842055,2:0.47988275274487646}\r\n01-Mar-2011 15:56:56 org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Eigenvector 2 found with eigenvalue 42.617610634772475\r\n01-Mar-2011 15:56:56 org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Eigenvector 2 - {0:-0.21324626331168514,1:0.5784827916967494,2:-0.7873269275811279}\r\n01-Mar-2011 15:56:56 org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: LanczosSolver finished.\r\n\r\nWhen I debug, I see that eigenVals contains [0.0, 0.03137295830774178, 42.617610634772475, 131.25526355941963]. I wanted to check if you'd made a change to LanczosSolver to reverse the order of the eigenvalues, before you generated the test output in your last comment? I don't see any changes to this file in the patch file attached here.\r\n\r\nThanks,\r\n\r\nDerek","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=derekocallaghan","name":"derekocallaghan","emailAddress":"derek dot ocallaghan at ucd dot ie","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Derek O'Callaghan","active":true},"created":"2011-03-01T16:04:12.953+0000","updated":"2011-03-01T16:04:12.953+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/13014986","id":"13014986","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"I'd like to commit the patch. Danny seems confident it's the right change and Jake felt it was probably right. Derek suggests maybe there is more that needs to go into the patch. Danny could you confirm whether these are all the changes that are necessary?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2011-04-02T10:19:51.576+0000","updated":"2011-04-02T10:19:51.576+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/13015044","id":"13015044","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"body":"Are the issues with eigenvalue accuracy resolved? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dlyubimov","name":"dlyubimov","emailAddress":"dlyubimov at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitriy Lyubimov","active":true},"created":"2011-04-02T16:14:44.772+0000","updated":"2011-04-02T16:14:44.772+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/13015331","id":"13015331","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"body":"Patch addresses inconsistency mentioned by Danny.  Might need some cleanup, but otherwise incorporates his suggestions as well as adds a more thorough consistency check between COLT's old EigenvalueDecompositionImpl, and the Lanczos impl in here.  For certain problems, they should yield the same answers!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"created":"2011-04-04T09:39:44.518+0000","updated":"2011-04-04T09:39:44.518+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/13015332","id":"13015332","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"body":"Patch might need some cleanup, but it should be basically there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"created":"2011-04-04T09:41:08.263+0000","updated":"2011-04-04T09:41:08.263+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/13015343","id":"13015343","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"body":"LGTM, noting that the patch flips around some imports and that could be removed.\r\nI am sure you're clear to commit as you see fit or you can leave it to me to take care of.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","emailAddress":"srowen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=10104","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=10104","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=10104","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=10104"},"displayName":"Sean Owen","active":true},"created":"2011-04-04T09:59:46.662+0000","updated":"2011-04-04T09:59:46.662+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/13015467","id":"13015467","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"body":"I'll fix those imports, and add some comments on what has changed / what is being done now.\r\n\r\nThere are some more improvements which are necessary, but this is strictly better than was what was there before, so I'll commit this as soon as I can (after adding said comments, to be fleshed out on the list/wiki further).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"created":"2011-04-04T15:42:39.071+0000","updated":"2011-04-04T15:42:39.071+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/13015699","id":"13015699","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"body":"Ok, fixed the import * crap (from bad IDE settings), and renamed a magic constant in the test to be a bit more readable, and fixed a few things in tests which were broken (tests had been written to *assume* you get back one less than the number of eigenvectors requested).  Committing now!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"created":"2011-04-05T00:17:19.610+0000","updated":"2011-04-05T00:17:19.610+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12461399/comment/13015700","id":"13015700","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"body":"Committed revision 1088831.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jake.mannix","name":"jake.mannix","emailAddress":"jake dot mannix at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jake Mannix","active":true},"created":"2011-04-05T00:24:13.714+0000","updated":"2011-04-05T00:24:13.714+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-369/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i04b0f:"}}