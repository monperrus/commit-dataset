{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12460854","self":"https://issues.apache.org/jira/rest/api/latest/issue/12460854","key":"LUCENE-2359","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314822","id":"12314822","description":"Major release after 3.x","name":"3.1","archived":false,"released":true,"releaseDate":"2011-03-31"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314025","id":"12314025","description":"Alpha release of the 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-03-31 22:10:19.097","customfield_12312323":null,"customfield_12310420":"11437","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_61028942_*|*_5_*:*_2_*:*_18230279198_*|*_4_*:*_1_*:*_2542210891","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-11-27T23:25:35.206+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-2359/watchers","watchCount":1,"isWatching":false},"created":"2010-03-31T20:20:16.175+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312682","id":"12312682","description":"Last release (barring major bugs) before migrating to 3.0 and JDK 1.5","name":"2.9","archived":false,"released":true,"releaseDate":"2009-09-25"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314295","id":"12314295","description":"bug fix release","name":"2.9.1","archived":false,"released":true,"releaseDate":"2009-11-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314342","id":"12314342","description":"Bugfixes for 2.9.1","name":"2.9.2","archived":false,"released":true,"releaseDate":"2010-02-26"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312889","id":"12312889","description":"Migration to JDK 1.5","name":"3.0","archived":false,"released":true,"releaseDate":"2009-11-25"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314401","id":"12314401","description":"Bugfixes for 3.0","name":"3.0.1","archived":false,"released":true,"releaseDate":"2010-02-26"}],"issuelinks":[{"id":"12331119","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12331119","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"outwardIssue":{"id":"12460358","key":"LUCENE-2350","self":"https://issues.apache.org/jira/rest/api/2/issue/12460358","fields":{"summary":"Refactor/Cleanup Lucene Spatial","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}},{"id":"12337255","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12337255","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12465105","key":"LUCENE-2475","self":"https://issues.apache.org/jira/rest/api/2/issue/12465105","fields":{"summary":"Incorrect Bounding Box calculation results in the exclusion of valid data locations","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-02T02:29:36.041+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312623","id":"12312623","name":"modules/spatial","description":"issues related to Spatial module"}],"timeoriginalestimate":null,"description":"Test case:  \r\nPoints all around the globe, plus two points at 0, 179.9 and 0,-179.9 (on each side of the meridian).  Then, do a Cartesian Tier filter on a point right near those two.  It will return all the points when it should just return those two.\r\n\r\nThe flawed logic is in the else clause below:\r\n{code}\r\nif (longX2 != 0.0) {\r\n\t\t//We are around the prime meridian\r\n\t\tif (longX == 0.0) {\r\n\t\t\tlongX = longX2;\r\n\t\t\tlongY = 0.0;\r\n        \tshape = getShapeLoop(shape,ctp,latX,longX,latY,longY);\r\n\t\t} else {//we are around the 180th longitude\r\n\t\t\tlongX = longX2;\r\n\t\t\tlongY = -180.0;\r\n\t\t\tshape = getShapeLoop(shape,ctp,latY,longY,latX,longX);\r\n\t}\r\n{code}\r\n\r\nBasically, the Y and X values are transposed.  This currently says go from longY (-180) all the way around  to longX which is the lower left longitude of the box formed.  Instead, it should go from the lower left long to -180.","customfield_10010":null,"timetracking":{},"customfield_12310120":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10121","value":"New","id":"10121"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"25649","summary":"CartesianPolyFilterBuilder doesn't handle edge case around the 180 meridian","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":30,"total":30,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12852104","id":"12852104","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Fix.  Will commit today or tomorrow.  Going to double check logic again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-03-31T21:06:18.789+0000","updated":"2010-03-31T21:06:18.789+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12852136","id":"12852136","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"This is fixed in the pendig re work done by Chris Male\r\n\r\nShould be comitted in a whole soon","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-03-31T22:10:19.097+0000","updated":"2010-03-31T22:10:19.097+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12852139","id":"12852139","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"If you want to check / compare code while waiting for the commit from Chris :\r\n\r\nhttp://code.google.com/p/spatial-search-lucene/source/browse/trunk/src/main/java/org/apache/lucene/spatial/tier/CartesianPolyFilterBuilder.java\r\n\r\nRegards,\r\n\r\nNicolas","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-03-31T22:14:30.577+0000","updated":"2010-03-31T22:14:30.577+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12852141","id":"12852141","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmale","name":"cmale","emailAddress":"gento0nz at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Male","active":true},"body":"Hi Nicolas,\r\n\r\nSorry I hadn't seen that you had been working on this.  I will create a patch based on your work so we can get this fixed up in the next day or two.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmale","name":"cmale","emailAddress":"gento0nz at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chris Male","active":true},"created":"2010-03-31T22:20:53.028+0000","updated":"2010-03-31T22:20:53.028+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12852374","id":"12852374","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Committed revision 929956.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-04-01T13:17:24.987+0000","updated":"2010-04-01T13:17:24.987+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12853091","id":"12853091","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"Here is a patch to import the CartesianPolyFilterBuilder:getBoxShape part of the code from the worked we have done with Chris @ GoogleCode\r\nI tried to keep it as minimal as possible\r\n\r\nNext step is to patch LatLngRectangle in the same way","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-03T07:42:42.605+0000","updated":"2010-04-03T07:42:42.605+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12853121","id":"12853121","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Nicolas,\r\n\r\nHow does this compare to what I already committed?  Also, can you put up a patch that doesn't have all the formatting changes and just has the bug fixes?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-04-03T11:22:46.137+0000","updated":"2010-04-03T11:22:46.137+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12853150","id":"12853150","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"Here is the re worked patch, sorry for the formatting :s\r\n\r\nThis patch  :\r\n\r\n- handles East AND West tiles when close to the prime meridian (either by 0 or by 180 values) where yours only catch East ones\r\n- reworks the logic to have algorithm in the code logic instead of in variables values\r\n- gives variavbles full names to better understand the code logic\r\n- separates the logic of handling the prime meridian which stays in getBoxShape from the logic of add boxes to the shape in addBoxes : addBoxes is called one time in normal case and two times for search area crossing the prime meridian (half by half)\r\n\r\nHope it better fits your need now","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-03T15:58:30.429+0000","updated":"2010-04-03T15:58:30.429+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12853156","id":"12853156","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"bq. handles East AND West tiles when close to the prime meridian (either by 0 or by 180 values) where yours only catch East ones\r\n\r\nHow so?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-04-03T16:41:33.027+0000","updated":"2010-04-03T16:41:33.027+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12853162","id":"12853162","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"{code}\r\n    if (longUpperRight < longLowerLeft) { // Box cross the 180 meridian\r\n      addBoxes(shape, ctp, latLowerLeft, longLowerLeft, latUpperRight, LatLng.LONGITUDE_DEGREE_RANGE / 2);\r\n      addBoxes(shape, ctp, latLowerLeft, -LatLng.LONGITUDE_DEGREE_RANGE / 2, latUpperRight, longUpperRight);\r\n    } else {\r\n      addBoxes(shape, ctp, latLowerLeft, longLowerLeft, latUpperRight, longUpperRight);\r\n{code}\r\n\r\nIf the search area cross the prime meridian we spilt the addBoxes call in two : one half East of the meridian, one half West to handle the jump from -180 degree to 180\r\nIf not we do a normal addBoxes call","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-03T17:04:16.232+0000","updated":"2010-04-03T17:04:16.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12853164","id":"12853164","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"AFAICT, that is covered by the current code.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-04-03T17:17:27.468+0000","updated":"2010-04-03T17:17:27.468+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12853166","id":"12853166","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"Re checked and you are right.\r\n\r\nI read too fast your patch without the global code context.\r\nWith your fix the code is doing the right thing concerning the prime meridian.\r\n\r\nSo, mine should only be considered as a cosmetic one.\r\nIf you do no find that the logic is clearer with it, you can ignore it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-03T17:20:14.511+0000","updated":"2010-04-03T17:21:04.220+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12853904","id":"12853904","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"Worked again around the code in CartesianPolyFilterBuilder and finally set up this test (attached).\r\n\r\nHere lies the difference between the two patchs : as I reworked all the logic I did change the code in getShapeLoop that you did not touch.\r\n\r\nMaybe it shall be adressed in another issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-06T12:14:02.098+0000","updated":"2010-04-06T12:14:02.098+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12856565","id":"12856565","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Committed Nicolas' updates to trunk","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-04-13T19:22:24.678+0000","updated":"2010-04-13T19:22:24.678+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12856902","id":"12856902","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Nicolas,\r\n\r\nWhy the change in the best fit algorithm?  Do you have a reference to calculation of this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-04-14T14:01:45.022+0000","updated":"2010-04-14T14:01:45.022+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12856929","id":"12856929","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"What my code do :\r\n\r\nIt looks how many times you can fit the search diameter (2.0d * range) into the distance that will be split into longitudes range (I-e distanceUnit.earthCircumference()).\r\n\r\nAnd then it takes the first biggest level of Tier that will have a range just above the search diameter (int bestFit = (int) Math.ceil(log2(times));)\r\n\r\nThis way you ll have the better comprise betwenn  fetching the less number of boxes and not fetching too big boxes with too many documents in them.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-14T15:24:28.878+0000","updated":"2010-04-14T15:24:28.878+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12856954","id":"12856954","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"Summary tables :\r\n\r\n||Tile Level||TierLegnth||TierBoxes||TileXLength (miles)||\r\n|0|1|1|24902|\r\n|1|2|4|12451|\r\n|2|4|16|6225,5|\r\n|3|8|64|3112,75|\r\n|4|16|256|1556,375|\r\n|5|32|1024|778,1875|\r\n|6|64|4096|389,09375|\r\n|7|128|16384|194,546875|\r\n|8|256|65536|97,2734375|\r\n|9|512|262144|48,63671875|\r\n|10|1024|1048576|24,31835938|\r\n|11|2048|4194304|12,15917969|\r\n|12|4096|16777216|6,079589844|\r\n|13|8192|67108864|3,039794922|\r\n|14|16384|268435456|1,519897461|\r\n|15|32768|1073741824|0,75994873|\r\n\r\n||Radius (miles)||legacy bestFit||legacy bestFit TileLength||legacy bestFit max number of Box to fetch||new bestFit||new bestFit TileLength||new bestFit number of Box to fetch||\r\n|1|18|0,75994873|9|14|1,519897461|4|\r\n|5|16|0,75994873|64|12|6,079589844|4|\r\n|10|15|0,75994873|225|11|12,15917969|4|\r\n|25|13|3,039794922|100|9|48,63671875|4|\r\n|50|12|6,079589844|100|8|97,2734375|4|\r\n|100|11|12,15917969|100|7|194,546875|4|\r\n|250|10|24,31835938|144|6|389,09375|4|\r\n|500|9|48,63671875|144|5|778,1875|4|\r\n|1000|8|97,2734375|144|4|1556,375|4|\r\n|2500|7|194,546875|196|3|3112,75|4|\r\n|5000|6|389,09375|196|2|6225,5|4|\r\n|10000|5|778,1875|196|1|12451|4|\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-14T16:42:06.177+0000","updated":"2010-04-14T20:40:17.070+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12856963","id":"12856963","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Thanks, Nicolas.  To me, based on these values, the answer is to revert and then refactor.  \r\n\r\nAlso, is the 9 in the last column of the second table (radius 25) an outlier or a c & p error?  That seems really odd.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-04-14T17:15:38.921+0000","updated":"2010-04-14T17:15:38.921+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12856980","id":"12856980","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"I do agree, it is odd.\r\n\r\nI shall go through the process again and watch where it comes from.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-14T17:38:56.502+0000","updated":"2010-04-14T17:38:56.502+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12856984","id":"12856984","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yseeley%40gmail.com","name":"yseeley@gmail.com","emailAddress":"yseeley at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yonik Seeley","active":true},"body":"Hi Nicolas, I like the idea of reducing the number of tiles that need to be queried, but it does look like the current reduction might be a little aggressive for the default.  Perhaps we could have some sort of filtering accuracy parameter that could give more precise control over the trade-off?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yseeley%40gmail.com","name":"yseeley@gmail.com","emailAddress":"yseeley at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yonik Seeley","active":true},"created":"2010-04-14T17:43:56.049+0000","updated":"2010-04-14T17:43:56.049+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12857001","id":"12857001","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"hi Yonik,\r\n\r\nI do not aggre : as the 4 tiles requested go cover all the search area there is no gain in beeing less accurate.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-14T18:10:09.252+0000","updated":"2010-04-14T18:10:09.252+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12857006","id":"12857006","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yseeley%40gmail.com","name":"yseeley@gmail.com","emailAddress":"yseeley at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yonik Seeley","active":true},"body":"Perhaps I'm misreading the table?  I had assumed that your new algorithm was often less selective (allowed more points through the filter) than the old.  Is this not the case?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yseeley%40gmail.com","name":"yseeley@gmail.com","emailAddress":"yseeley at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yonik Seeley","active":true},"created":"2010-04-14T18:22:53.242+0000","updated":"2010-04-14T18:22:53.242+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12857010","id":"12857010","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"Yonik, \r\n\r\nIt is the case, but the points left out are for sure not in the search area.\r\n\r\nGrant,\r\n\r\nYou were right ! It was a c&p error ! As you can see in the above table 'TileLength' for Tier 9 is 48,63671875 not 24,31835938 and then the 'new bestFit number of Box to fetch' becomes ... 4 ! =)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-14T18:27:41.403+0000","updated":"2010-04-14T18:27:41.403+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12857054","id":"12857054","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"So, you're saying then that your approach only ever has to retrieve 4 boxes no matter the radius?  Do you have a reference URL to where we can read more about it?\r\n\r\nAlso, please edit your table to reflect the error","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-04-14T19:53:33.307+0000","updated":"2010-04-14T19:53:33.307+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12857081","id":"12857081","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"Edit done.\r\n\r\nI am currently browsing to find a good reference.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-04-14T20:41:27.547+0000","updated":"2010-04-14T20:41:27.547+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12857158","id":"12857158","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Reverted the last patch and the other related ones.  Let's have a discussion on the mailing list about coordinating all of this.  I'd like to see the patches be focused on solving the specific issues and then we can open up a new issue for refactoring this to make for pluggable best fit, etc.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-04-15T00:18:09.961+0000","updated":"2010-04-15T00:18:09.961+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12926276","id":"12926276","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"reopening for possible 2.9.4/3.0.3 backport.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2010-10-29T13:15:24.294+0000","updated":"2010-10-29T13:15:24.294+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12932473","id":"12932473","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"body":"Robert,\r\n\r\nHere is the patch updated to work on rev 1035291\r\n\r\nValidating Unit Tests are included","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nicolas.helleringer","name":"nicolas.helleringer","emailAddress":"nicolas dot helleringer at novacodex dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Helleringer","active":true},"created":"2010-11-16T14:18:03.912+0000","updated":"2010-11-16T14:18:03.912+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/12964471","id":"12964471","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"body":"Resolving again as this issue will not be backported to 2.9/3.0 branches.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"created":"2010-11-27T23:25:35.150+0000","updated":"2010-11-27T23:25:35.150+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12460854/comment/13013389","id":"13013389","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Bulk close for 3.1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2011-03-30T15:50:11.059+0000","updated":"2011-03-30T15:50:11.059+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-2359/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i04r27:"}}