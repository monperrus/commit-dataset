{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12493383","self":"https://issues.apache.org/jira/rest/api/latest/issue/12493383","key":"DERBY-4946","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315902","id":"12315902","description":"Head of 10.7 branch as of 2010-11-29","name":"10.7.1.4","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12316362","id":"12316362","description":"First release on the 10.8 branch","name":"10.8.1.2","archived":false,"released":true,"releaseDate":"2011-04-29"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2010-12-16 13:56:04.006","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"24546","customfield_12310222":"3_*:*_1_*:*_23025184_*|*_1_*:*_1_*:*_374680453_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-12-20T15:43:03.194+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4946/watchers","watchCount":0,"isWatching":false},"created":"2010-12-16T01:14:37.557+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315564","id":"12315564","description":"First release on the 10.7 branch.","name":"10.7.1.1","archived":false,"released":true,"releaseDate":"2010-12-14"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12316362","id":"12316362","description":"First release on the 10.8 branch","name":"10.8.1.2","archived":false,"released":true,"releaseDate":"2011-04-29"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-04-19T12:39:21.013+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11407","id":"11407","name":"JDBC"}],"timeoriginalestimate":null,"description":"Derby 10.7 DatabaseMetaData.getTypeInfo() should not return the BOOLEAN data type with a soft upgraded database as often applications use getTypeInfo() to determine if tables can be created with this type.\r\n\r\nTo reproduce and see the impact of the problem, first create the database testdb with 10.6\r\nij version 10.6\r\nij> connect 'jdbc:derby:testdb;create=true';\r\nij>\r\n\r\nrun the attached program UseDBMetaForBool with 10.6  and it runs fine.\r\n$ java UseDBMetaForBool\r\ngetDriverVersion10.6.2.3 - (1026030M)\r\nsupportsBoolean = false Make my table accordingly\r\nCREATING SMALLINT TABLE SINCE NO BOOLEAN\r\ngetBoolean=true\r\ngetString=1\r\n\r\nNext run the program against 10.7 in soft upgrade mode and it fails with:\r\n$ java UseDBMetaForBool\r\ngetDriverVersion10.7.1.2 - (1040699M)\r\nsupportsBoolean = true Make my table accordingly\r\nCREATING BOOLEAN TABLE\r\nException in thread \"main\" java.sql.SQLException: Use of 'BOOLEAN' requires data\r\nbase to be upgraded from version 10.6 to version 10.7 or later.\r\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(SQLE\r\nxceptionFactory40.java:95)\r\n        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Util.java:256)\r\n\r\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException\r\n(TransactionResourceImpl.java:396)\r\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Tr\r\nansactionResourceImpl.java:348)\r\n        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConne\r\nction.java:2284)\r\n        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Connection\r\nChild.java:82)\r\n        at org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java\r\n:616)\r\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeUpdate(EmbedStatemen\r\nt.java:176)\r\n        at UseDBMetaForBool.main(UseDBMetaForBool.java:28)\r\nCaused by: java.sql.SQLException: Use of 'BOOLEAN' requires database to be upgra\r\nded from version 10.6 to version 10.7 or later.\r\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExc\r\neptionFactory.java:45)\r\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransport\r\nAcrossDRDA(SQLExceptionFactory40.java:119)\r\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(SQLE\r\nxceptionFactory40.java:70)\r\n        ... 8 more\r\nCaused by: ERROR XCL47: Use of 'BOOLEAN' requires database to be upgraded from v\r\nersion 10.6 to version 10.7 or later.\r\n        at org.apache.derby.iapi.error.StandardException.newException(StandardEx\r\nception.java:343)\r\n        at org.apache.derby.impl.sql.catalog.DD_Version.checkVersion(DD_Version.\r\njava:845)\r\n        at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.checkVersion(Dat\r\naDictionaryImpl.java:9662)\r\n        at org.apache.derby.impl.sql.compile.SQLParser.checkVersion(SQLParser.ja\r\nva:327)\r\n        at org.apache.derby.impl.sql.compile.SQLParser.dataTypeCommon(SQLParser.\r\njava:3336)\r\n        at org.apache.derby.impl.sql.compile.SQLParser.dataTypeDDL(SQLParser.jav\r\na:3260)\r\n        at org.apache.derby.impl.sql.compile.SQLParser.columnDefinition(SQLParse\r\nr.java:3125)\r\n        at org.apache.derby.impl.sql.compile.SQLParser.tableElement(SQLParser.ja\r\nva:3090)\r\n        at org.apache.derby.impl.sql.compile.SQLParser.tableElementList(SQLParse\r\nr.java:3061)\r\n        at org.apache.derby.impl.sql.compile.SQLParser.tableDefinition(SQLParser\r\n.java:10204)\r\n        at org.apache.derby.impl.sql.compile.SQLParser.createStatements(SQLParse\r\nr.java:2079)\r\n        at org.apache.derby.impl.sql.compile.SQLParser.StatementPart(SQLParser.j\r\nava:1974)\r\n        at org.apache.derby.impl.sql.compile.SQLParser.Statement(SQLParser.java:\r\n1892)\r\n        at org.apache.derby.impl.sql.compile.ParserImpl.parseStatement(ParserImp\r\nl.java:151)\r\n        at org.apache.derby.impl.sql.GenericStatement.prepMinion(GenericStatemen\r\nt.java:282)\r\n        at org.apache.derby.impl.sql.GenericStatement.prepare(GenericStatement.j\r\nava:90)\r\n        at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepa\r\nreInternalStatement(GenericLanguageConnectionContext.java:1101)\r\n        at org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java\r\n:607)\r\n        ... 2 more\r\n\r\n\r\nFinally, hard upgrade and see it runs again once the upgrade has been performed:\r\n$ java org.apache.derby.tools.ij\r\nij version 10.7\r\nij> connect 'jdbc:derby:testdb;upgrade=true';\r\nij>\r\n\r\nkmarsden@IBM-93AE43E63C0 ~/repro/softUpgr\r\n$ java UseDBMetaForBool\r\ngetDriverVersion10.7.1.2 - (1040699M)\r\nsupportsBoolean = true Make my table accordingly\r\nCREATING BOOLEAN TABLE\r\ngetBoolean=true\r\ngetString=true\r\n\r\n\r\nThe application  should run in soft upgrade mode and DatabaseMetaData.getTypeInfo() should not return the BOOLEAN type in soft upgrade before it is available to use.\r\n\r\n\r\n\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10420","value":"Regression","id":"10420"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"36502","summary":"Derby 10.7 DatabaseMetaData.getTypeInfo() should not return BOOLEAN for a soft upgraded database","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"subtasks":[],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10422","value":"High Value Fix","id":"10422"},{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10424","value":"Repro attached","id":"10424"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":19,"total":19,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12971924","id":"12971924","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Attaching reproduction for soft upgrade issue with DatabaseMetaData.getTypeInfo() see description for instructions.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2010-12-16T01:15:56.109+0000","updated":"2010-12-16T01:15:56.109+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972082","id":"12972082","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Prior to 10.7, the behavior of Derby's BOOLEAN datatype was, frankly, broken. It was a half datatype. You could not create columns of BOOLEAN type but you could select columns of BOOLEAN type (from the system tables). From the point of view of applications wanting to know what kind of data they could INSERT, it was correct for DatabaseMetaData.getTypeInfo() to omit the BOOLEAN datatype. However, from the point of view of applications wanting to know what kind of datatypes they could SELECT, it was wrong for DatabaseMetaData.getTypeInfo() to omit the BOOLEAN datatype. The full, gory state of the mess is described in the appendixes of the functional spec attached to DERBY-499.\r\n\r\nIn short, prior to 10.7, including or omitting BOOLEAN from DatabaseMetaData.getTypeInfo() would have been correct or incorrect depending on what your application's needs were. I have no enthusiasm for changing this output from one wrong answer to another. Conversely, I won't veto your work if you want to change which wrong answer we give.\r\n\r\nUsers will not get the right answer until they hard-upgrade to 10.7, the release which fixes this datatype.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2010-12-16T13:56:04.006+0000","updated":"2010-12-16T13:56:04.006+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972135","id":"12972135","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Thanks Rick for your insight. I want to understand your statement.\r\n\r\n\"However, from the point of view of applications wanting to know what kind of datatypes they could SELECT, it was wrong for DatabaseMetaData.getTypeInfo() to omit the BOOLEAN datatype. \"\r\n\r\nI was trying to think under what circumstances this might be useful to anyone. I certainly do know that no Derby users are using it this way as BOOLEAN was never returned in getTypeInfo()  until now.\r\n\r\nI do think that quite a few applications use it the other way to see if BOOLEAN is available for user tables with the database they are working with and this bug will break those applications in soft upgrade mode, probably preventing those evaluating 10.7  from making the decision to move to 10.7.   So I think it is a fairly serious regression that we now return BOOLEAN in getTypeInfo() with a database where it is not available.  I am sorry to hear you are not interested in fixing it as part of the BOOLEAN data type work.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2010-12-16T16:31:41.925+0000","updated":"2010-12-16T16:31:41.925+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972144","id":"12972144","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Hi Kathey,\r\n\r\nThe ability to SELECT boolean values is useful for applications which introspect Derby's metadata by issuing queries against the catalogs, compensating for the fact that we have not implemented the SQL Information Schema.\r\n\r\nI agree that the behavior has changed and it is a regression from the point of view of the applications you have described. From the point of view of other applications it is a bug-fix and an improvement.\r\n\r\nAs I said, if you believe this is a serious problem for your customers, then you are welcome to revert the behavior. I will not veto that change.\r\n\r\nWhile you are at it, you may want to remove the XML datatype from the output of DatabaseMetaData.getTypeInfo(). It is another half-supported Derby datatype and it may be causing similar problems for the applications you are concerned about.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2010-12-16T17:08:20.549+0000","updated":"2010-12-16T17:08:20.549+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972155","id":"12972155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Well getBoolean() works on System table BOOLEAN  regardless, so not so clear why that would be useful decision point  but  certainly clear to me that in the contexts  where BOOLEAN is not supported the DatabaseMetaData should continue to not return it.\r\n\r\n I am glad to hear you would not veto someone fixing this regression but  a bit perplexed that you would  consider doing so.   \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2010-12-16T17:35:48.131+0000","updated":"2010-12-16T17:35:48.131+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972243","id":"12972243","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"My gut feeling is that of the two wrong answers, saying that boolean is not supported in the soft-upgrade scenario is probably the one that does less harm. I see that the class-level javadoc for DatabaseMetaData mentions some use cases for the class, and one of them is the one in Kathey's repro:\r\n\r\n\"For example, a tool might use the method getTypeInfo to find out what data types can be used in a CREATE TABLE statement.\"\r\n\r\nI have a hard time imagining an application that would run into trouble if we removed boolean from getTypeInfo() in soft upgrade. We've had the situation with a half boolean data type and no mentioning of boolean in getTypeInfo() for a very long time, and no problems have been reported because of it as far as I know, so I believe such a change would be pretty safe to make.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-12-16T22:15:20.696+0000","updated":"2010-12-16T22:15:20.696+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972483","id":"12972483","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"There were many problems with Cloudscape's original BOOLEAN datatype. I have fixed the ones I knew about. Additional problems were introduced when BOOLEAN was removed as a datatype usable in CREATE TABLE statements. One of those problems was the introduction of a metadata discrepancy between getTypeInfo() and getColumns(). It seems wrong to me that DatabaseMetaData().getColumns() can return datatypes which do not appear in the list returned by getTypeInfo().\r\n\r\nHowever, I agree with Knut's final statement: Our users have learned how to code around this discrepancy, and reverting the behavior is a low risk change.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2010-12-17T13:47:15.965+0000","updated":"2010-12-17T13:47:15.965+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972537","id":"12972537","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Yes I think the only risk in fixing it could be if someone started depending on the new behavior.   Since  I think we do not currently have infrastructure  for a variable query for DatabaseMetaData, a fix  might be hard, and there doesn't seem to be anyone with bandwidth to fix it right now, so I think it would make sense to add a release note to DERBY-4730 pointing to this bug and indicating that BOOLEAN will be removed from getTypeInfo() as soon as this issue is fixed.  It might also be helpful to users that encounter  the issue in the repro.    I am not exactly sure how they could work around that problem with Generic JDBC code or even with something specific to Derby.   We have the open issue https://issues.apache.org/jira/browse/DERBY-4259 which would work but that is not fixed yet. Does anyone have ideas how users can work around this issue and recognize if the database is in soft upgrade mode and whether BOOLEAN is actually available to create a table?  Then we could add that to the release note too.\r\n\r\nThanks\r\n\r\nKathey\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2010-12-17T16:19:45.971+0000","updated":"2010-12-17T16:19:45.971+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972555","id":"12972555","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"The easiest way to see if they can create a table with a BOOLEAN column, would be to attempt to create a table with a BOOLEAN column and see if that fails. :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-12-17T17:35:43.067+0000","updated":"2010-12-17T17:35:43.067+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972621","id":"12972621","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I think the attached patch will change the behaviour of getTypeInfo() as suggested and only return BOOLEAN if the data dictionary is at version 10.7 or higher.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-12-17T19:50:22.840+0000","updated":"2010-12-17T19:50:22.840+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972641","id":"12972641","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"The patch looks good to me. Thanks, Knut.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2010-12-17T20:43:42.543+0000","updated":"2010-12-17T20:43:42.543+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972649","id":"12972649","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I first didn't notice that the query was also used by the ODBC variant of getTypeInfo(). The attached patch fixes that problem. In addition it adds a test case to the upgrade tests, and changes the test case for getTypeInfo() in DatabaseMetaDataTest to account for the new behaviour in soft upgrade (DatabaseMetaDataTest is run by the upgrade tests).\r\n\r\nI have only run the upgrade tests on this patch, and only with 10.6.2.1 and 10.7.1.1 against trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-12-17T21:09:27.186+0000","updated":"2010-12-17T21:09:27.186+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12972693","id":"12972693","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Yay, Knut!  One less  worry!  I did not have a chance to apply the patch but looked at it and looks good to me.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2010-12-18T00:00:39.123+0000","updated":"2010-12-18T00:00:39.123+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12973144","id":"12973144","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks, Rick and Kathey, for looking at the patches. Committed revision 1051026.\r\n\r\nI'll backport it to 10.7 too (after running tests). Since this fix alters the meta-data queries, I suppose I need to bump the last digit in the version number on the branch too?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-12-20T09:36:19.555+0000","updated":"2010-12-20T09:36:19.555+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12973199","id":"12973199","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Hi Knut. What scenario are you handling by bumping the last digit?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2010-12-20T14:02:44.275+0000","updated":"2010-12-20T14:02:44.275+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12973218","id":"12973218","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"If someone is running from head of 10.7 because they need one of the fixes that went in after 10.7.1.1, they won't get the SPS for getTypeInfo() invalidated when they pull in this fix. Since the number of parameters in the SPS has changed, they'll get an error when executing getTypeInfo() if the SPS isn't invalidated and recompiled. A recompile of the SPS will happen if the version is bumped.\r\n\r\nFor example, create a new database and execute getTypeInfo() with head of 10.7. Then apply this fix and run getTypeInfo() again, and you'll see something like this:\r\n\r\nException in thread \"main\" java.sql.SQLException: No input parameters.\r\n\tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(SQLExceptionFactory40.java:95)\r\n\tat org.apache.derby.impl.jdbc.Util.generateCsSQLException(Util.java:256)\r\n\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:396)\r\n\tat org.apache.derby.impl.jdbc.EmbedResultSet.noStateChangeException(EmbedResultSet.java:4454)\r\n\tat org.apache.derby.impl.jdbc.EmbedPreparedStatement.setBoolean(EmbedPreparedStatement.java:363)\r\n\tat org.apache.derby.impl.jdbc.EmbedDatabaseMetaData.getTypeInfoMinion(EmbedDatabaseMetaData.java:2724)\r\n\tat org.apache.derby.impl.jdbc.EmbedDatabaseMetaData.getTypeInfo(EmbedDatabaseMetaData.java:2696)\r\n\tat GetTypeInfo.main(GetTypeInfo.java:5)\r\nCaused by: java.sql.SQLException: No input parameters.\r\n\tat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)\r\n\tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(SQLExceptionFactory40.java:119)\r\n\tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(SQLExceptionFactory40.java:70)\r\n\t... 7 more\r\nCaused by: ERROR 07009: No input parameters.\r\n\tat org.apache.derby.iapi.error.StandardException.newException(StandardException.java:276)\r\n\tat org.apache.derby.impl.sql.GenericParameterValueSet.checkPosition(GenericParameterValueSet.java:319)\r\n\tat org.apache.derby.impl.sql.GenericParameterValueSet.getParameterForSet(GenericParameterValueSet.java:166)\r\n\tat org.apache.derby.impl.jdbc.EmbedPreparedStatement.setBoolean(EmbedPreparedStatement.java:360)\r\n\t... 3 more","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-12-20T14:59:51.233+0000","updated":"2010-12-20T14:59:51.233+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12973222","id":"12973222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Thanks, Knut. Bumping the last digit makes sense for those users. +1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2010-12-20T15:14:42.184+0000","updated":"2010-12-20T15:14:42.184+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12973225","id":"12973225","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"I bumped the last digit of the release id on the 10.7 branch and changed the name of the head of the branch to 10.7.1.3.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2010-12-20T15:22:32.740+0000","updated":"2010-12-20T15:22:32.740+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493383/comment/12973229","id":"12973229","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks, Rick. Backported the fix to 10.7 and committed revision 1051148. Hopefully the window between your commit and mine wasn't so big that someone runs into this problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-12-20T15:42:07.276+0000","updated":"2010-12-20T15:42:07.276+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4946/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06m0v:"}}