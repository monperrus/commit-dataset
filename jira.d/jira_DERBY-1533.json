{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12346227","self":"https://issues.apache.org/jira/rest/api/latest/issue/12346227","key":"DERBY-1533","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311972","id":"12311972","description":"","name":"10.1.3.2","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-07-19 16:47:15.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22556","customfield_12310222":"1_*:*_1_*:*_1838664000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_2_*:*_22908557789_*|*_4_*:*_1_*:*_176174118","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-05-03T20:09:35.559+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1533/watchers","watchCount":0,"isWatching":false},"created":"2006-07-19T09:00:17.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12310615","id":"12310615","description":"","name":"10.1.2.1","archived":false,"released":true,"releaseDate":"2005-11-18"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12311953","id":"12311953","description":"","name":"10.1.3.1","archived":false,"released":true,"releaseDate":"2006-06-30"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2007-05-03T20:10:12.905+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11410","id":"11410","name":"Network Server"}],"timeoriginalestimate":null,"description":"As far as I know, this bug is not related to DERBY-428 bug.\nI got this bug both on 10.1.3.1 and 10.1.2.1 - an ArrayIndexOutOfBoundsException in DDMReader (in Network Server).\n\nTo reproduce the bug:\n1. Compile the attached DerbyTest.java\n2. Start the Network Server (startNetworkServer.bat under Windows)\n3. Run: java DerbyTest\n\nOn client side you get:\norg.apache.derby.client.am.DisconnectException: The DDM object is not supported.  Unsupported DDM object code point: 0x0\n        at org.apache.derby.client.net.NetConnectionReply.doObjnsprmSemantics(Unknown Source)\n        at org.apache.derby.client.net.NetConnectionReply.parseCommonError(Unknown Source)\n        at org.apache.derby.client.net.NetStatementReply.parseExecuteError(Unknown Source)\n        at org.apache.derby.client.net.NetStatementReply.parseEXCSQLSTTreply(Unknown Source)\n        at org.apache.derby.client.net.NetStatementReply.readExecute(Unknown Source)\n        at org.apache.derby.client.net.StatementReply.readExecute(Unknown Source)\n        at org.apache.derby.client.net.NetPreparedStatement.readExecute_(Unknown Source)\n        at org.apache.derby.client.am.PreparedStatement.readExecute(Unknown Source)\n        at org.apache.derby.client.am.PreparedStatement.flowExecute(Unknown Source)\n        at org.apache.derby.client.am.PreparedStatement.executeX(Unknown Source)\n        at org.apache.derby.client.am.PreparedStatement.execute(Unknown Source)\n        at DerbyTest.main(DerbyTest.java:479)\n\nOn server side you get:\njava.lang.ArrayIndexOutOfBoundsException\n        at java.lang.System.arraycopy(Native Method)\n        at org.apache.derby.impl.drda.DDMReader.compressBLayerData(Unknown Source)\n        at org.apache.derby.impl.drda.DDMReader.ensureBLayerDataInBuffer(Unknown Source)\n        at org.apache.derby.impl.drda.DDMReader.readNetworkShort(Unknown Source)\n        at org.apache.derby.impl.drda.DDMReader.readLDStringData(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.readAndSetParams(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.parseSQLDTA_work(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.parseSQLDTA(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTTobjects(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.processCommands(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.run(Unknown Source)\nagentThread[DRDAConnThread_11,5,main]\nnull\njava.lang.ArrayIndexOutOfBoundsException\n        at java.lang.System.arraycopy(Native Method)\n        at org.apache.derby.impl.drda.DDMReader.compressBLayerData(Unknown Source)\n        at org.apache.derby.impl.drda.DDMReader.ensureBLayerDataInBuffer(Unknown Source)\n        at org.apache.derby.impl.drda.DDMReader.readNetworkShort(Unknown Source)\n        at org.apache.derby.impl.drda.DDMReader.readLDStringData(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.readAndSetParams(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.parseSQLDTA_work(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.parseSQLDTA(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTTobjects(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.processCommands(Unknown Source)\n        at org.apache.derby.impl.drda.DRDAConnThread.run(Unknown Source)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"40056","summary":"ArrayIndexOutOfBoundsException in DDMReader, on a specific data size","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ender","name":"ender","emailAddress":"wiktor dot lisowicz at coconet dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wiktor Lisowicz","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ender","name":"ender","emailAddress":"wiktor dot lisowicz at coconet dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wiktor Lisowicz","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"--------- Derby Network Server Information --------\nVersion: CSS10011/10.1.3.1  Build: 417277  DRDA Product Id: CSS10011\n-- listing properties --\nderby.drda.maxThreads=0\nderby.drda.keepAlive=true\nderby.drda.minThreads=0\nderby.drda.portNumber=1527\nderby.drda.logConnections=false\nderby.drda.timeSlice=0\nderby.drda.startNetworkServer=false\nderby.drda.host=localhost\nderby.drda.traceAll=false\n------------------ Java Information ------------------\nJava Version:    1.4.2_08\nJava Vendor:     Sun Microsystems Inc.\nOS name:         Windows XP\nOS architecture: x86\nOS version:      5.1\njava.specification.name: Java Platform API Specification\njava.specification.version: 1.4\n--------- Derby Information --------\nJRE - JDBC: J2SE 1.4.2 - JDBC 3.0\n[C:\\dev\\derby\\lib\\derby.jar] 10.1.3.1 - (417277)\n[C:\\dev\\derby\\lib\\derbytools.jar] 10.1.3.1 - (417277)\n[C:\\dev\\derby\\lib\\derbynet.jar] 10.1.3.1 - (417277)\n------------------------------------------------------","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":12,"total":12,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12422062","id":"12422062","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ender","name":"ender","emailAddress":"wiktor dot lisowicz at coconet dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wiktor Lisowicz","active":true},"body":"A test to get the reported error","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ender","name":"ender","emailAddress":"wiktor dot lisowicz at coconet dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wiktor Lisowicz","active":true},"created":"2006-07-19T09:01:48.000+0000","updated":"2006-07-19T09:01:48.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12422063","id":"12422063","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ender","name":"ender","emailAddress":"wiktor dot lisowicz at coconet dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wiktor Lisowicz","active":true},"body":"I guess the problem lies around the \"private byte[] buffer\"\r\nin the class \"org.apache.derby.impl.drda.DDMReader\" and has probably something to do with the \"DEFAULT_BUFFER_SIZE = 32767\".\r\n\r\nThe entered data (with DerbyTest.java) is about 32K.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ender","name":"ender","emailAddress":"wiktor dot lisowicz at coconet dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wiktor Lisowicz","active":true},"created":"2006-07-19T09:07:52.000+0000","updated":"2006-07-19T09:07:52.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12422188","id":"12422188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"Thanks for the bug report! I am able to reproduce this using your test program. I'm going to be out of town for a couple weeks, but if nobody's figured this out by then, I'll take a look at it when I return.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-07-19T16:47:15.000+0000","updated":"2006-07-19T16:47:15.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12422272","id":"12422272","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"Attached is \"DerbyTest2.java\", a slight variant of DerbyTest.java, which demonstrates a completely different symptom, but I suspect that the two test programs are both exploiting the same underlying cause. \r\n\r\nDerbyTest.java causes a message from the client to the server to be segmented into two segments with one continuation header; DerbyTest2.java causes a message from the client to the server to be segmented into *five* segments with four continuation headers.\r\n\r\nThe symptoms that the two programs trigger are quite different, but I think that the underlying problem is that the server isn't processing the message segmentation continuation headers correctly.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-07-19T22:06:12.000+0000","updated":"2006-07-19T22:06:12.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12422293","id":"12422293","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"I know I said I wasn't going to work on this bug until after I returned from vacation, but those darned DRDA protocol bugs are just too much fun! (Besides, I got my packing done early).\r\n\r\nI need to work up a complete proposal, with detailed notes, javadoc changes, regression tests, and so forth,  and of course run the full regression suite, but attached is 'ddmreader1.diff' which is the core of a possible fix.\r\n\r\nI think there are two basic issues here:\r\n\r\n1) DDMReader.compressBLayerData seems to have a few small bugs involving the mechanics of de-segmenting a multi-segment message. I believe that the almost identical routine in the network client (Reply.compressBLayerData()) is correct, so I just made the two routines match.\r\n\r\n2) The network client appears to decide whether to flow a large byte array as inline data or as externalized data based on its length; if the data is less than 32767 bytes long it is flowed inline (see line 1164 or so in NetStatementRequest.java). However, the network server was not mirroring that logic, and sometimes decided to parse an incoming byte array as externalized data even though the network client had sent it inline.\r\n\r\nIn early August, I will follow-up this patch with a complete patch, but if anybody has the time to review this code before then, that would be great!\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-07-19T23:34:11.000+0000","updated":"2006-07-19T23:34:11.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12425759","id":"12425759","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"Attached is an updated patch (\"withTests.diff\"), with 2 new regression tests added to derbynet/prepStmt.java, and master files updated accordingly. The code portion of the patch is identical to ddmReader.diff. Also attached is notes.html, with a few extra background notes for reviewers and code historians.\r\n\r\nderbyall run has two failures:\r\n -Dframework=DerbyNetClient jdbcapi/XATest.java\r\n -Dframework=DerbyNet lang/wisconsin.java\r\n\r\nThe Wisconsin diff disappeared on re-run but the XATest diff persists.\r\n\r\nI will look at this XATest some more to see if it could have been caused by this change.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-08-04T14:28:15.000+0000","updated":"2006-08-04T14:28:15.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12425760","id":"12425760","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"-Dframework=DerbyNetClient jdbcapi/XATest.java fails even after I reverted my change. The diff is:\r\n\r\n52a53\r\n> (1 |PREPARED |false |APP |UserTransaction\r\n54d54\r\n< (1 |PREPARED |false |APP |UserTransaction\r\nTest Failed.\r\n*** End:   XATest jdk1.4.2_11 DerbyNetClient 2006-08-04 07:55:58 ***\r\n\r\nLooks like the output is in a slightly different order now.\r\n\r\nAnybody have an idea why I am seeing this diff in my environment? (Sun 1.4.2, Linux)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-08-04T14:32:21.000+0000","updated":"2006-08-04T14:32:21.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12425772","id":"12425772","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"Deepa pointed me at DERBY-1640, which explains the XATest.java diff. (Thanks Deepa!) I'll set Patch Available to indicate that this patch (withTests.diff) is now ready for review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-08-04T15:25:33.000+0000","updated":"2006-08-04T15:25:33.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12426091","id":"12426091","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"I intend to commit this patch in a few days; any review comments would be appreciated. Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-08-06T22:21:35.000+0000","updated":"2006-08-06T22:21:35.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12426945","id":"12426945","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"Committed the withTests patch to subversion as revision 430077. Cleared the\r\npatch available flag, and marked as resolved in 10.2.\r\n\r\nWiktor, if you could please verify that this problem has been fixed in your\r\nenvironment, and then close the bug if true, that would be great.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-08-09T15:44:41.000+0000","updated":"2006-08-09T15:44:41.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12430970","id":"12430970","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ender","name":"ender","emailAddress":"wiktor dot lisowicz at coconet dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wiktor Lisowicz","active":true},"body":"OK, works for me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ender","name":"ender","emailAddress":"wiktor dot lisowicz at coconet dot pl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Wiktor Lisowicz","active":true},"created":"2006-08-28T12:55:17.000+0000","updated":"2006-08-28T12:55:17.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346227/comment/12492933","id":"12492933","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Re-open to port to 10.1\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-05-01T19:13:21.434+0000","updated":"2007-05-01T19:13:21.434+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1533/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i077yn:"}}