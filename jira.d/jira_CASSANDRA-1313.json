{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12470053","self":"https://issues.apache.org/jira/rest/api/latest/issue/12470053","key":"CASSANDRA-1313","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310865","id":"12310865","key":"CASSANDRA","name":"Cassandra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310865&avatarId=12034","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310865&avatarId=12034","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310865&avatarId=12034","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310865&avatarId=12034"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11961","id":"11961","description":"Apache Cassandra related projects","name":"Cassandra"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315251","id":"12315251","description":"","name":"0.7 beta 2","archived":false,"released":true,"releaseDate":"2010-10-01"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2010-07-28 21:44:40.07","customfield_12312322":null,"customfield_12312323":null,"customfield_12310222":"10002_*:*_1_*:*_673739411_*|*_1_*:*_1_*:*_1117605642_*|*_5_*:*_1_*:*_0","customfield_12310420":"20075","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-08-13T15:56:50.397+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-1313/watchers","watchCount":1,"isWatching":false},"created":"2010-07-23T22:21:05.344+0000","customfield_10022":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12311124":null,"customfield_12312334":null,"customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-16T16:51:24.962+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312978","id":"12312978","name":"Core"}],"timeoriginalestimate":null,"description":"(note, this was reverted for 0.7 in CASSANDRA-1394)","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12451370","id":"12451370","filename":"1313-SY.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-08-05T20:56:21.318+0000","size":236800,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12451370/1313-SY.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12451373","id":"12451373","filename":"1313-YB.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-08-05T20:58:00.721+0000","size":252447,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12451373/1313-YB.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12451371","id":"12451371","filename":"snakeyaml-percentToFloat.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-08-05T20:56:21.449+0000","size":6161,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12451371/snakeyaml-percentToFloat.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12451372","id":"12451372","filename":"snakeyaml-r1131-dev.jar","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-08-05T20:56:21.495+0000","size":248002,"mimeType":"application/java-archive","content":"https://issues.apache.org/jira/secure/attachment/12451372/snakeyaml-r1131-dev.jar"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12451368","id":"12451368","filename":"yamlbeans-1.04.jar","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-08-05T20:47:38.248+0000","size":131101,"mimeType":"application/java-archive","content":"https://issues.apache.org/jira/secure/attachment/12451368/yamlbeans-1.04.jar"}],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"92126","summary":"make cache sizes in CfDef Strings again so we can use %s of rows in the CF as in 0.6","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"customfield_12311420":null,"customfield_12311421":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":12,"total":12,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12893383","id":"12893383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"body":"Simply making \\{rows,keys\\}_cached strings instead of doubles is problematic. The current code looks for 'double \\{rows,keys\\}_cached', and changing every lookup is a non-trivial chunk of code. The lookup would also take extra cycles (or just two extra cycles if the first lookups cache the String->Double operation).\r\n\r\nLoading a String into a Double from the YAML using snakeyaml directly has proven difficult:\r\n* Getters and setters on the Config/RawKS/RawCF beans are never called, so there is no immediate hook.\r\n* Telling the constructor in DD that \"50%\" should be a double does not help the constructor parse the string into a double -- snakeyaml explodes.\r\n* Pushing the values into a String on the bean, then populating the double from the string leaves extra variables around. Also, these extra variables have to be named something different than \\{rows,keys\\}_cached, which means extra work in our 0.6->0.7 Converter.\r\n* Pushing the values into a String on a FooConfig, then generating Config from FooConfig works, but means two passes on the load and hard to maintain later. \r\n* *Finally,* change the snakeyaml code directly. Whenever it sees a number followed by a percent, it should correctly construct a FloatType (be it Float, Double, or BigDecimal according to destination).\r\n\r\nI decided the best fix is to effect a change in snakeyaml as outlined above (and tracked at: http://code.google.com/p/snakeyaml/issues/detail?id=75 ).\r\n\r\nAttached are 3 things:\r\n- The patch to snakeyaml trunk, named snakeyaml-percentToFloat.txt,\r\n- The lib built from trunk after patch applied, named snakeyaml-r1131-dev1.jar,\r\n- and a patch for C trunk (changes conf/cassandra.yaml and test/conf/cassandra.yaml), named 1313.txt.\r\n\r\nWith this, the values legal for \\{rows,keys\\}_cached is a literal (1000, 0.5, 0) or a string (\"1000\", \"50%\", \"0%\"). As before, a value between [0,1] is a fraction of the total, and all larger values are absolute. Because this is a change to the parser, you can also give percents anywhere else a double is expected (read_repair_chance: '72.25%' if you want).\r\n\r\nShould this change not be accepted, one of the above methods can be employed in our code, or I can override-in all the functionality of the patch (though the code will look like a trainwreck).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-07-28T21:44:40.070+0000","updated":"2010-07-28T21:44:40.070+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12893384","id":"12893384","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"body":"Attached debugging patch to print the values of \\{rows,keys\\}_cached to STDOUT when the config is first loaded.\r\nNamed snakeyaml-output.patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-07-28T21:46:08.098+0000","updated":"2010-07-28T21:57:14.799+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12893419","id":"12893419","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mdennis","name":"mdennis","emailAddress":"mdennis at riptano dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matthew F. Dennis","active":true},"body":"+1 on the approach.  I'd like to see snakeyaml adopt this patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mdennis","name":"mdennis","emailAddress":"mdennis at riptano dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Matthew F. Dennis","active":true},"created":"2010-07-28T23:18:24.505+0000","updated":"2010-07-28T23:18:24.505+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12893484","id":"12893484","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"I like this, too.  Nice work.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-07-29T02:53:18.776+0000","updated":"2010-07-29T02:53:18.776+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12894062","id":"12894062","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=py4fun","name":"py4fun","emailAddress":"py4fun at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrey Somov","active":true},"body":"You do not need to patch SnakeYAML to achieve the goal. SnakeYAML has the following feature: any scalar which matches a given regular expression can be constructed with some custom code.\r\nExamples can be found in the tests.\r\n\r\nWe shall think twice before we patch SnakeYAML. Appending '%' to a number is not a common pattern. It is not part of the YAML specification. Other users may be confused when they get Float when they expect String\r\n\r\n-\r\nAndrey \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=py4fun","name":"py4fun","emailAddress":"py4fun at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrey Somov","active":true},"created":"2010-07-30T15:14:05.250+0000","updated":"2010-07-30T15:14:05.250+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12895793","id":"12895793","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"body":"Replacing snakeyaml with yamlbeans.\r\n\r\nStatus:\r\nM       conf/cassandra.yaml\r\nD       src/java/org/apache/cassandra/utils/SkipNullRepresenter.java\r\nM       src/java/org/apache/cassandra/tools/NodeProbe.java\r\nM       src/java/org/apache/cassandra/tools/SchemaTool.java\r\nM       src/java/org/apache/cassandra/service/StorageService.java\r\nM       src/java/org/apache/cassandra/service/StorageServiceMBean.java\r\nM       src/java/org/apache/cassandra/config/DatabaseDescriptor.java\r\nM       src/java/org/apache/cassandra/config/Config.java\r\nM       src/java/org/apache/cassandra/config/Converter.java\r\nM       src/java/org/apache/cassandra/config/RawColumnFamily.java\r\nM       NOTICE.txt\r\nD       lib/snakeyaml-1.6.jar\r\nA       lib/yamlbeans-1.04.jar\r\n\r\nReading the config and loading keyspaces works properly.\r\nExporting keyspaces (using schematool) works properly given a target output file.\r\nConverting from 0.6 to 0.7 has no diff from using snakeyaml.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-08-05T20:47:38.334+0000","updated":"2010-08-05T20:47:38.334+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12895797","id":"12895797","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"body":"Re-attaching snakeyaml approach.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-08-05T20:56:21.614+0000","updated":"2010-08-05T20:56:21.614+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12895800","id":"12895800","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"body":"And lastly fixing 1313-YB.txt to remove debug statements.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-08-05T20:58:00.848+0000","updated":"2010-08-05T20:58:00.848+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12896033","id":"12896033","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=py4fun","name":"py4fun","emailAddress":"py4fun at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrey Somov","active":true},"body":"Jon, may I kindly ask you to clarify your decision ?\r\n\r\n1)  you requested to change SnakeYAML without clear message what other users (not only Cassandra) will gain from such a change\r\n2) I have provided you with a solution (http://code.google.com/p/snakeyaml/source/browse/src/test/java/examples/CustomImplicitResolverTest.java) which you can copy-and-paste to your code with minimum effort. You did not give any feedback back to the SnakeYAML community (http://code.google.com/p/snakeyaml/issues/detail?id=75). Why the solution did not work ?\r\n3) using YamlBeans does not actually solve your problem. As far as I can see you introduced \"These getters/setters allow us to read X% in as a double\". The same can be done with SnakeYAML\r\n4) Be aware that SnakeYAML implements complete 1.1 YAML specification and it has many other unique features not available in YamlBeans.\r\n\r\n\r\nI strongly believe that communication is the best way to quickly solve the issues. SnakeYAML is open for suggestions and we are glad to help others to use the library. But we also expect that the community explains the decision and help us to improve SnakeYAML where it needs to be improved.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=py4fun","name":"py4fun","emailAddress":"py4fun at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrey Somov","active":true},"created":"2010-08-06T13:46:24.853+0000","updated":"2010-08-06T13:46:24.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12896076","id":"12896076","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"body":"1) I've made it painfully clear why I offered the patch to the community.\r\n2) I have many good solutions now. This has been a solved problem for a while. There is a reason why snakeyaml-75 is marked as an Enhancement, not a Bug.\r\n3,4) Switching to YamlBeans was not because I couldn't solve the problem without it, but because the code is much easier to read, smaller, and removed many lines of our code.\r\n\r\nIf you still desire clarification, feel free to e-mail me. Unless there are complications on this defect, I'm considering it finished and moving on to other things. As for snakeyaml-75, I'm leaving it open to be closed as Invalid at your discretion.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jhermes","name":"jhermes","emailAddress":"hermes at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jon Hermes","active":true},"created":"2010-08-06T16:24:51.414+0000","updated":"2010-08-06T16:24:51.414+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12898289","id":"12898289","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"committed, w/ removal of commented-out snakeyaml code and printStackTrace calls","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-08-13T15:56:50.317+0000","updated":"2010-08-13T15:56:50.317+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12470053/comment/12898584","id":"12898584","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Cassandra #514 (See [http://hudson.zones.apache.org/hudson/job/Cassandra/514/])\r\n    add back percentage option for cache size configuration, and replace SnakeYAML with YamlBeans.  patch by Jon Hermes; reviewed by jbellis for CASSANDRA-1313\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2010-08-14T12:48:35.831+0000","updated":"2010-08-14T12:48:35.831+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-1313/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0g4an:"}}