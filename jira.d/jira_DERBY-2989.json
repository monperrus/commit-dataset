{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12375253","self":"https://issues.apache.org/jira/rest/api/latest/issue/12375253","key":"DERBY-2989","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312876","id":"12312876","description":"","name":"10.3.2.1","archived":false,"released":true,"releaseDate":"2007-12-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313111","id":"12313111","description":"","name":"10.4.1.3","archived":false,"released":true,"releaseDate":"2008-04-24"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2007-08-17 16:44:38.346","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"23362","customfield_12310222":"1_*:*_1_*:*_2257553290_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_6744195051","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-08-28T23:13:33.062+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2989/watchers","watchCount":0,"isWatching":false},"created":"2007-08-02T20:07:39.772+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"7.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312027","id":"12312027","description":"","name":"10.2.2.0","archived":false,"released":true,"releaseDate":"2006-12-19"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313111","id":"12313111","description":"","name":"10.4.1.3","archived":false,"released":true,"releaseDate":"2008-04-24"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2007-11-15T00:36:48.110+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11408","id":"11408","name":"SQL"}],"timeoriginalestimate":null,"description":"I've runned the testcase against both 10.2.2.0 (latest stable) and 10.4.0.0 alpha (trunk) and results are the same.\n\nSysinfo output:\n\n------------------ Информация Java ------------------\nВерсия Java:                 1.5.0_11\nПоставщик Java:                     Sun Microsystems Inc.\nДомашний каталог Java:              C:\\java\\jre-1.5.0\nПуть классов Java:                  D:\\dev\\workspaces\\DerbyQuery\\bin;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbytools.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derby.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyclient.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_cs.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_de_DE.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_es.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_fr.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_hu.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_it.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_ja_JP.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_ko_KR.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_pl.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_pt_BR.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_zh_CN.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyLocale_zh_TW.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbynet.jar;\nD:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyrun.jar\nИмя ОС:                             Windows XP\nАрхитектура ОС:                     x86\nВерсия ОС:                          5.1\nИмя пользователя Java:              dmitrygusev\nДомашний каталог пользователя Java: C:\\Documents and Settings\\dmitrygusev\nКаталог пользователя Java:          D:\\dev\\workspaces\\DerbyQuery\njava.specification.name: Java Platform API Specification\njava.specification.version: 1.5\n--------- Информация Derby --------\nJRE - JDBC: J2SE 5.0 - JDBC 3.0\n[D:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derby.jar] 10.4.0.0 alpha - (???)\n[D:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbytools.jar] 10.4.0.0 alpha - (???)\n[D:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbynet.jar] 10.4.0.0 alpha - (???)\n[D:\\dev\\src\\db-derby-trunk-20070802\\jars\\sane\\derbyclient.jar] 10.4.0.0 alpha - (???)\n------------------------------------------------------\n----------------- Информация о локали ------------------\nТекущая локаль:  [русский/Россия [ru_RU]]\nОбнаружена поддержка локали: [cs]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [de_DE]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [es]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [fr]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [hu]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [it]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [ja_JP]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [ko_KR]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [pl]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [pt_BR]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [ru]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [zh_CN]\n\t версия: 10.4.0.0 alpha - (???)\nОбнаружена поддержка локали: [zh_TW]\n\t версия: 10.4.0.0 alpha - (???)\n------------------------------------------------------\nHow to reproduce the bug:\n1.\tCreate a table with name \"indicator\" (or any other SQL keyword as the name, i.e. \"select\") and one field of any type, for instance CHAR(1), like this:\n\nCREATE TABLE \\\"indicator\\\"(c CHAR(1) DEFAULT 'N')\n\n2.\tAdd constraint to the field:\n\nALTER TABLE \\\" indicator \\\" ADD CONSTRAINT \\\"MY_CONSTRAINT\\\" CHECK ((c IN ('Y','N')))\n\n3.\tTry to insert any row to that table:\n\nINSERT INTO \\\"indicator\\\" VALUES ('N')\n\nThe INSERT statement will throw an exception:\njava.sql.SQLException: Java exception: ': java.util.EmptyStackException'.\n\nAlso, see the program (Main.java) attached to this issue and derby.log contained the exception's stacktace output.\n\nI've also created and attached the patch that may fix this issue. \n\nHope this help to improve Derby.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"39769","summary":"Insert into table with constraints fails if the table name is \"indicator\" (or any other SQL keyword)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmitrygusev","name":"dmitrygusev","emailAddress":"dmitry dot gusev at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitry Gusev","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmitrygusev","name":"dmitrygusev","emailAddress":"dmitry dot gusev at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitry Gusev","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Intel x86\nWindows XP SP2\njava version \"1.5.0_06\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_06-b05)\nJava HotSpot(TM) Client VM (build 1.5.0_06-b05, mixed mode, sharing)","customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10052","value":"Normal","id":"10052"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":13,"total":13,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12517361","id":"12517361","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmitrygusev","name":"dmitrygusev","emailAddress":"dmitry dot gusev at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitry Gusev","active":true},"body":"Run the testcase with derby.jar in classpath","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmitrygusev","name":"dmitrygusev","emailAddress":"dmitry dot gusev at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitry Gusev","active":true},"created":"2007-08-02T20:08:33.673+0000","updated":"2007-08-02T20:08:33.673+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12517362","id":"12517362","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmitrygusev","name":"dmitrygusev","emailAddress":"dmitry dot gusev at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitry Gusev","active":true},"body":"Testcase output log","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmitrygusev","name":"dmitrygusev","emailAddress":"dmitry dot gusev at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitry Gusev","active":true},"created":"2007-08-02T20:09:07.693+0000","updated":"2007-08-02T20:09:07.693+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12517363","id":"12517363","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmitrygusev","name":"dmitrygusev","emailAddress":"dmitry dot gusev at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitry Gusev","active":true},"body":"The patch that fixes the issue","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmitrygusev","name":"dmitrygusev","emailAddress":"dmitry dot gusev at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dmitry Gusev","active":true},"created":"2007-08-02T20:09:42.959+0000","updated":"2007-08-02T20:09:42.959+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12520603","id":"12520603","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Thanks for providing a patch, Dmitry!\r\n\r\nThe reason it breaks is that the\r\nDMLModStatementNode#parseCheckConstraint constructs a SQL statement\r\nthat is then parsed, and the schema/table names are not properly\r\nquoted.\r\n\r\nThis is a problem for any table name that needs quoting, not just\r\nthose that are reserved words, but also for example for \"4thTable\"\r\n(starts with number) and \"my table\" (contains a blank).  Those that\r\nhave embedded double quotes are correctly handled, however,\r\ncf. TableDescriptor#quoteStringIfNecessary.\r\n\r\nThe patch provided works, but will quote names that do not need it\r\nalso. This breaks a number of script based regression tests because\r\nerror messages now will have quoted schema and table names.  We could either\r\nchange those masters, or make this method quote only when\r\nnecessary. This requires us to know the reserved words, though,\r\ncf. the method reservedKeyword in sqlgrammar.jj. This knowledge is not\r\navailable outside the parser presently, I think.\r\n\r\nI think we should always quote here, and change the masters. Opinions?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-08-17T16:44:38.346+0000","updated":"2007-08-17T16:44:38.346+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12522993","id":"12522993","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"DERBY-2989-2 contains the original one-line patch plus modified master files for\r\nthe script based tests that broke due to the fix.  I also added a\r\nrepro test case to lang/checkConstraint.sql.\r\n\r\nI have verified that dblook does its own quoting (not affected by this change).\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-08-27T12:41:11.521+0000","updated":"2007-08-27T12:41:11.521+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12523003","id":"12523003","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"With the DERBY-2829.2 patch applied, normal regression tests went ok\r\nmodulo three failures in CollationTest which I believe are\r\nunrelated (Sun JDK 1.6, Solaris 10/x86).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-08-27T13:19:35.698+0000","updated":"2007-08-27T13:19:35.698+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12523098","id":"12523098","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"Hi Dag, I think this is a good patch. The code change is very clean; as you\r\nsay, it is a one-line code change. The new error messages seem OK to\r\nme, I don't have a problem with the quoted table/schema names in the messages.\r\n\r\nI ran the modified checkConstraint.sql without the code change, and got\r\nthe expected failure (EmptyStackException). I then applied the code change\r\nand re-ran the test, and it passed.\r\n\r\n+1 to commit from me.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2007-08-27T20:26:28.431+0000","updated":"2007-08-27T20:26:28.431+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12523140","id":"12523140","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"DERBY-2989-2 committed as svn 570285 on trunk.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-08-28T00:57:28.570+0000","updated":"2007-08-28T00:57:28.570+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12523163","id":"12523163","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Seems like you missed one of the canons: http://dbtg.thresher.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/testSummary-570286.html\r\n\r\n********* Diff file derbyall/storeall/storemore/TransactionTable.diff\r\n*** Start: TransactionTable jdk1.6.0_02 storeall:storemore 2007-08-28 04:48:03 ***\r\n252 del\r\n< ERROR X0Y56: 'DROP TABLE' is not allowed on the System table 'SYSCS_DIAG.TRANSACTION_TABLE'.\r\n252a252\r\n> ERROR X0Y56: 'DROP TABLE' is not allowed on the System table '\"SYSCS_DIAG\".\"TRANSACTION_TABLE\"'.\r\nTest Failed.\r\n*** End:   TransactionTable jdk1.6.0_02 storeall:storemore 2007-08-28 04:48:11 ***","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-08-28T06:22:11.502+0000","updated":"2007-08-28T06:22:11.502+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12523165","id":"12523165","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Fixed TransactionTable.out and committed revision 570328.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-08-28T06:28:53.524+0000","updated":"2007-08-28T06:28:53.524+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12523322","id":"12523322","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Uploading a modified patch DERBY-2989-3-10_3  intended\r\nfor the 10.3 branch. The original patch is not sufficient, since\r\ntwo script based tests fail in 10.3 due to the change. These\r\ntests (renameTable.sql, renameIndex.sql) have since been\r\nconverted to JUnit on trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-08-28T19:28:37.565+0000","updated":"2007-08-28T19:28:37.565+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12523390","id":"12523390","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Backported to 10.3 branch as svn 570594, resolving.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-08-28T23:13:32.883+0000","updated":"2007-08-28T23:13:32.883+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12375253/comment/12542644","id":"12542644","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Did not hear back from reporter, so closing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-11-15T00:36:48.098+0000","updated":"2007-11-15T00:36:48.098+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2989/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0766v:"}}