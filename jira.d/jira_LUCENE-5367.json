{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12684185","self":"https://issues.apache.org/jira/rest/api/latest/issue/12684185","key":"LUCENE-5367","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12325572","id":"12325572","description":"Major release after 4.6","name":"4.7","archived":false,"released":true,"releaseDate":"2014-02-26"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12321663","id":"12321663","description":"Current trunk","name":"Trunk","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-12-12 09:42:41.134","customfield_12312323":null,"customfield_12310420":"363257","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_4167151879_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2014-01-29T14:54:30.427+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-5367/watchers","watchCount":3,"isWatching":false},"created":"2013-12-12T09:21:58.585+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.png","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324240","id":"12324240","description":"Bugfix release after 4.2","name":"4.2.1","archived":false,"released":true,"releaseDate":"2013-04-03"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12324999","id":"12324999","description":"Major release after 4.5","name":"4.6","archived":false,"released":true,"releaseDate":"2013-11-24"}],"issuelinks":[{"id":"12380379","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12380379","type":{"id":"12310060","name":"Container","inward":"Is contained by","outward":"contains","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310060"},"inwardIssue":{"id":"12678901","key":"LUCENE-5339","self":"https://issues.apache.org/jira/rest/api/2/issue/12678901","fields":{"summary":"Simplify the facet module APIs","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-03-16T13:02:15.883+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314601","id":"12314601","name":"modules/facet","description":"Faceted Indexing & Search module"}],"timeoriginalestimate":null,"description":"Hi,\r\n\r\nWhen I use the API as below :\r\n{code}\r\nList<CategoryPath> categories = Collections.<CategoryPath>singletonList(new CategoryPath(path.toArray(new String[path.size()])));\r\nFacetFields facetFields = new FacetFields(taxonomyWriter);\r\nfacetFields.addFields(document, categories);\r\ntaxonomyWriter.commit();\r\n{code}\r\nAn exception occurs :\r\n{quote}\r\njava.util.NoSuchElementException\r\n\tat java.util.Collections$1.next(Collections.java:3302)\r\n\tat org.apache.lucene.facet.index.DrillDownStream.reset(DrillDownStream.java:78)\r\n\tat org.apache.lucene.index.DocInverterPerField.processFields(DocInverterPerField.java:97)\r\n\tat org.apache.lucene.index.DocFieldProcessor.processDocument(DocFieldProcessor.java:248)\r\n\tat org.apache.lucene.index.DocumentsWriterPerThread.updateDocument(DocumentsWriterPerThread.java:253)\r\n\tat org.apache.lucene.index.DocumentsWriter.updateDocument(DocumentsWriter.java:453)\r\n\tat org.apache.lucene.index.IndexWriter.updateDocument(IndexWriter.java:1520)\r\n\tat org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1190)\r\n\tat org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1171)\r\n{quote}\r\n\r\nSeems likes this is due to multiple calls to org.apache.lucene.facet.index.DrillDownStream#reset which invoques #next() on an 'used' iterator.\r\n\r\nRegards,\r\nLucien \r\n","customfield_10010":null,"timetracking":{},"customfield_12310120":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10121","value":"New","id":"10121"},{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10120","value":"Patch Available","id":"10120"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"363563","summary":"NoSuchElementException occurs when org.apache.lucene.facet.index.FacetFields is used.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lpereir4","name":"lpereir4","emailAddress":"lucien dot pereira dot mailbox at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lucien Pereira","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lpereir4","name":"lpereir4","emailAddress":"lucien dot pereira dot mailbox at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lucien Pereira","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":10,"total":10,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684185/comment/13846204","id":"13846204","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"body":"This is strange, it means that reset() is called twice, which should have failed every test that we have. Can you post a full testcase which reproduces the error? In the code example that you posted above you call addFields() and then taxoWriter.commit(), but not indexWriter.addDocument(). You don't need to call taxoWriter.commit() after .addFields() and you must call indexWriter.addDocument(). So, a full testcase will help debug this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"created":"2013-12-12T09:42:41.134+0000","updated":"2013-12-12T09:42:41.134+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684185/comment/13856187","id":"13856187","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"body":"Lucien, do you have a testcase which reproduces the error? If not, I'll close the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"created":"2013-12-24T06:39:59.535+0000","updated":"2013-12-24T06:39:59.535+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684185/comment/13856264","id":"13856264","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lpereir4","name":"lpereir4","emailAddress":"lucien dot pereira dot mailbox at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lucien Pereira","active":true},"body":"Shai,\r\n\r\nSorry for the delay. It it happens when a given document is added several times :\r\n\r\n{code:title=Lucene5367.java|borderStyle=solid}\r\npackage testcase;\r\n\r\nimport java.io.File;\r\nimport java.util.List;\r\n\r\nimport org.apache.lucene.analysis.core.KeywordAnalyzer;\r\nimport org.apache.lucene.document.Document;\r\nimport org.apache.lucene.facet.index.FacetFields;\r\nimport org.apache.lucene.facet.taxonomy.CategoryPath;\r\nimport org.apache.lucene.facet.taxonomy.directory.DirectoryTaxonomyWriter;\r\nimport org.apache.lucene.index.IndexWriter;\r\nimport org.apache.lucene.index.IndexWriterConfig;\r\nimport org.apache.lucene.store.Directory;\r\nimport org.apache.lucene.store.NIOFSDirectory;\r\nimport org.apache.lucene.util.Version;\r\n\r\npublic class Lucene5367 {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tDirectory indexDirectory = new NIOFSDirectory(new File(\"~/index\"));\r\n\t\tDirectory taxonomyDirectory = new NIOFSDirectory(new File(\"~/taxonomy\"));\r\n\t\tDocument document = new Document();\r\n\t\tIndexWriter indexWriter = new IndexWriter(indexDirectory,\r\n\t\t\t\tnew IndexWriterConfig(Version.LUCENE_46, new KeywordAnalyzer()));\r\n\t\tDirectoryTaxonomyWriter taxonomyWriter = new DirectoryTaxonomyWriter(\r\n\t\t\t\ttaxonomyDirectory);\r\n\t\tList<CategoryPath> categories = java.util.Collections\r\n\t\t\t\t.singletonList(new CategoryPath(\"home\", \"root\"));\r\n\t\tFacetFields facetFields = new FacetFields(taxonomyWriter);\r\n\r\n\t\tfacetFields.addFields(document, categories);\r\n\r\n\t\ttaxonomyWriter.close();\r\n\t\tindexWriter.addDocument(document);\r\n\t\tindexWriter.addDocument(document);\r\n\r\n\t\tindexWriter.close();\r\n\t}\r\n}\r\n{code}\r\n\r\nRegards,\r\nLucien","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lpereir4","name":"lpereir4","emailAddress":"lucien dot pereira dot mailbox at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lucien Pereira","active":true},"created":"2013-12-24T10:40:55.991+0000","updated":"2013-12-24T10:40:55.991+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684185/comment/13856533","id":"13856533","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"body":"Thanks Lucien, this helps clarify the issue. The thing is, FacetFields adds a TokenStream as a Field to the document, and in general you shouldn't expect to be able to add the same document multiple times, if it contains a Field that was added with a TokenStream. However, in terms of the facet APIs, this is all hidden to the user, and so the user has no way to know this is supported/not.\r\n\r\nI can fix DrillDownStream to save the Iterable it receives instead of the the Iterator, and in reset() call iterable.iterator(). This should allow you to add the same document multiple times. However, on LUCENE-5339 we're pretty much rewriting the entire facet APIs, and it looks like this issue is gone there, as DrillDownStream is gone (instead, every level in the hierarchy is added as a StringField). I believe LUCENE-5339 will make it into the next release (4.7), so let's do two things:\r\n\r\n# Can you try this test over the LUCENE-5339 branch?\r\n# I'll link this issue to LUCENE-5339, and mark as a blocker for 4.7. If LUCENE-5339 is committed before 4.7, I'll close this issue, otherwise fix DrillDownStream.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"created":"2013-12-25T06:39:30.730+0000","updated":"2013-12-25T06:39:30.730+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684185/comment/13856534","id":"13856534","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"body":"If LUCENE-5339 isn't committed before we release 4.7, we should fix this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"created":"2013-12-25T06:41:08.237+0000","updated":"2013-12-25T06:41:08.237+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684185/comment/13881913","id":"13881913","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yingandrews","name":"yingandrews","emailAddress":"ying dot andrews at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ying Andrews","active":true},"body":"Hi Shai,\r\n\r\nI fixed this issue with your suggestion in branch 4.6.  Attached is the patch. I also tested it in branch 539399 (formerly known as 5339) and as you suspected, the problem is gone. So I guess you can flag this as fixed in 4.7.\r\n\r\nThanks again for your insight.\r\nYing","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yingandrews","name":"yingandrews","emailAddress":"ying dot andrews at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ying Andrews","active":true},"created":"2014-01-25T14:44:29.578+0000","updated":"2014-01-25T14:44:29.578+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684185/comment/13881915","id":"13881915","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yingandrews","name":"yingandrews","emailAddress":"ying dot andrews at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ying Andrews","active":true},"body":"Hi Lucien,\r\n\r\nYou can either apply the patch I have submitted here in 4.6 or wait for 4.7 to come out. The problem doesn't exist in 4.7.  You can use the attached file to test it against the build in branch 539399.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yingandrews","name":"yingandrews","emailAddress":"ying dot andrews at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ying Andrews","active":true},"created":"2014-01-25T14:49:20.631+0000","updated":"2014-01-25T14:49:20.631+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684185/comment/13885391","id":"13885391","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"body":"Commit 1562462 from [~shaie] in branch 'dev/trunk'\r\n[ https://svn.apache.org/r1562462 ]\r\n\r\nLUCENE-5367: add test to ensure we don't introduce the bug again","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"created":"2014-01-29T14:44:10.100+0000","updated":"2014-01-29T14:44:10.100+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684185/comment/13885397","id":"13885397","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"body":"Commit 1562467 from [~shaie] in branch 'dev/branches/branch_4x'\r\n[ https://svn.apache.org/r1562467 ]\r\n\r\nLUCENE-5367: add test to ensure we don't introduce the bug again","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"created":"2014-01-29T14:53:04.519+0000","updated":"2014-01-29T14:53:04.519+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12684185/comment/13885398","id":"13885398","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"body":"This was already fixed by LUCENE-5339. I committed a test to make sure we don't introduce the bug again in the future. Thanks Lucien for reporting this!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shaie","name":"shaie","emailAddress":"serera at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shai Erera","active":true},"created":"2014-01-29T14:54:30.451+0000","updated":"2014-01-29T14:54:30.451+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-5367/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1qm7b:"}}