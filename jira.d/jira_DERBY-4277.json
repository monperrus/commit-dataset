{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12428027","self":"https://issues.apache.org/jira/rest/api/latest/issue/12428027","key":"DERBY-4277","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313727","id":"12313727","description":"Feature release","name":"10.6.1.0","archived":false,"released":true,"releaseDate":"2010-05-18"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2009-06-17 12:28:58.882","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"24149","customfield_12310222":"1_*:*_1_*:*_176775876990_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2015-01-22T18:04:07.591+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4277/watchers","watchCount":1,"isWatching":false},"created":"2009-06-16T17:39:30.704+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":["derby_triage10_5_2"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313727","id":"12313727","description":"Feature release","name":"10.6.1.0","archived":false,"released":true,"releaseDate":"2010-05-18"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12325487","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12325487","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12394296","key":"DERBY-3632","self":"https://issues.apache.org/jira/rest/api/2/issue/12394296","fields":{"summary":"Replication tests must ensure stable replication state has been reached before attempting further connection or new replication commands.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/3","id":"3","description":"A task that needs to be done.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/task.png","name":"Task","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-01-22T18:04:28.955+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312050","id":"12312050","name":"Replication"}],"timeoriginalestimate":null,"description":"When testing the fix for bug 4268, ReplicationRun_Local and ReplicationRun_Local_StateTest_part1 failed. This is after revision: 785298. \r\n$ cat error-stacktrace.out\r\n[Error/failure logged at Tue Jun 16 22:15:46 PDT 2009]\r\njunit.framework.ComparisonFailure: Unexpected SQL state. expected:<...20> but wa\r\ns:<...07>\r\n        at junit.framework.Assert.assertEquals(Assert.java:81)\r\n        at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDB\r\nCTestCase.java:762)\r\n        at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDB\r\nCTestCase.java:811)\r\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.Replicat\r\nionRun.failOver_direct(ReplicationRun.java:1381)\r\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.Replicat\r\nionRun.failOver(ReplicationRun.java:1302)\r\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.Replicat\r\nionRun_Local.testReplication_Local_existingTestsAsReplLoad(ReplicationRun_Local.\r\njava:148)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.lang.reflect.Method.invoke(Unknown Source)\r\n        at junit.framework.TestCase.runTest(TestCase.java:154)\r\n        at junit.framework.TestCase.runBare(TestCase.java:127)\r\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:\r\n106)\r\n        at junit.framework.TestResult$1.protect(TestResult.java:106)\r\n        at junit.framework.TestResult.runProtected(TestResult.java:124)\r\n        at junit.framework.TestResult.run(TestResult.java:109)\r\n        at junit.framework.TestCase.run(TestCase.java:118)\r\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\r\n        at junit.framework.TestSuite.run(TestSuite.java:203)\r\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\r\n        at junit.framework.TestSuite.run(TestSuite.java:203)\r\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n        at junit.framework.TestResult.runProtected(TestResult.java:124)\r\n        at junit.extensions.TestSetup.run(TestSetup.java:23)\r\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\r\n        at junit.framework.TestSuite.run(TestSuite.java:203)\r\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\r\n        at junit.framework.TestSuite.run(TestSuite.java:203)\r\n        at junit.textui.TestRunner.doRun(TestRunner.java:116)\r\n        at junit.textui.TestRunner.start(TestRunner.java:172)\r\n        at junit.textui.TestRunner.main(TestRunner.java:138)\r\nCaused by: java.sql.SQLException: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE07,\r\n SQLERRMC: Could not perform operation because the database is not in replicatio\r\nn master mode.\r\n        at org.apache.derby.client.am.SQLExceptionFactory40.getSQLException(SQLE\r\nxceptionFactory40.java:96)\r\n        at org.apache.derby.client.am.SqlException.getSQLException(SqlException.\r\njava:358)\r\n        at org.apache.derby.jdbc.ClientDriver.connect(ClientDriver.java:149)\r\n        at java.sql.DriverManager.getConnection(Unknown Source)\r\n        at java.sql.DriverManager.getConnection(Unknown Source)\r\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.Replicat\r\nionRun.failOver_direct(ReplicationRun.java:1368)\r\n        ... 28 more\r\nCaused by: org.apache.derby.client.am.SqlException: DERBY SQL error: SQLCODE: -1\r\n, SQLSTATE: XRE07, SQLERRMC: Could not perform operation because the database is\r\n not in replication master mode.\r\n        at org.apache.derby.client.am.Connection.completeSqlca(Connection.java:2\r\n075)\r\n        at org.apache.derby.client.net.NetConnectionReply.parseRdbAccessFailed(N\r\netConnectionReply.java:540)\r\n        at org.apache.derby.client.net.NetConnectionReply.parseAccessRdbError(Ne\r\ntConnectionReply.java:433)\r\n        at org.apache.derby.client.net.NetConnectionReply.parseACCRDBreply(NetCo\r\nnnectionReply.java:297)\r\n        at org.apache.derby.client.net.NetConnectionReply.readAccessDatabase(Net\r\nConnectionReply.java:121)\r\n        at org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessR\r\ndb(NetConnection.java:835)\r\n        at org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessR\r\ndb(NetConnection.java:759)\r\n        at org.apache.derby.client.net.NetConnection.flowUSRIDONLconnect(NetConn\r\nection.java:592)\r\n        at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.j\r\nava:399)\r\n        at org.apache.derby.client.net.NetConnection.<init>(NetConnection.java:2\r\n19)\r\n        at org.apache.derby.client.net.NetConnection40.<init>(NetConnection40.ja\r\nva:77)\r\n        at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl40.newNetConne\r\nction(ClientJDBCObjectFactoryImpl40.java:269)\r\n        at org.apache.derby.jdbc.ClientDriver.connect(ClientDriver.java:140)\r\n        ... 31 more\r\n\r\n=====Trace for ReplicationRun_Local_StateTest_part1===========\r\n[Error/failure logged at Tue Jun 16 22:19:28 PDT 2009]\r\njunit.framework.ComparisonFailure: Unexpected SQL state. expected:<...20> but wa\r\ns:<...07>\r\n        at junit.framework.Assert.assertEquals(Assert.java:81)\r\n        at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDB\r\nCTestCase.java:762)\r\n        at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDB\r\nCTestCase.java:811)\r\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.Replicat\r\nionRun.failOver_direct(ReplicationRun.java:1381)\r\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.Replicat\r\nionRun.failOver(ReplicationRun.java:1302)\r\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.Replicat\r\nionRun_Local_StateTest_part1.testReplication_Local_StateTest_part1(ReplicationRu\r\nn_Local_StateTest_part1.java:160)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.lang.reflect.Method.invoke(Unknown Source)\r\n        at junit.framework.TestCase.runTest(TestCase.java:154)\r\n        at junit.framework.TestCase.runBare(TestCase.java:127)\r\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:\r\n106)\r\n        at junit.framework.TestResult$1.protect(TestResult.java:106)\r\n        at junit.framework.TestResult.runProtected(TestResult.java:124)\r\n        at junit.framework.TestResult.run(TestResult.java:109)\r\n        at junit.framework.TestCase.run(TestCase.java:118)\r\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\r\n        at junit.framework.TestSuite.run(TestSuite.java:203)\r\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\r\n        at junit.framework.TestSuite.run(TestSuite.java:203)\r\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n        at junit.extensions.TestSetup$1.protect(TestSetup.java:19)\r\n        at junit.framework.TestResult.runProtected(TestResult.java:124)\r\n        at junit.extensions.TestSetup.run(TestSetup.java:23)\r\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\r\n        at junit.framework.TestSuite.run(TestSuite.java:203)\r\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\r\n        at junit.framework.TestSuite.run(TestSuite.java:203)\r\n        at junit.textui.TestRunner.doRun(TestRunner.java:116)\r\n        at junit.textui.TestRunner.start(TestRunner.java:172)\r\n        at junit.textui.TestRunner.main(TestRunner.java:138)\r\nCaused by: java.sql.SQLException: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE07,\r\n SQLERRMC: Could not perform operation because the database is not in replicatio\r\nn master mode.\r\n        at org.apache.derby.client.am.SQLExceptionFactory40.getSQLException(SQLE\r\nxceptionFactory40.java:96)\r\n        at org.apache.derby.client.am.SqlException.getSQLException(SqlException.\r\njava:358)\r\n        at org.apache.derby.jdbc.ClientDriver.connect(ClientDriver.java:149)\r\n        at java.sql.DriverManager.getConnection(Unknown Source)\r\n        at java.sql.DriverManager.getConnection(Unknown Source)\r\n        at org.apache.derbyTesting.functionTests.tests.replicationTests.Replicat\r\nionRun.failOver_direct(ReplicationRun.java:1368)\r\n        ... 28 more\r\nCaused by: org.apache.derby.client.am.SqlException: DERBY SQL error: SQLCODE: -1\r\n, SQLSTATE: XRE07, SQLERRMC: Could not perform operation because the database is\r\n not in replication master mode.\r\n        at org.apache.derby.client.am.Connection.completeSqlca(Connection.java:2\r\n075)\r\n        at org.apache.derby.client.net.NetConnectionReply.parseRdbAccessFailed(N\r\netConnectionReply.java:540)\r\n        at org.apache.derby.client.net.NetConnectionReply.parseAccessRdbError(Ne\r\ntConnectionReply.java:433)\r\n        at org.apache.derby.client.net.NetConnectionReply.parseACCRDBreply(NetCo\r\nnnectionReply.java:297)\r\n        at org.apache.derby.client.net.NetConnectionReply.readAccessDatabase(Net\r\nConnectionReply.java:121)\r\n        at org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessR\r\ndb(NetConnection.java:835)\r\n        at org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessR\r\ndb(NetConnection.java:759)\r\n        at org.apache.derby.client.net.NetConnection.flowUSRIDONLconnect(NetConn\r\nection.java:592)\r\n        at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.j\r\nava:399)\r\n        at org.apache.derby.client.net.NetConnection.<init>(NetConnection.java:2\r\n19)\r\n        at org.apache.derby.client.net.NetConnection40.<init>(NetConnection40.ja\r\nva:77)\r\n        at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl40.newNetConne\r\nction(ClientJDBCObjectFactoryImpl40.java:269)\r\n        at org.apache.derby.jdbc.ClientDriver.connect(ClientDriver.java:140)\r\n        ... 31 more\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"36816","summary":"ReplicationRun_Local and ReplicationRun_Local_StateTest_part1 failed after testing fix of 4268","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10052","value":"Normal","id":"10052"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":12,"total":12,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/12720255","id":"12720255","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Kathey pointed out this issue might be relate to 3719. \r\n\r\nAfter testing fix for 4268, ReplicationRun_Local and ReplicationRun_Local_StateTest_part1 failed on my machine. \r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2009-06-16T17:43:18.344+0000","updated":"2009-06-16T17:43:18.344+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/12720638","id":"12720638","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"body":"I think this is an instance of the case where the replication tests assume that the final expected state is reached immediatly.\r\nThe 'ReplicationRun.waitForConnect()' and 'ReplicationRun.waitForSQLState()' methods were intended to be used in these cases, \r\nbut these has not been utilized everywhere they should.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"created":"2009-06-17T12:28:58.882+0000","updated":"2009-06-17T12:28:58.882+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/12720645","id":"12720645","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"body":"Assigned this to do the more general task of utilizing 'ReplicationRun.waitForConnect()' and 'ReplicationRun.waitForSQLState()' where applicable - on trunk and then backport to 10.5.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"created":"2009-06-17T12:39:25.572+0000","updated":"2009-06-17T12:39:25.572+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/12723538","id":"12723538","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"body":"Instances of the failure also seen in \r\nhttp://dbtg.thresher.com/derby/test/trunk15/jvm1.5/testing/testlog/CYGWIN_NT-5.1_i686-unknown/787757-org.apache.derbyTesting.functionTests.suites.All_diff.txt\r\nand \r\nhttp://dbtg.thresher.com/derby/test/trunk15/jvm1.5/testing/testlog/CYGWIN_NT-5.1_i686-unknown/787327-org.apache.derbyTesting.functionTests.suites.All_diff.txt\r\n\r\nThese and other cases have incorrectly been associated with DERBY-3529.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"created":"2009-06-24T11:53:16.966+0000","updated":"2009-06-24T11:53:16.966+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/12724524","id":"12724524","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"body":"DERBY-4277_diff-p1 - Patch which should fix the replication state problem seen in ReplicationRun_Local_StateTest_part1_1.java.\r\n\r\nStill running tests...\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"created":"2009-06-26T13:37:43.052+0000","updated":"2009-06-26T13:37:43.052+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/12725068","id":"12725068","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"body":"DERBY-4277 tested:  ~150 runs of ReplicationSuite, plus suites.All: no failures.\r\n\r\nPlanning to commit the patch later today.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"created":"2009-06-29T07:33:10.927+0000","updated":"2009-06-29T07:33:10.927+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/12725171","id":"12725171","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"The patch looks fine to me. +1 to commit.\r\n\r\nMinor nit: Instead of passing (slaveDatabasePath + FS + slaveDbSubPath + FS + replicatedDb) as an argument to waitForConnect(), I think you could use the local variable db which already has that value.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2009-06-29T13:40:56.607+0000","updated":"2009-06-29T13:40:56.607+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/12725516","id":"12725516","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"body":"Committed  DERBY-4277_diff-p1 to trunk with revision 789601.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=olesolberg","name":"olesolberg","emailAddress":"Ole dot Solberg at Sun dot COM","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ole Solberg","active":true},"created":"2009-06-30T07:52:00.418+0000","updated":"2009-06-30T12:08:06.838+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/12727020","id":"12727020","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Ole, I see you committed the patch for this issue, thanks!\r\nShould this issue be resolved or do you plan to backport it first?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2009-07-03T16:01:44.353+0000","updated":"2009-07-03T16:01:44.353+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/14286494","id":"14286494","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Looks like this work was mostly done but Knut had a comment that can still be resolved.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2015-01-21T23:04:24.855+0000","updated":"2015-01-21T23:04:24.855+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/14287861","id":"14287861","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"body":"Commit 1653975 from [~myrna] in branch 'code/trunk'\r\n[ https://svn.apache.org/r1653975 ]\r\n\r\nDERBY-4277; ReplicationRun_Local and ReplicationRun_Local_StateTest_part1 failed after testing fix of 4268\r\n  Applying the minor improvement suggested to replace 'slaveDatabasePath + FS + slaveDbSubPath + FS + replicatedDb' by 'db' in the waitForConnect() method.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"created":"2015-01-22T17:55:56.388+0000","updated":"2015-01-22T17:55:56.388+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12428027/comment/14287868","id":"14287868","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I applied the suggested change and committed (no patch) so I think that concludes the work on this issue. Setting back to Ole as he did the actual work. Setting to be fixed in 10.6.1.0 as the version for the original check-in.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2015-01-22T18:04:07.641+0000","updated":"2015-01-22T18:04:07.641+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4277/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06nyn:"}}