{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12317840","self":"https://issues.apache.org/jira/rest/api/latest/issue/12317840","key":"DERBY-618","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311953","id":"12311953","description":"","name":"10.1.3.1","archived":false,"released":true,"releaseDate":"2006-06-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-02-28 10:53:41.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22049","customfield_12310222":"1_*:*_1_*:*_12849154000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_55577011845","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-03-10T03:01:12.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-618/watchers","watchCount":0,"isWatching":false},"created":"2005-10-12T09:48:38.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"8.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2007-12-13T09:04:43.844+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11690","id":"11690","name":"Network Client"}],"timeoriginalestimate":null,"description":"At present, if I want to connect to a database on a Derby server which has a space in the path, there is no way to do it.\n\nThis can be done with the embedded driver, and for consistency it would be good if it worked for the client driver in the same fashion.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"39728","summary":"Make the client driver connection URL work when spaces are in the URL.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trejkaz","name":"trejkaz","emailAddress":"trejkaz at trypticon dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Trejkaz","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trejkaz","name":"trejkaz","emailAddress":"trejkaz at trypticon dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Trejkaz","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":12,"total":12,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12331853","id":"12331853","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trejkaz","name":"trejkaz","emailAddress":"trejkaz at trypticon dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Trejkaz","active":true},"body":"I just tried doing this by modifying ClientDriver.java to remove the space separators from all StringTokenizer calls.  If I do that, the connection works, but I get a new error a bit later on:\r\n\r\nCaused by: org.apache.derby.client.am.DisconnectException: A communication error has been detected. Communication protocol being used: Reply.fill(). Communication API being used: InputStream.read(). Location wh\r\nere the error was detected: insufficient data. Communication function detecting the error: *. Protocol specific error codes(s) TCP/IP SOCKETS\r\n        at org.apache.derby.client.net.NetAgent.throwCommunicationsFailure(NetAgent.java:362)\r\n        at org.apache.derby.client.net.Reply.fill(Reply.java:193)\r\n        at org.apache.derby.client.net.Reply.ensureALayerDataInBuffer(Reply.java:212)\r\n        at org.apache.derby.client.net.Reply.ensureBLayerDataInBuffer(Reply.java:225)\r\n        at org.apache.derby.client.net.NetStatementReply.parsePKGNAMCSN(NetStatementReply.java:1478)\r\n        at org.apache.derby.client.net.NetStatementReply.parsePKGSNLST(NetStatementReply.java:1721)\r\n        at org.apache.derby.client.net.NetStatementReply.parseRSLSETRM(NetStatementReply.java:1080)\r\n        at org.apache.derby.client.net.NetStatementReply.parseResultSetProcedure(NetStatementReply.java:343)\r\n        at org.apache.derby.client.net.NetStatementReply.parseEXCSQLSTTreply(NetStatementReply.java:279)\r\n        at org.apache.derby.client.net.NetStatementReply.readExecuteCall(NetStatementReply.java:97)\r\n        at org.apache.derby.client.net.StatementReply.readExecuteCall(StatementReply.java:74)\r\n        at org.apache.derby.client.net.NetStatement.readExecuteCall_(NetStatement.java:174)\r\n        at org.apache.derby.client.am.Statement.readExecuteCall(Statement.java:1105)\r\n        at org.apache.derby.client.am.PreparedStatement.flowExecute(PreparedStatement.java:1426)\r\n        at org.apache.derby.client.am.PreparedStatement.executeQueryX(PreparedStatement.java:299)\r\n        at org.apache.derby.client.am.DatabaseMetaData.executeCatalogQuery(DatabaseMetaData.java:1767)\r\n        at org.apache.derby.client.am.DatabaseMetaData.getTablesX(DatabaseMetaData.java:1148)\r\n        at org.apache.derby.client.am.DatabaseMetaData.getTables(DatabaseMetaData.java:1101)\r\n        at com.nuix.store.database.AbstractDatabase.tableExists(AbstractDatabase.java:189)\r\n        ... 12 more\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trejkaz","name":"trejkaz","emailAddress":"trejkaz at trypticon dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Trejkaz","active":true},"created":"2005-10-12T09:59:38.000+0000","updated":"2005-10-12T09:59:38.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12368062","id":"12368062","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"body":"I tried this by removing the space separator in the call to nextToken method in tokenizeDatabase method in ClientDriver.java. With this change, I am able to create and connect to a database with spaces in its name. I tried few simple operations like creates, inserts and selects with the database. \r\n\r\nTrejkaz mentions a getting a disconnect exception when trying some operation with such a database. From the stack trace, it looks like Trejkaz was getting an exception in the call to DatabaseMetaData.getTables. I tried this in a small repro and did not get any exception with my patch. Anyone has any idea what exactly was being done to get the stack trace above ? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"created":"2006-02-28T10:53:41.000+0000","updated":"2006-02-28T10:53:41.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12368196","id":"12368196","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"body":"Attaching a patch 'derby-618-v1.diff'. This is a one line change in ClientDriver.java. It removes the space separator in the call to nextToken method in tokenizeDatabase method. This allows use of database names with spaces.\r\n\r\nWith this patch, I can create and connect to databases with spaces in the path or name. After connecting to such a database, I tried few simple operations. I did not get any exceptions. I think Trejkaz was getting an exception because previously network server also did not support database name with spaces. The problem at network server was resolved as part of DERBY-212/DERBY-814. Before this patch, parsePKGNAMCSN used to return a string with space separators (return rdbnam + \" \" + rdbcolid + \" \" + pkgid + \" \" + secnumber + \" \" + pkgcnstknStr;). So, if the database name had spaces in it, it would'nt work when the pkgnamcsn string is parsed later. This has been already fixed in the trunk.\r\n\r\nI have not added any new regression test for this patch since we will be able to run the test only on Windows. I think test harness does not allow excluding tests based on an operating system. I have repros to test this and I'll upload them shortly.\r\n\r\nWith the patch, I have run derbynetclientmats using Sun JDK 1.4.2 on Windows XP. No failures. I would appreciate if someone can take a look at this patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"created":"2006-03-01T10:18:15.000+0000","updated":"2006-03-01T10:18:15.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12368198","id":"12368198","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"body":"Ataching repros to test the patch:\r\n\r\n1. repro1: derby-618.java - This is a simple java program which creates and connects to a database with spaces in path. And then does some operations on the database. \r\n\r\n2. repro2: derby-618-script.sql - This is an ij script.\r\n\r\nTo run the repros:\r\n1. Start network server on port 2222.\r\n2. For repro1, run the command 'java derby-618'.\r\n3. For repro 2, start ij and run the script 'derby-618-script.sql'.\r\n\r\n-----------------------------------\r\nWithout the patch:\r\n-----------------------------------\r\nThe repros will not give any exception when run without the patch. They will just create the wrong databases:\r\n* repro1 will create a database 'C:\\directory'\r\n* repro2 will create a database 'test'\r\n\r\n-----------------------------------\r\nWith the patch:\r\n-----------------------------------\r\nRepros should create the correct databases with spaces:\r\n* repro1 will create 'C:\\directory with spaces\\db name with spaces'\r\n* repro2 will create 'test db with spaces'","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"created":"2006-03-01T10:33:33.000+0000","updated":"2006-03-01T10:33:33.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12368202","id":"12368202","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trejkaz","name":"trejkaz","emailAddress":"trejkaz at trypticon dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Trejkaz","active":true},"body":"> I have not added any new regression test for this patch since we will be able to run the test only on Windows. \r\n\r\nSpaces exist on Linux as well, are you sure this issue only affected Windows?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=trejkaz","name":"trejkaz","emailAddress":"trejkaz at trypticon dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Trejkaz","active":true},"created":"2006-03-01T11:26:04.000+0000","updated":"2006-03-01T11:26:04.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12368310","id":"12368310","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"body":"Thanks for pointing this out. I think I can add a test to jdbcapi/checkDriver.java for an url with spaces in the database name. I had this wrong notion in my head that directory names with spaces apply only to Windows and hence not added a regression test. I see that other platforms allow creation of directory names with spaces, just that in some situations, it is recommended to avoid this. I will add this test and upload the new patch in a while. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"created":"2006-03-02T01:45:28.000+0000","updated":"2006-03-02T01:45:28.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12368646","id":"12368646","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"body":"Attaching a patch 'derby-618-v2.diff' which includes code change and a test for this issue. Patch does the following:\r\n\r\n* Modifies ClientDriver.java - removes the space separator in the call to nextToken in tokenizeDatabase method. This allows use of URL containing database name with spaces. \r\n\r\n* Adds tests to jdbcapi/checkDriver.java for an url with spaces in database name. Since embedded and jcc driver work with spaces, I added this test for all three frameworks. Test verfies that the specified database gets created.\r\n\r\n* Modifies master files for the test\r\n\r\nRan derbyall with Sun JDK 1.4.2 on Windows XP. I also ran jdbcapi/checkDriver.java with j9 vms. Please take a look at this patch. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"created":"2006-03-03T12:56:04.000+0000","updated":"2006-03-03T12:56:04.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12368783","id":"12368783","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Checked this change into trunk but leaving opena and changing fixin to 10.1.2.3\r\n\r\nDate: Fri Mar  3 11:51:46 2006\r\nNew Revision: 382917\r\n\r\nURL: http://svn.apache.org/viewcvs?rev=382917&view=rev\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-03-04T04:55:02.000+0000","updated":"2006-03-04T04:55:02.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12369675","id":"12369675","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"body":"Attaching a patch 'derby-618-10.1.diff' for 10.1 branch. Submiiting a patch because revision #382917 could not be merged directly using svn merge command. This patch requires the changes in DERBY-814 to be applied to 10.1 branch first. This is uploaded as a separate patch at http://issues.apache.org/jira/browse/DERBY-814. Both these patches need to be committed together. I would appreciate if someone can look at these patches.\r\n\r\nChanges to resove the merge conflicts:\r\n\r\n* DERBY-618 - Manual merge was required for the test jdbcapi/checkDriver.java and masters since 10.1 branch tests hard-code localhost and do not have the test harness changes to get the host name.\r\n\r\n* DERBY-814 - Manual merge was required for DRDAConnThread.java (only conflict was in javadoc  comments) and Database.java (had to change two methods to use the new class Pkgnamcsn)\r\n\r\nWith both the patches applied, I ran the following tests:\r\n\r\n* derbyall with sane jars using Sun JDK 1.4.2. One failure in unit/T_Diagnosticable.unit. This test is failing with sane jars. It does not fail with sane classes. The test fails with sane jars even without the patches. The failure is same as what is reported in DERBY-496.\r\n\r\n* jdbcapi/checkDriver.java with j9 vms.\r\n\r\nNOTE: This patch has to be committed together with the 10.1 branch patch for DERBY-814 (derby-814-10.1.diff).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"created":"2006-03-10T01:21:33.000+0000","updated":"2006-03-10T01:21:33.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12369718","id":"12369718","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Checked into 10.1.2.4\r\n\r\n'Date: Thu Mar  9 10:51:21 2006\r\nNew Revision: 384581\r\n\r\nURL: http://svn.apache.org/viewcvs?rev=384581&view=rev\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-03-10T03:01:12.000+0000","updated":"2006-03-10T03:01:12.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12451206","id":"12451206","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Something had gone wrong in the update of the j9_13/checkDriver.out, username and password had gotten reversed. Updated master/canon with: \r\nhttp://svn.apache.org/viewvc?view=rev&revision=477004\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-11-20T01:55:39.000+0000","updated":"2006-11-20T01:55:39.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317840/comment/12551292","id":"12551292","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"This issue has been resolved for over a year with no further movement. Closing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2007-12-13T09:04:43.837+0000","updated":"2007-12-13T09:04:43.837+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-618/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i075xr:"}}