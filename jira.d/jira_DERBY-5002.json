{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12497625","self":"https://issues.apache.org/jira/rest/api/latest/issue/12497625","key":"DERBY-5002","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315436","id":"12315436","description":"Head of 10.5 branch - version bump for DERBY-4835","name":"10.5.3.2","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315434","id":"12315434","description":"Head of 10.6 branch as of 2014-01-13","name":"10.6.2.4","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315902","id":"12315902","description":"Head of 10.7 branch as of 2010-11-29","name":"10.7.1.4","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12316362","id":"12316362","description":"First release on the 10.8 branch","name":"10.8.1.2","archived":false,"released":true,"releaseDate":"2011-04-29"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2013-06-17 09:19:47.461","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"24586","customfield_12310222":"1_*:*_1_*:*_445424512_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2011-02-09T01:47:12.571+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-5002/watchers","watchCount":1,"isWatching":false},"created":"2011-02-03T22:03:28.131+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315564","id":"12315564","description":"First release on the 10.7 branch.","name":"10.7.1.1","archived":false,"released":true,"releaseDate":"2010-12-14"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12337321","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12337321","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12479407","key":"DERBY-4894","self":"https://issues.apache.org/jira/rest/api/2/issue/12479407","fields":{"summary":"Database corrupt with ERROR XSDB0: Unexpected exception on in-memory page Page(103,Container(0, 1137)) ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-06-17T09:19:47.464+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11412","id":"11412","name":"Store"}],"timeoriginalestimate":null,"description":"Checksum errors should always be reported first before doing any other checking on the page.  Before this fix \r\nthe system would read in the page header first and as a side effect of the read do some initial sanity checking which\r\nfor some page corruptions would report errors and never get to the check sum check.  Checksum errors should\r\nbe reported first as they most quickly and clearly point to disk and system crash problems.\r\n\r\nFor example in the database corruption reported in DERBY-4894  the following error was reported when instead a \r\nchecksum error should have been reported:\r\n\r\nERROR XSDB0: Unexpected exception on in-memory page Page(103,Container(0, 1137))\r\n\r\nat org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.data.StoredPage.initSlotTable(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.data.StoredPage.initFromData(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.data.CachedPage.setIdentity(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.cache.ConcurrentCache.find(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.data.FileContainer.getAnyPage(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.data.BaseContainer.getAnyPage(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.data.BaseContainerHandle.getAnyPage(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.data.PageBasicOperation.findpage(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.data.PageBasicOperation.needsRedo(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.log.FileLogger.redo(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.log.LogToFile.recover(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.raw.RawStore.boot(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.BaseMonitor.startModule(Unknown Source)\r\n\r\nat org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Unknown Source)\r\n\r\nat org.apache.derby.impl.store.access.RAMAccessManager.boot(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.BaseMonitor.startModule(Unknown Source)\r\n\r\nat org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Unknown Source)\r\n\r\nat org.apache.derby.impl.db.BasicDatabase.bootStore(Unknown Source)\r\n\r\nat org.apache.derby.impl.db.BasicDatabase.boot(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.BaseMonitor.bootService(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.BaseMonitor.startProviderService(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)\r\n\r\nat org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)\r\n\r\nat org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)\r\n\r\nat org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)\r\n\r\nat org.apache.derby.impl.jdbc.EmbedConnection.<init>(Unknown Source)\r\n\r\nat org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Unknown Source)\r\n\r\nat org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)\r\n\r\nat org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)\r\n\r\nat java.sql.DriverManager.getConnection(DriverManager.java:322)\r\n\r\nat java.sql.DriverManager.getConnection(DriverManager.java:297)\r\n\r\nat org.apache.derby.impl.tools.ij.ij.dynamicConnection(Unknown Source)\r\n\r\nat org.apache.derby.impl.tools.ij.ij.ConnectStatement(Unknown Source)\r\n\r\nat org.apache.derby.impl.tools.ij.ij.ijStatement(Unknown Source)\r\n\r\nat org.apache.derby.impl.tools.ij.utilMain.runScriptGuts(Unknown Source)\r\n\r\nat org.apache.derby.impl.tools.ij.utilMain.go(Unknown Source)\r\n\r\nat org.apache.derby.impl.tools.ij.Main.go(Unknown Source)\r\n\r\nat org.apache.derby.impl.tools.ij.Main.mainCore(Unknown Source)\r\n\r\nat org.apache.derby.impl.tools.ij.Main.main(Unknown Source)\r\n\r\nat org.apache.derby.tools.ij.main(Unknown Source)\r\n\r\n\r\n\r\n\r\n------------ END SHUTDOWN ERROR STACK -------------\r\n\r\n\r\n\r\n2010-11-08 19:59:32.965 GMT:\r\nShutting down instance a816c00e-012c-2d12-7233-000000073238 with class loader sun.misc.Launcher$AppClassLoader@4be14be1\r\n\r\n----------------------------------------------------------------\r\n\r\n2010-11-08 19:59:32.981 GMT Thread[main,5,main] Cleanup action starting ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"36564","summary":"In case of checksum error, insure correct error reported to user.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":3,"total":3,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497625/comment/12990348","id":"12990348","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"DERBY-5002 will change the corrupt error that DERBY-4894 sees to a checksum error.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2011-02-03T22:44:54.832+0000","updated":"2011-02-03T22:44:54.832+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497625/comment/12990637","id":"12990637","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"still running tests ...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2011-02-04T17:28:00.086+0000","updated":"2011-02-04T17:28:00.086+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12497625/comment/13685357","id":"13685357","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"[bulk update] Close all resolved issues that haven't been updated for more than one year.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2013-06-17T09:19:47.461+0000","updated":"2013-06-17T09:19:47.461+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-5002/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06men:"}}