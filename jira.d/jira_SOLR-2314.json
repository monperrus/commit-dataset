{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12495448","self":"https://issues.apache.org/jira/rest/api/latest/issue/12495448","key":"SOLR-2314","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310230","id":"12310230","key":"SOLR","name":"Solr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310230&avatarId=22151","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310230&avatarId=22151","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310230&avatarId=22151"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2011-01-19 00:23:18.621","customfield_12312323":null,"customfield_12310420":"5208","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_65947346096_*|*_6_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2013-02-14T08:39:06.737+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-2314/watchers","watchCount":1,"isWatching":false},"created":"2011-01-13T01:56:40.702+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315096","id":"12315096","description":"Bug fix release for users of 1.4","name":"1.4.1","archived":false,"released":true,"releaseDate":"2010-06-25"}],"issuelinks":[{"id":"12336965","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12336965","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12495954","key":"SOLR-2320","self":"https://issues.apache.org/jira/rest/api/2/issue/12495954","fields":{"summary":"ReplicationHandler doesn't return master details unless it's also configured as a slave","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-02-14T08:39:06.793+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310675","id":"12310675","name":"web gui","description":"Web admin interface"}],"timeoriginalestimate":null,"description":"Summary:\r\n==========\r\n- Admin UI replication/index.jsp checks for master or slave with the following code:\r\n   if (\"true\".equals(detailsMap.get(\"isSlave\"))) \r\n-  if slave, replication/index.jsp displays the \"Master\" and \"Poll Intervals\", etc. sections (everything up to \"Cores\")\r\n- if false, replication/index.jsp does not display the \"Master\", \"Poll Intervals\" sections \r\n-This \"slave check/UI difference\" works correctly if the solrconfig.xml has a  \"slave\" but not \"master\" section or vice versa\r\n\r\nExpected results:\r\n==================\r\nSame UI difference would occur in the following scenario:\r\n   a) solrconfig.xml has both master and slave entries\r\n   b) use java.properties (-Dsolr.enable.master -Dsolr.enable.slave) to set \"master\" or \"slave\" at runtime\r\n\r\n*OR*\r\n    c) use solrcore.properties  to set \"master\" and \"slave\" at runtime\r\n\r\nActual results:\r\n==================\r\nIf solrconfig.xml has both master and slave entries, replication/index.jsp shows both \"master\" and \"slave\" section regardless of system.properties or solrcore.properties","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"18920","summary":"replicate/index.jsp UI does not work with repeaters (both master and slave)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=willm","name":"willm","emailAddress":"will dot milspec at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"will milspec","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=willm","name":"willm","emailAddress":"will dot milspec at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"will milspec","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"jdk 1.6.0.23  ; both jetty and jboss/tomcat. ","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":6,"total":6,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12495448/comment/12981080","id":"12981080","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=willm","name":"willm","emailAddress":"will dot milspec at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"will milspec","active":true},"body":"Correction:\r\nWhere the bug says \"-Dsolr.enable.master\" it should have said  '-Denable.master'  (similarly for slave)\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=willm","name":"willm","emailAddress":"will dot milspec at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"will milspec","active":true},"created":"2011-01-13T01:59:44.205+0000","updated":"2011-01-13T01:59:44.205+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12495448/comment/12983456","id":"12983456","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"something to be clear about here: there is nothing special about the system properties you describe -- they are completely meaningless to Solr, and nothing in the code does or should ever check for them explicitly.  they only have meaning if you use them in your solrconfig.xml file, as a way to specify the values of the \"enable\" properties in the \"master\" and \"slave\" sections of the ReplicationHandler declaration.\r\n\r\nThe bug seems to be that the JSP for pretty printing the replication handler status is broken and assumes that something is either a master or a slave and doesn't realize that it's possible for something to be both (in the case of a repeater). if you execute the \"details\" command against the replication handler directly, you should see the correct information in the response...\r\n\r\nhttp://localhost:8983/solr/replication?command=details\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2011-01-19T00:23:18.621+0000","updated":"2011-01-19T00:23:18.621+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12495448/comment/12983515","id":"12983515","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"The more i look at this issue, the less i understand it.  testing on the trunk (where index.jsp is identical to the 1.4.1 release)...\r\n\r\n* if i use a solrconfig.xml with only master settings, the h1 tag on the page includes \"Master\" and there are three pieces of data (Index Version, Location, and Size)\r\n* if i use a solrconfig.xml with only slave settings, the h1 tag on the page includes \"Slave\" and there are numerous additional pieces of information, *including all three property returned as a master*\r\n* if i use a solconfig.xml with both slave and master settings, the h1 tag includes \"Master & Slave\" and i get all of same data as before\r\n* this behavior doesn't change if i leave both the master/slave settings in the handler config, and use an \"enable\" attribute to activate them\r\n* all of this behavior remains the same regardless of whether i use a system property to drive the enable attributes.\r\n\r\nSo based on that, i don't see a bug indicating that master details (or slave details) are displayed incorrectly by index.jsp when only one type is in use, but not when a box is a repeater.\r\n\r\nHowever...\r\n\r\nLooking at the code in index.jsp, i see that some of the details output when the handler is configured as a repeater come from the \"master\" details (\"confFiles\" and \"replicateAfter\") but the entire \"master\" section isn't returned by the details command when the replication handler is only a master.\r\n\r\nso there definitely seems to be a bug -- i'm just not convinced it's what will ment when he filed this jira issue","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2011-01-19T03:08:46.467+0000","updated":"2011-01-19T03:08:46.467+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12495448/comment/12983520","id":"12983520","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"I've opened SOLR-2320 to track the bug i've identified, since it doesn't seem to be the same issue will was reporting.\r\n\r\nWill: if you can clarify the behavior you are seeing, and how it fails to match your expectations (ie: by providing actual config snippets and screenshots) that would help erify if we are talking about the same bug or not.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2011-01-19T03:32:13.894+0000","updated":"2011-01-19T03:32:13.894+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12495448/comment/12986155","id":"12986155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"will: if you can try out the patch i've attached to SOLR-2320 and let me know if that solves the problem you were trying to describe, it would be much appreciated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2011-01-25T00:55:07.833+0000","updated":"2011-01-25T00:55:07.833+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12495448/comment/13578234","id":"13578234","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=janhoy","name":"janhoy","emailAddress":"jh at cominvent dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=janhoy&avatarId=10130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=janhoy&avatarId=10130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=janhoy&avatarId=10130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=janhoy&avatarId=10130"},"displayName":"Jan Høydahl","active":true},"body":"Closing old issue as the JSP's are now gone from Solr. Please re-open if still a problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=janhoy","name":"janhoy","emailAddress":"jh at cominvent dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=janhoy&avatarId=10130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=janhoy&avatarId=10130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=janhoy&avatarId=10130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=janhoy&avatarId=10130"},"displayName":"Jan Høydahl","active":true},"created":"2013-02-14T08:39:06.782+0000","updated":"2013-02-14T08:39:06.782+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-2314/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i03liv:"}}