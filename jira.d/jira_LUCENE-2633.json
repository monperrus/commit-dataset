{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12473234","self":"https://issues.apache.org/jira/rest/api/latest/issue/12473234","key":"LUCENE-2633","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317877","id":"12317877","description":"Major release after 3.4","name":"3.5","archived":false,"released":true,"releaseDate":"2011-11-27"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314025","id":"12314025","description":"Alpha release of the 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-09-08 13:39:42.338","customfield_12312323":null,"customfield_12310420":"11204","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_523982115_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-09-09T12:54:52.628+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-2633/watchers","watchCount":0,"isWatching":false},"created":"2010-09-03T11:21:50.513+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314025","id":"12314025","description":"Alpha release of the 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"issuelinks":[{"id":"12333717","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12333717","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12438385","key":"LUCENE-1990","self":"https://issues.apache.org/jira/rest/api/2/issue/12438385","fields":{"summary":"Add unsigned packed int impls in oal.util","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-11-27T12:29:28.562+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[],"timeoriginalestimate":null,"description":"The PackedInts Packed32 and Packed64 fails when the internal structure exceeds 256MB. This is due to a missing cast that results in the bit position calculation being limited by Integer.MAX_VALUE (256MB * 8 = 2GB).","customfield_10010":null,"timetracking":{},"customfield_12310120":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10121","value":"New","id":"10121"},{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10120","value":"Patch Available","id":"10120"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"25377","summary":"PackedInts does not support structures above 256MB","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=toke","name":"toke","emailAddress":"te at ekot dot dk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=toke&avatarId=16760","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=toke&avatarId=16760","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=toke&avatarId=16760","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=toke&avatarId=16760"},"displayName":"Toke Eskildsen","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=toke","name":"toke","emailAddress":"te at ekot dot dk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=toke&avatarId=16760","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=toke&avatarId=16760","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=toke&avatarId=16760","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=toke&avatarId=16760"},"displayName":"Toke Eskildsen","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"All","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":9,"total":9,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473234/comment/12905855","id":"12905855","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=toke","name":"toke","emailAddress":"te at ekot dot dk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=toke&avatarId=16760","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=toke&avatarId=16760","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=toke&avatarId=16760","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=toke&avatarId=16760"},"displayName":"Toke Eskildsen","active":true},"body":"Bug fixed for Packed32 and Packe64. Unit test added that triggers the bug in the non-patched versions.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=toke","name":"toke","emailAddress":"te at ekot dot dk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=toke&avatarId=16760","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=toke&avatarId=16760","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=toke&avatarId=16760","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=toke&avatarId=16760"},"displayName":"Toke Eskildsen","active":true},"created":"2010-09-03T11:24:31.554+0000","updated":"2010-09-03T11:24:31.554+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473234/comment/12905856","id":"12905856","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=toke","name":"toke","emailAddress":"te at ekot dot dk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=toke&avatarId=16760","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=toke&avatarId=16760","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=toke&avatarId=16760","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=toke&avatarId=16760"},"displayName":"Toke Eskildsen","active":true},"body":"See LUCENE-1990 for discussion of this fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=toke","name":"toke","emailAddress":"te at ekot dot dk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=toke&avatarId=16760","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=toke&avatarId=16760","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=toke&avatarId=16760","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=toke&avatarId=16760"},"displayName":"Toke Eskildsen","active":true},"created":"2010-09-03T11:26:11.723+0000","updated":"2010-09-03T11:26:11.723+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473234/comment/12907211","id":"12907211","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"body":"Any objections to at least committing the fix (the casts are clearly needed) while we wait and sort out the test? Appears to be a clear and simple bug, but the test issue is not so clear and simple and looks like it could drag out the fix being applied here - but that doesn't seem necessary?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=markrmiller%40gmail.com","name":"markrmiller@gmail.com","emailAddress":"markrmiller at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=markrmiller%40gmail.com&avatarId=17267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=markrmiller%40gmail.com&avatarId=17267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=markrmiller%40gmail.com&avatarId=17267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=markrmiller%40gmail.com&avatarId=17267"},"displayName":"Mark Miller","active":true},"created":"2010-09-08T13:39:42.338+0000","updated":"2010-09-08T13:39:42.338+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473234/comment/12907214","id":"12907214","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"+1, if the test is problematic, we can always either comment out the new test, or @Ignore it, and add a note.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2010-09-08T13:46:23.840+0000","updated":"2010-09-08T13:46:23.840+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473234/comment/12907228","id":"12907228","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=simonw","name":"simonw","emailAddress":"simonw at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Willnauer","active":true},"body":"bq. +1, if the test is problematic, we can always either comment out the new test, or @Ignore it, and add a note.\r\n\r\n+1 - I thought about something like the Assume#assumeTrue(MAX_HEAP_MEM >= 256); (http://kentbeck.github.com/junit/javadoc/latest/org/junit/Assume.html#assumeTrue(boolean)) which could be set to a certain default value and would exclude the test if not enough memory is available. That would prevent uncommenting the test - I guess @Ignore would work too but maybe we want disable / enable at a central place for tests like that.\r\n\r\n\r\nsimon","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=simonw","name":"simonw","emailAddress":"simonw at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Simon Willnauer","active":true},"created":"2010-09-08T14:24:37.559+0000","updated":"2010-09-08T14:24:37.559+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473234/comment/12907604","id":"12907604","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"I have no problems running 'ant test' with this patch/test applied.\r\n\r\nas mentioned on LUCENE-1990, ant allows 512MB in our build already.\r\n\r\ni mentioned there that it would be nice to reduce this to say 256MB, \r\nbut its not causing me any problems personally and computers get more\r\nRAM every day.\r\n\r\nI think we should commit with the test enabled. \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2010-09-09T11:46:39.950+0000","updated":"2010-09-09T11:46:39.950+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473234/comment/12907618","id":"12907618","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Runs fine for me too -- the test 'only' needs 256 MB so I think it's fine.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2010-09-09T12:44:05.947+0000","updated":"2010-09-09T12:44:05.947+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473234/comment/12907621","id":"12907621","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Thanks Toke!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2010-09-09T12:54:52.584+0000","updated":"2010-09-09T12:54:52.584+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12473234/comment/13157768","id":"13157768","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"body":"Bulk close after release of 3.5","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"created":"2011-11-27T12:29:28.536+0000","updated":"2011-11-27T12:29:28.536+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-2633/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i04pdr:"}}