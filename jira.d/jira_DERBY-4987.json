{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12496971","self":"https://issues.apache.org/jira/rest/api/latest/issue/12496971","key":"DERBY-4987","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315436","id":"12315436","description":"Head of 10.5 branch - version bump for DERBY-4835","name":"10.5.3.2","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315434","id":"12315434","description":"Head of 10.6 branch as of 2014-01-13","name":"10.6.2.4","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315902","id":"12315902","description":"Head of 10.7 branch as of 2010-11-29","name":"10.7.1.4","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12316362","id":"12316362","description":"First release on the 10.8 branch","name":"10.8.1.2","archived":false,"released":true,"releaseDate":"2011-04-29"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2011-01-27 21:29:45.831","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"24576","customfield_12310222":"1_*:*_1_*:*_189499320_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2011-01-29T23:29:54.759+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4987/watchers","watchCount":1,"isWatching":false},"created":"2011-01-27T18:51:35.439+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314117","id":"12314117","description":"Next release after 10.5.2.0 release candidate #1","name":"10.5.3.0","archived":false,"released":true,"releaseDate":"2009-08-21"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12316362","id":"12316362","description":"First release on the 10.8 branch","name":"10.8.1.2","archived":false,"released":true,"releaseDate":"2011-04-29"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-06-17T09:19:28.212+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"Dag reported in this thread that he saw a BootLockTest hang:\r\nhttp://mail-archives.apache.org/mod_mbox/db-derby-dev/201012.mbox/%3Cx6lj3zhlwh.fsf@oracle.com%3E\r\nwith trace:\r\n\r\njava.lang.Thread.State: RUNNABLE\r\n\tat java.io.FileInputStream.readBytes(Native Method)\r\n\tat java.io.FileInputStream.read(FileInputStream.java:199)\r\n\tat java.lang.UNIXProcess$DeferredCloseInputStream.read(UNIXProcess.java:227)\r\n\tat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:264)\r\n\tat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:306)\r\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:158)\r\n\t- locked <0xc16a42d0> (a java.io.InputStreamReader)\r\n\tat java.io.InputStreamReader.read(InputStreamReader.java:167)\r\n\tat java.io.BufferedReader.fill(BufferedReader.java:136)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:299)\r\n\t- locked <0xc16a42d0> (a java.io.InputStreamReader)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:362)\r\n\tat org.apache.derbyTesting.functionTests.tests.store.BootLockTest.waitForMinionBoot(BootLockTest.java:209)\r\n\tat org.apache.derbyTesting.functionTests.tests.store.BootLockTest.testBootLock(BootLockTest.java:131)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat junit.framework.TestCase.runTest(TestCase.java:164)\r\n\tat junit.framework.TestCase.runBare(TestCase.java:130)\r\n\tat org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:109)\r\n\tat junit.framework.TestResult$1.protect(TestResult.java:106)\r\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\r\n\tat junit.framework.TestResult.run(TestResult.java:109)\r\n\tat junit.framework.TestCase.run(TestCase.java:120)\r\n\tat junit.framework.TestSuite.runTest(TestSuite.java:230)\r\n\tat junit.framework.TestSuite.run(TestSuite.java:225)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\r\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\r\n\tat org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\r\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\r\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\r\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\r\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\r\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\r\n\tat junit.framework.TestSuite.runTest(TestSuite.java:230)\r\n\tat junit.framework.TestSuite.run(TestSuite.java:225)\r\n\tat junit.framework.TestSuite.runTest(TestSuite.java:230)\r\n\tat junit.framework.TestSuite.run(TestSuite.java:225)\r\n\tat kah.TestRunner.main(TestRunner.java:77)\r\n\r\n\r\n\r\nI had a recent report of a hang in BootLockTest with a prereleaseJVM with a slightly different trace.\r\nXMTHREADINFO      \"main\" J9VMThread:0x08077400, \r\nj9thread_t:0x08059C94, java/lang/Thread:0xD64B3CB0, state:CW, \r\nprio=5\r\n3XMTHREADINFO1            (native thread ID:0x43F6, native \r\npriority:0x5, native policy:UNKNOWN)\r\n3XMTHREADINFO2            (native stack address range \r\nfrom:0xF6C9B000, to:0xF749C000, size:0x801000)\r\n3XMTHREADINFO3           Java callstack:\r\n4XESTACKTRACE                at java/lang/Object.wait(Native \r\nMethod)\r\n4XESTACKTRACE                at \r\njava/lang/Object.wait(Object.java:196(Compiled Code))\r\n4XESTACKTRACE                at \r\njava/io/PipedInputStream.read(PipedInputStream.java:288(Compiled\r\n Code))\r\n4XESTACKTRACE                at \r\njava/lang/ProcessPipedInputStream.read(UNIXProcess.java:403)\r\n4XESTACKTRACE                at \r\njava/io/PipedInputStream.read(PipedInputStream.java:361(Compiled\r\n Code))\r\n4XESTACKTRACE                at \r\njava/lang/ProcessInputStream.read(UNIXProcess.java:484)\r\n4XESTACKTRACE                at \r\nsun/nio/cs/StreamDecoder$CharsetSD.readBytes(StreamDecoder.java:\r\n452)\r\n4XESTACKTRACE                at \r\nsun/nio/cs/StreamDecoder$CharsetSD.implRead(StreamDecoder.java:4\r\n94(Compiled Code))\r\n4XESTACKTRACE                at \r\nsun/nio/cs/StreamDecoder.read(StreamDecoder.java:222)\r\n4XESTACKTRACE                at \r\njava/io/InputStreamReader.read(InputStreamReader.java:177)\r\n4XESTACKTRACE                at \r\njava/io/BufferedReader.fill(BufferedReader.java:136(Compiled \r\nCode))\r\n4XESTACKTRACE                at \r\njava/io/BufferedReader.readLine(BufferedReader.java:299(Compiled\r\n Code))\r\n4XESTACKTRACE                at \r\njava/io/BufferedReader.readLine(BufferedReader.java:362(Compiled\r\n Code))\r\n4XESTACKTRACE                at \r\norg/apache/derbyTesting/functionTests/tests/store/BootLockTest.w\r\naitForMinionBoot(BootLockTest.java:175(Compiled Code))\r\n4XESTACKTRACE                at \r\norg/apache/derbyTesting/functionTests/tests/store/BootLockTest.t\r\nestBootLock(BootLockTest.java:131)\r\n4XESTACKTRACE                at \r\nsun/reflect/NativeMethodAccessorImpl.invoke0(Native Method)\r\n4XESTACKTRACE                at \r\nsun/reflect/NativeMethodAccessorImpl.invoke(NativeMethodAccessor\r\nImpl.java:48)\r\n4XESTACKTRACE                at \r\nsun/reflect/DelegatingMethodAccessorImpl.invoke(DelegatingMethod\r\nAccessorImpl.java:25)\r\n4XESTACKTRACE                at \r\njava/lang/reflect/Method.invoke(Method.java:600)\r\n4XESTACKTRACE                at \r\njunit/framework/TestCase.runTest(TestCase.java:154)\r\n4XESTACKTRACE                at \r\njunit/framework/TestCase.runBare(TestCase.java:127)\r\n4XESTACKTRACE                at \r\norg/apache/derbyTesting/junit/BaseTestCase.runBare(BaseTestCase.\r\njava:109)\r\n4XESTACKTRACE                at \r\njunit/framework/TestResult$1.protect(TestResult.java:106)\r\n4XESTACKTRACE                at \r\njunit/framework/TestResult.runProtected(TestResult.java:124)\r\n4XESTACKTRACE                at \r\njunit/framework/TestResult.run(TestResult.java:109)\r\n4XESTACKTRACE                at \r\njunit/framework/TestCase.run(TestCase.java:118)\r\n4XESTACKTRACE                at \r\njunit/framework/TestSuite.runTest(TestSuite.java:208(Compiled \r\nCode))\r\n4XESTACKTRACE                at \r\njunit/framework/TestSuite.run(TestSuite.java:199(Compiled \r\nCode))\r\n4XESTACKTRACE                at \r\njunit/extensions/TestDecorator.basicRun(TestDecorator.java:22)\r\n4XESTACKTRACE                at \r\njunit/extensions/TestSetup$1.protect(TestSetup.java:19)\r\n4XESTACKTRACE                at \r\njunit/framework/TestResult.runProtected(TestResult.java:124)\r\n4XESTACKTRACE                at \r\njunit/extensions/TestSetup.run(TestSetup.java:23)\r\n4XESTACKTRACE                at \r\norg/apache/derbyTesting/junit/BaseTestSetup.run(BaseTestSetup.ja\r\nva:57)\r\n4XESTACKTRACE                at \r\njunit/extensions/TestDecorator.basicRun(TestDecorator.java:22)\r\n4XESTACKTRACE                at \r\njunit/extensions/TestSetup$1.protect(TestSetup.java:19)\r\n4XESTACKTRACE                at \r\njunit/framework/TestResult.runProtected(TestResult.java:124)\r\n4XESTACKTRACE                at \r\njunit/extensions/TestSetup.run(TestSetup.java:23)\r\n4XESTACKTRACE                at \r\njunit/extensions/TestDecorator.basicRun(TestDecorator.java:22)\r\n4XESTACKTRACE                at \r\njunit/extensions/TestSetup$1.protect(TestSetup.java:19)\r\n4XESTACKTRACE                at \r\njunit/framework/TestResult.runProtected(TestResult.java:124)\r\n4XESTACKTRACE                at \r\njunit/extensions/TestSetup.run(TestSetup.java:23)\r\n4XESTACKTRACE                at \r\njunit/framework/TestSuite.runTest(TestSuite.java:208(Compiled \r\nCode))\r\n4XESTACKTRACE                at \r\njunit/framework/TestSuite.run(TestSuite.java:199(Compiled \r\nCode))\r\n4XESTACKTRACE                at \r\njunit/textui/TestRunner.doRun(TestRunner.java:116(Compiled \r\nCode))\r\n4XESTACKTRACE                at \r\njunit/textui/TestRunner.start(TestRunner.java:157(Compiled \r\nCode))\r\n4XESTACKTRACE                at \r\njunit/textui/TestRunner.main(TestRunner.java:138)\r\n\r\n\r\nNeed to take a look at the stability of this test regarding reading the process output.\r\n\r\n\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"36588","summary":"BootLockTest can hang reading spawned process output","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"subtasks":[],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10422","value":"High Value Fix","id":"10422"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":5,"total":5,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12496971/comment/12987770","id":"12987770","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Data point: I saw a hang again yesterday on a highly loaded system on trunk, Sun Java 1.6.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2011-01-27T21:29:45.831+0000","updated":"2011-01-27T21:29:45.831+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12496971/comment/12987792","id":"12987792","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Dag, was the run that hung yesterday on a build before, or after revision #1063906, the fix for DERBY-4985?\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2011-01-27T22:09:52.362+0000","updated":"2011-01-27T22:09:52.362+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12496971/comment/12988260","id":"12988260","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"So I was able to reproduce this with the IBM JVM on linux with\r\nIBM_JAVA_OPTIONS=-Xgcpolicy:optthruput -Xnoquickstart -Xjit \r\n\r\nwhich makes the jvm start very slowly so BootLockMinion does not complete it's work in the 60 seconds granted.  BootLockTest tries to read the standard err before killing the process but this blocks because BootLockMinion is still running, sleeping, waiting to be killed by BootLockTest.\r\n\r\nThe logic needs to be adjusted to not attempt to get the standard err output if the process is still running and also 60 seconds seems to be not long enough in some modes.\r\n\r\nIt might also be good to have BootLockMinion give up at some point too.\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2011-01-28T21:56:04.596+0000","updated":"2011-01-28T21:56:04.596+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12496971/comment/12988384","id":"12988384","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Here is a patch for this issue.  I tested on Windows by putting a temporary sleep in the beginning of BootLockMinion.  The test will now only attempt to get the error output if BootLockMinion has exited and also has a  max timeout of ten minutes which won't slow down normal runs of the test but hopefully be long enough without risk of hanging again.\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2011-01-29T04:17:14.621+0000","updated":"2011-01-29T04:17:14.621+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12496971/comment/13685250","id":"13685250","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"[bulk update] Close all resolved issues that haven't been updated for more than one year.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2013-06-17T09:19:28.207+0000","updated":"2013-06-17T09:19:28.207+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4987/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06mjz:"}}