{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12346270","self":"https://issues.apache.org/jira/rest/api/latest/issue/12346270","key":"DERBY-1537","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-07-21 21:45:37.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22557","customfield_12310222":"1_*:*_1_*:*_1149449000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_17606083116","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-08-02T00:19:26.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1537/watchers","watchCount":0,"isWatching":false},"created":"2006-07-19T17:01:57.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.png","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311953","id":"12311953","description":"","name":"10.1.3.1","archived":false,"released":true,"releaseDate":"2006-06-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12312927","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12312927","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12324988","key":"DERBY-645","self":"https://issues.apache.org/jira/rest/api/2/issue/12324988","fields":{"summary":"derbynet/sysinfo.java fails  showing  missing locale support due to  AccessControlExceptions if derbytools.jar is before derby.jar in the classpath","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12312928","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12312928","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12324988","key":"DERBY-645","self":"https://issues.apache.org/jira/rest/api/2/issue/12324988","fields":{"summary":"derbynet/sysinfo.java fails  showing  missing locale support due to  AccessControlExceptions if derbytools.jar is before derby.jar in the classpath","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-06-26T16:15:35.159+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11405","id":"11405","name":"Build tools"}],"timeoriginalestimate":null,"description":"When running derbyall against sane jars all tests that create the \"wombat\" database fail at boot-time if the classpath has derbytools.jar before derby.jar. The failure occurs when the test tries to create the database.  I can successfully create a database manually, but for whatever reason the test harness is unable to do so. \r\n\r\nI've set the component to \"Test\" but I don't know if this a test harness problem or something more severe.\r\n\r\nThe full stack trace is below.  If I switch the order of derby.jar and derbytools.jar, everything works as expected.\r\n\r\nERROR XBM01: Startup failed due to an exception. See next exception for details.\r\n    at org.apache.derby.iapi.error.StandardException.newException(StandardException.java:297)\r\n    at org.apache.derby.iapi.services.monitor.Monitor.exceptionStartingModule(Monitor.java:668)\r\n    at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMonitor.java:1849)\r\n    at org.apache.derby.impl.services.monitor.BaseMonitor.createPersistentService(BaseMonitor.java:1013)\r\n    at org.apache.derby.iapi.services.monitor.Monitor.createPersistentService(Monitor.java:587)\r\n    at org.apache.derby.impl.jdbc.EmbedConnection.createDatabase(EmbedConnection.java:1563)\r\n    at org.apache.derby.impl.jdbc.EmbedConnection.<init>(EmbedConnection.java:243)\r\n    at org.apache.derby.impl.jdbc.EmbedConnection30.<init>(EmbedConnection30.java:72)\r\n    at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:73)\r\n    at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)\r\n    at org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:116)\r\n    at java.sql.DriverManager.getConnection(DriverManager.java:539)\r\n    at java.sql.DriverManager.getConnection(DriverManager.java:158)\r\n    at org.apache.derby.impl.tools.ij.util.startJBMS(util.java:491)\r\n    at org.apache.derby.impl.tools.ij.util.startJBMS(util.java:571)\r\n    at org.apache.derby.impl.tools.ij.ConnectionEnv.init(ConnectionEnv.java:62)\r\n    at org.apache.derby.impl.tools.ij.utilMain.<init>(utilMain.java:149)\r\n    at org.apache.derby.impl.tools.ij.utilMain14.<init>(utilMain14.java:51)\r\n    at org.apache.derby.impl.tools.ij.Main14.getutilMain(Main14.java:102)\r\n    at org.apache.derby.impl.tools.ij.Main.<init>(Main.java:232)\r\n    at org.apache.derby.impl.tools.ij.Main14.<init>(Main14.java:68)\r\n    at org.apache.derby.impl.tools.ij.Main14.getMain(Main14.java:91)\r\n    at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:170)\r\n    at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)\r\n    at org.apache.derby.tools.ij.main(ij.java:60)\r\n============= begin nested exception, level (1) ===========\r\njava.lang.NullPointerException\r\n    at java.io.Reader.<init>(Reader.java(Inlined Compiled Code))\r\n    at java.io.InputStreamReader.<init>(InputStreamReader.java(Inlined Compiled Code))\r\n    at java.util.Properties.load(Properties.java(Compiled Code))\r\n    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.run(DataDictionaryImpl.java:9757)\r\n    at java.security.AccessController.doPrivileged1(Native Method)\r\n    at java.security.AccessController.doPrivileged(AccessController.java:287)\r\n    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.getQueryDescriptions(DataDictionaryImpl.java:9747)\r\n    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.createSPSSet(DataDictionaryImpl.java:8275)\r\n    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.createSystemSps(DataDictionaryImpl.java:8262)\r\n    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.boot(DataDictionaryImpl.java:651)\r\n    at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)\r\n    at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)\r\n    at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:542)\r\n    at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:418)\r\n    at org.apache.derby.impl.sql.conn.GenericLanguageConnectionFactory.bootDataDictionary(GenericLanguageConnectionFactory.java:357)\r\n    at org.apache.derby.impl.sql.conn.GenericLanguageConnectionFactory.boot(GenericLanguageConnectionFactory.java:330)\r\n    at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)\r\n    at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)\r\n    at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:542)\r\n    at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:418)\r\n    at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:193)\r\n    at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)\r\n    at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)\r\n    at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMonitor.java:1831)\r\n    at org.apache.derby.impl.services.monitor.BaseMonitor.createPersistentService(BaseMonitor.java:1013)\r\n    at org.apache.derby.iapi.services.monitor.Monitor.createPersistentService(Monitor.java:587)\r\n    at org.apache.derby.impl.jdbc.EmbedConnection.createDatabase(EmbedConnection.java:1563)\r\n    at org.apache.derby.impl.jdbc.EmbedConnection.<init>(EmbedConnection.java:243)\r\n    at org.apache.derby.impl.jdbc.EmbedConnection30.<init>(EmbedConnection30.java:72)\r\n    at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:73)\r\n    at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)\r\n    at org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:116)\r\n    at java.sql.DriverManager.getConnection(DriverManager.java:539)\r\n    at java.sql.DriverManager.getConnection(DriverManager.java:158)\r\n    at org.apache.derby.impl.tools.ij.util.startJBMS(util.java:491)\r\n    at org.apache.derby.impl.tools.ij.util.startJBMS(util.java:571)\r\n    at org.apache.derby.impl.tools.ij.ConnectionEnv.init(ConnectionEnv.java:62)\r\n    at org.apache.derby.impl.tools.ij.utilMain.<init>(utilMain.java:149)\r\n    at org.apache.derby.impl.tools.ij.utilMain14.<init>(utilMain14.java:51)\r\n    at org.apache.derby.impl.tools.ij.Main14.getutilMain(Main14.java:102)\r\n    at org.apache.derby.impl.tools.ij.Main.<init>(Main.java:232)\r\n    at org.apache.derby.impl.tools.ij.Main14.<init>(Main14.java:68)\r\n    at org.apache.derby.impl.tools.ij.Main14.getMain(Main14.java:91)\r\n    at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:170)\r\n    at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)\r\n    at org.apache.derby.tools.ij.main(ij.java:60)\r\n============= end nested exception, level (1) ===========\r\nCleanup action completed ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"39145","summary":"Boot-time exception when running Derby tests with derbytools.jar in front of derby.jar in the classpath.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"This issue impacts 10.1 as well.\r\n","customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10051","value":"Urgent","id":"10051"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":7,"total":7,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346270/comment/12422782","id":"12422782","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"RegressionSearchAndDestroy hint:\r\n\r\nThis issue looks like low hanging fruit for anyone wishing to participate in the RegressionSearchAndDestroy contest or for any eager QA person looking for a point.  Just a little investigation might expose it as an important blocker issue for the release. \r\n\r\nIt is a new NPE  loading core derby properties from  org.apache.derby.impl.sql.catalog.DataDictionaryImpl based on classpath order but  is marked.  \r\n\r\n  * Priority : Low\r\n  * Component: Test\r\n\r\nIt would certainly be a great quality contribution to 10.2  and ease upgrade to get it marked as  a \"Regression\"  and priority and component adjusted if needed.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-07-21T21:45:37.000+0000","updated":"2006-07-21T21:45:37.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346270/comment/12423182","id":"12423182","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Changing this to Critical and Fix Version 10.2 because it certainly looks like a serious product issue to me and a regression if we are getting an NPE booting the server as it is reading properties.   I think it should be  resolved or at least understood before we  release 10.2\r\n\r\nava.lang.NullPointerException\r\n    at java.io.Reader.<init>(Reader.java(Inlined Compiled Code))\r\n    at java.io.InputStreamReader.<init>(InputStreamReader.java(Inlined Compiled Code))\r\n    at java.util.Properties.load(Properties.java(Compiled Code))\r\n    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.run(DataDictionaryImpl.java:9757)\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-07-24T22:38:39.000+0000","updated":"2006-07-24T22:38:39.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346270/comment/12423212","id":"12423212","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"This problem only occurs when running with the security manager enabled. The underlying problem is that there is a copy of org/apache/derby/impl/jdbc metadata.properties in derbytools.jar. When running with the security manager enabled, with the test policy file, the engine requests metadata.properties and the first copy it finds is in derbytools.jar. However, derby.jar does not have the necessary FilePermission to read files in derbytools.jar, so getResourceAsStream() returns null for the file. The NPE is then thrown because of the next line of code when it calls Properties.load() with a null reference.\r\n\r\nIt's not technically a regression, since derbytools.jar has apparently included a copy of metadata.properties since the beginning. We just had never spotted it because the tests were not running with the security manager. And up until last week, no one had tried putting tools.jar first.\r\n\r\nThat said, the fact that there's a copy of metadata.properties in derbytools.jar is certainly a bug, and one that I'll fix. Preliminary investigation indicates the problem is with the classlister utility which generates the dependency list for the jar.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2006-07-25T00:40:46.000+0000","updated":"2006-07-25T00:40:46.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346270/comment/12423922","id":"12423922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Bumping urgency.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2006-07-27T20:59:35.000+0000","updated":"2006-07-27T20:59:35.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346270/comment/12424455","id":"12424455","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"The symptoms are different, but see also DERBY-645 for another problem with the order of derbytools.jar and derby.jra in the classpath.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-07-31T00:01:22.000+0000","updated":"2006-07-31T00:01:22.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346270/comment/12424730","id":"12424730","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"Attching a patch for this issue. Currently, for every class scanned by classlister, the package of that class is also checked for a few certain properties files. If found, these properties files are added to the list of files tracked by the dependency manager. Currently, this is only used by the engine build for metadata.properties. I've turned it off for the tools jar build by wrapping it in a if (!db2jtools) {} block. This prevents classlister from including org.apache.derby.impl.jdbc.metadata.properties because it scanned and added org.apache.derby.impl.jdbc.EmbedSQLException, a dependent of org.apache.derby.iapi.error.StandardException.\r\n\r\nClasslister could use some cleanup, but that should be handled separately from this issue.\r\n\r\nI've verified that the fix solves the underlying problem and the exposed issue, the classpath ordering problem. Unless there are any comments, I will commit this in the next day or so.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2006-08-01T04:31:31.000+0000","updated":"2006-08-01T04:31:31.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12346270/comment/12425069","id":"12425069","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"Committed to trunk with revision 427816.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2006-08-02T00:19:26.000+0000","updated":"2006-08-02T00:19:26.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1537/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i072c7:"}}