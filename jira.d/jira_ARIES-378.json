{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12471356","self":"https://issues.apache.org/jira/rest/api/latest/issue/12471356","key":"ARIES-378","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310981","id":"12310981","key":"ARIES","name":"Aries","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310981&avatarId=10065","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310981&avatarId=10065","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310981&avatarId=10065","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310981&avatarId=10065"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10520","id":"10520","description":"Apache Aries","name":"Aries"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314941","id":"12314941","description":"","name":"0.2","archived":true,"released":true,"releaseDate":"2010-09-06"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-08-12 15:32:18.675","customfield_12312323":null,"customfield_12310420":"93990","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_150364_*|*_1_*:*_1_*:*_122407524_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-08-13T07:38:05.295+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-378/watchers","watchCount":0,"isWatching":false},"created":"2010-08-11T21:35:27.407+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314941","id":"12314941","description":"","name":"0.2","archived":true,"released":true,"releaseDate":"2010-09-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-13T13:58:58.457+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313429","id":"12313429","name":"Samples"}],"timeoriginalestimate":null,"description":"While running the Blog sample in the provided Blog-Assembly and the JPA EBA I noticed the following error.   Starting the sample works as expected and everything works fine the first time.  However, after stopping and then restarting the assembly the following error is encountered when trying to do anything that will access JPA persistence.   I also noticed the same error using the AriesTrader sample when using JPA persistence (either application manager or container managed).  If I used JDBC persistence for AriesTrader I did not encounter the error.  \r\n\r\nA JDBC Driver or DataSource class name must be specified in the ConnectionDriverName property\r\n\r\nHere is the complete output with full stack trace from the Blog sample:\r\nProblem accessing /org.apache.aries.samples.blog.web/ViewBlog. Reason:\r\n\r\n    There were errors initializing your configuration: <openjpa-2.0.0-beta3-r422266:926797 fatal user error> org.apache.openjpa.util.UserException: A JDBC Driver or DataSource class name must be specified in the ConnectionDriverName property.\r\n\tat org.apache.openjpa.jdbc.schema.DataSourceFactory.newDataSource(DataSourceFactory.java:76)\r\n\tat org.apache.openjpa.jdbc.conf.JDBCConfigurationImpl.createConnectionFactory(JDBCConfigurationImpl.java:836)\r\n\tat org.apache.openjpa.jdbc.conf.JDBCConfigurationImpl.getConnectionFactory(JDBCConfigurationImpl.java:724)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.openjpa.lib.conf.ConfigurationImpl.instantiateAll(ConfigurationImpl.java:294)\r\n\tat org.apache.openjpa.conf.OpenJPAConfigurationImpl.instantiateAll(OpenJPAConfigurationImpl.java:1602)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.makeReadOnly(AbstractBrokerFactory.java:634)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:193)\r\n\tat org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:156)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:213)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:57)\r\n\tat org.apache.aries.jpa.container.impl.CountingEntityManagerFactory.createEntityManager(CountingEntityManagerFactory.java:70)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAPersistenceContextRegistry.getCurrentPersistenceContext(JTAPersistenceContextRegistry.java:131)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.getPersistenceContext(JTAEntityManager.java:86)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.createQuery(JTAEntityManager.java:163)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.BlogPersistenceServiceImpl.getNoOfBlogEntries(BlogPersistenceServiceImpl.java:119)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator$1.invoke(Collaborator.java:66)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator.invoke(Collaborator.java:151)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.$BlogPersistenceServiceImpl2018048960.getNoOfBlogEntries(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.container.AbstractServiceReferenceRecipe$JdkProxyFactory$1.invoke(AbstractServiceReferenceRecipe.java:632)\r\n\tat $Proxy9.getNoOfBlogEntries(Unknown Source)\r\n\tat org.apache.aries.samples.blog.biz.BlogEntryManagerImpl.getNoOfPosts(BlogEntryManagerImpl.java:89)\r\n\tat org.apache.aries.samples.blog.biz.BloggingServiceImpl.getNoOfEntries(BloggingServiceImpl.java:98)\r\n\tat org.apache.aries.samples.blog.web.ViewBlog.doGet(ViewBlog.java:66)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.ops4j.pax.web.service.internal.WelcomeFilesFilter.doFilter(WelcomeFilesFilter.java:169)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.handle(HttpServiceServletHandler.java:64)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.handle(HttpServiceContext.java:111)\r\n\tat org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:64)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:322)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)\r\n\r\nCaused by:\r\n\r\n<openjpa-2.0.0-beta3-r422266:926797 nonfatal general error> org.apache.openjpa.persistence.PersistenceException: There were errors initializing your configuration: <openjpa-2.0.0-beta3-r422266:926797 fatal user error> org.apache.openjpa.util.UserException: A JDBC Driver or DataSource class name must be specified in the ConnectionDriverName property.\r\n\tat org.apache.openjpa.jdbc.schema.DataSourceFactory.newDataSource(DataSourceFactory.java:76)\r\n\tat org.apache.openjpa.jdbc.conf.JDBCConfigurationImpl.createConnectionFactory(JDBCConfigurationImpl.java:836)\r\n\tat org.apache.openjpa.jdbc.conf.JDBCConfigurationImpl.getConnectionFactory(JDBCConfigurationImpl.java:724)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.openjpa.lib.conf.ConfigurationImpl.instantiateAll(ConfigurationImpl.java:294)\r\n\tat org.apache.openjpa.conf.OpenJPAConfigurationImpl.instantiateAll(OpenJPAConfigurationImpl.java:1602)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.makeReadOnly(AbstractBrokerFactory.java:634)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:193)\r\n\tat org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:156)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:213)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:57)\r\n\tat org.apache.aries.jpa.container.impl.CountingEntityManagerFactory.createEntityManager(CountingEntityManagerFactory.java:70)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAPersistenceContextRegistry.getCurrentPersistenceContext(JTAPersistenceContextRegistry.java:131)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.getPersistenceContext(JTAEntityManager.java:86)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.createQuery(JTAEntityManager.java:163)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.BlogPersistenceServiceImpl.getNoOfBlogEntries(BlogPersistenceServiceImpl.java:119)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator$1.invoke(Collaborator.java:66)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator.invoke(Collaborator.java:151)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.$BlogPersistenceServiceImpl2018048960.getNoOfBlogEntries(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.container.AbstractServiceReferenceRecipe$JdkProxyFactory$1.invoke(AbstractServiceReferenceRecipe.java:632)\r\n\tat $Proxy9.getNoOfBlogEntries(Unknown Source)\r\n\tat org.apache.aries.samples.blog.biz.BlogEntryManagerImpl.getNoOfPosts(BlogEntryManagerImpl.java:89)\r\n\tat org.apache.aries.samples.blog.biz.BloggingServiceImpl.getNoOfEntries(BloggingServiceImpl.java:98)\r\n\tat org.apache.aries.samples.blog.web.ViewBlog.doGet(ViewBlog.java:66)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.ops4j.pax.web.service.internal.WelcomeFilesFilter.doFilter(WelcomeFilesFilter.java:169)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.handle(HttpServiceServletHandler.java:64)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.handle(HttpServiceContext.java:111)\r\n\tat org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:64)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:322)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)\r\n\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:208)\r\n\tat org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:156)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:213)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:57)\r\n\tat org.apache.aries.jpa.container.impl.CountingEntityManagerFactory.createEntityManager(CountingEntityManagerFactory.java:70)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAPersistenceContextRegistry.getCurrentPersistenceContext(JTAPersistenceContextRegistry.java:131)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.getPersistenceContext(JTAEntityManager.java:86)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.createQuery(JTAEntityManager.java:163)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.BlogPersistenceServiceImpl.getNoOfBlogEntries(BlogPersistenceServiceImpl.java:119)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator$1.invoke(Collaborator.java:66)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator.invoke(Collaborator.java:151)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.$BlogPersistenceServiceImpl2018048960.getNoOfBlogEntries(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.container.AbstractServiceReferenceRecipe$JdkProxyFactory$1.invoke(AbstractServiceReferenceRecipe.java:632)\r\n\tat $Proxy9.getNoOfBlogEntries(Unknown Source)\r\n\tat org.apache.aries.samples.blog.biz.BlogEntryManagerImpl.getNoOfPosts(BlogEntryManagerImpl.java:89)\r\n\tat org.apache.aries.samples.blog.biz.BloggingServiceImpl.getNoOfEntries(BloggingServiceImpl.java:98)\r\n\tat org.apache.aries.samples.blog.web.ViewBlog.doGet(ViewBlog.java:66)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.ops4j.pax.web.service.internal.WelcomeFilesFilter.doFilter(WelcomeFilesFilter.java:169)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.handle(HttpServiceServletHandler.java:64)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.handle(HttpServiceContext.java:111)\r\n\tat org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:64)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:322)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)\r\nCaused by: java.lang.RuntimeException: There were errors initializing your configuration: <openjpa-2.0.0-beta3-r422266:926797 fatal user error> org.apache.openjpa.util.UserException: A JDBC Driver or DataSource class name must be specified in the ConnectionDriverName property.\r\n\tat org.apache.openjpa.jdbc.schema.DataSourceFactory.newDataSource(DataSourceFactory.java:76)\r\n\tat org.apache.openjpa.jdbc.conf.JDBCConfigurationImpl.createConnectionFactory(JDBCConfigurationImpl.java:836)\r\n\tat org.apache.openjpa.jdbc.conf.JDBCConfigurationImpl.getConnectionFactory(JDBCConfigurationImpl.java:724)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.openjpa.lib.conf.ConfigurationImpl.instantiateAll(ConfigurationImpl.java:294)\r\n\tat org.apache.openjpa.conf.OpenJPAConfigurationImpl.instantiateAll(OpenJPAConfigurationImpl.java:1602)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.makeReadOnly(AbstractBrokerFactory.java:634)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:193)\r\n\tat org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:156)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:213)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:57)\r\n\tat org.apache.aries.jpa.container.impl.CountingEntityManagerFactory.createEntityManager(CountingEntityManagerFactory.java:70)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAPersistenceContextRegistry.getCurrentPersistenceContext(JTAPersistenceContextRegistry.java:131)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.getPersistenceContext(JTAEntityManager.java:86)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.createQuery(JTAEntityManager.java:163)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.BlogPersistenceServiceImpl.getNoOfBlogEntries(BlogPersistenceServiceImpl.java:119)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator$1.invoke(Collaborator.java:66)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator.invoke(Collaborator.java:151)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.$BlogPersistenceServiceImpl2018048960.getNoOfBlogEntries(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.container.AbstractServiceReferenceRecipe$JdkProxyFactory$1.invoke(AbstractServiceReferenceRecipe.java:632)\r\n\tat $Proxy9.getNoOfBlogEntries(Unknown Source)\r\n\tat org.apache.aries.samples.blog.biz.BlogEntryManagerImpl.getNoOfPosts(BlogEntryManagerImpl.java:89)\r\n\tat org.apache.aries.samples.blog.biz.BloggingServiceImpl.getNoOfEntries(BloggingServiceImpl.java:98)\r\n\tat org.apache.aries.samples.blog.web.ViewBlog.doGet(ViewBlog.java:66)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.ops4j.pax.web.service.internal.WelcomeFilesFilter.doFilter(WelcomeFilesFilter.java:169)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.handle(HttpServiceServletHandler.java:64)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.handle(HttpServiceContext.java:111)\r\n\tat org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:64)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:322)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)\r\n\r\n\tat org.apache.openjpa.lib.conf.ConfigurationImpl.instantiateAll(ConfigurationImpl.java:308)\r\n\tat org.apache.openjpa.conf.OpenJPAConfigurationImpl.instantiateAll(OpenJPAConfigurationImpl.java:1602)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.makeReadOnly(AbstractBrokerFactory.java:634)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:193)\r\n\t... 45 more\r\n\r\nCaused by:\r\n\r\njava.lang.RuntimeException: There were errors initializing your configuration: <openjpa-2.0.0-beta3-r422266:926797 fatal user error> org.apache.openjpa.util.UserException: A JDBC Driver or DataSource class name must be specified in the ConnectionDriverName property.\r\n\tat org.apache.openjpa.jdbc.schema.DataSourceFactory.newDataSource(DataSourceFactory.java:76)\r\n\tat org.apache.openjpa.jdbc.conf.JDBCConfigurationImpl.createConnectionFactory(JDBCConfigurationImpl.java:836)\r\n\tat org.apache.openjpa.jdbc.conf.JDBCConfigurationImpl.getConnectionFactory(JDBCConfigurationImpl.java:724)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.openjpa.lib.conf.ConfigurationImpl.instantiateAll(ConfigurationImpl.java:294)\r\n\tat org.apache.openjpa.conf.OpenJPAConfigurationImpl.instantiateAll(OpenJPAConfigurationImpl.java:1602)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.makeReadOnly(AbstractBrokerFactory.java:634)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:193)\r\n\tat org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:156)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:213)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:57)\r\n\tat org.apache.aries.jpa.container.impl.CountingEntityManagerFactory.createEntityManager(CountingEntityManagerFactory.java:70)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAPersistenceContextRegistry.getCurrentPersistenceContext(JTAPersistenceContextRegistry.java:131)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.getPersistenceContext(JTAEntityManager.java:86)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.createQuery(JTAEntityManager.java:163)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.BlogPersistenceServiceImpl.getNoOfBlogEntries(BlogPersistenceServiceImpl.java:119)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator$1.invoke(Collaborator.java:66)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator.invoke(Collaborator.java:151)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.$BlogPersistenceServiceImpl2018048960.getNoOfBlogEntries(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.container.AbstractServiceReferenceRecipe$JdkProxyFactory$1.invoke(AbstractServiceReferenceRecipe.java:632)\r\n\tat $Proxy9.getNoOfBlogEntries(Unknown Source)\r\n\tat org.apache.aries.samples.blog.biz.BlogEntryManagerImpl.getNoOfPosts(BlogEntryManagerImpl.java:89)\r\n\tat org.apache.aries.samples.blog.biz.BloggingServiceImpl.getNoOfEntries(BloggingServiceImpl.java:98)\r\n\tat org.apache.aries.samples.blog.web.ViewBlog.doGet(ViewBlog.java:66)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.ops4j.pax.web.service.internal.WelcomeFilesFilter.doFilter(WelcomeFilesFilter.java:169)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.handle(HttpServiceServletHandler.java:64)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.handle(HttpServiceContext.java:111)\r\n\tat org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:64)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:322)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)\r\n\r\n\tat org.apache.openjpa.lib.conf.ConfigurationImpl.instantiateAll(ConfigurationImpl.java:308)\r\n\tat org.apache.openjpa.conf.OpenJPAConfigurationImpl.instantiateAll(OpenJPAConfigurationImpl.java:1602)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.makeReadOnly(AbstractBrokerFactory.java:634)\r\n\tat org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:193)\r\n\tat org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:156)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:213)\r\n\tat org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:57)\r\n\tat org.apache.aries.jpa.container.impl.CountingEntityManagerFactory.createEntityManager(CountingEntityManagerFactory.java:70)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAPersistenceContextRegistry.getCurrentPersistenceContext(JTAPersistenceContextRegistry.java:131)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.getPersistenceContext(JTAEntityManager.java:86)\r\n\tat org.apache.aries.jpa.container.context.transaction.impl.JTAEntityManager.createQuery(JTAEntityManager.java:163)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.BlogPersistenceServiceImpl.getNoOfBlogEntries(BlogPersistenceServiceImpl.java:119)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator$1.invoke(Collaborator.java:66)\r\n\tat org.apache.aries.blueprint.proxy.Collaborator.invoke(Collaborator.java:151)\r\n\tat org.apache.aries.samples.blog.persistence.jpa.$BlogPersistenceServiceImpl2018048960.getNoOfBlogEntries(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.aries.blueprint.container.AbstractServiceReferenceRecipe$JdkProxyFactory$1.invoke(AbstractServiceReferenceRecipe.java:632)\r\n\tat $Proxy9.getNoOfBlogEntries(Unknown Source)\r\n\tat org.apache.aries.samples.blog.biz.BlogEntryManagerImpl.getNoOfPosts(BlogEntryManagerImpl.java:89)\r\n\tat org.apache.aries.samples.blog.biz.BloggingServiceImpl.getNoOfEntries(BloggingServiceImpl.java:98)\r\n\tat org.apache.aries.samples.blog.web.ViewBlog.doGet(ViewBlog.java:66)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.ops4j.pax.web.service.internal.WelcomeFilesFilter.doFilter(WelcomeFilesFilter.java:169)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.handle(HttpServiceServletHandler.java:64)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.handle(HttpServiceContext.java:111)\r\n\tat org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:64)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:322)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"173030","summary":"Samples error after restart of Blog or AriesTrader sample using JPA","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbohn","name":"jbohn","emailAddress":"joe dot bohn at earthlink dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Bohn","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbohn","name":"jbohn","emailAddress":"joe dot bohn at earthlink dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Bohn","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"OS/X   10.5.8\r\n\r\njava version \"1.6.0_20\"\r\nJava(TM) SE Runtime Environment (build 1.6.0_20-b02-279-9M3165)\r\nJava HotSpot(TM) 64-Bit Server VM (build 16.3-b01-279, mixed mode)","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":8,"total":8,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471356/comment/12897792","id":"12897792","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbohn","name":"jbohn","emailAddress":"joe dot bohn at earthlink dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Bohn","active":true},"body":"It appears to me that the JTAEntityManager isn't getting initialized correctly after a restart and therefore doesn't include the necessary properties. It might be timing related or related to the order of the bundles specified in the config.ini.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbohn","name":"jbohn","emailAddress":"joe dot bohn at earthlink dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Bohn","active":true},"created":"2010-08-12T15:23:08.204+0000","updated":"2010-08-12T15:23:08.204+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471356/comment/12897797","id":"12897797","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"body":"There are a couple of reasons that you might get this error, but the first thing I'd like to check is, does it still happen with OpenJPA 2.0.0? The stack above is from beta3.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"created":"2010-08-12T15:32:18.675+0000","updated":"2010-08-12T15:32:18.675+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471356/comment/12897809","id":"12897809","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"body":"Assuming that OpenJPA 2.0.0 doesn't fix this issue, then please try this patch for the JPA container.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"created":"2010-08-12T16:02:28.498+0000","updated":"2010-08-12T16:02:28.498+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471356/comment/12897825","id":"12897825","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbohn","name":"jbohn","emailAddress":"joe dot bohn at earthlink dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Bohn","active":true},"body":"Moving to openjpa 2.0.0 didn't seem to change things.  However, I did notice this exception earlier in the log which appears to be related.   I'll give the patch you provided a try soon.\r\n\r\n[Start Level Event Dispatcher] DEBUG org.apache.aries.jpa.container - Located Persistence units: [Persistence unit blogExample in bundle org.apache.aries.samples.blog.persistence.jpa_0.2.0.incubating-SNAPSHOT]\r\n[Start Level Event Dispatcher] ERROR org.apache.aries.jpa.container - No JTA datasource could be located using the JNDI name osgi:service/javax.sql.DataSource/(osgi.jndi.service.name=jdbc/blogdb)\r\njavax.naming.NameNotFoundException: osgi:service/javax.sql.DataSource/\"(osgi.jndi.service.name=jdbc/blogdb)\"\r\n        at org.apache.aries.jndi.url.ServiceRegistryContext.lookup(ServiceRegistryContext.java:110)\r\n        at org.apache.aries.jndi.url.ServiceRegistryContext.lookup(ServiceRegistryContext.java:141)\r\n        at org.apache.aries.jndi.DelegateContext.lookup(DelegateContext.java:148)\r\n        at javax.naming.InitialContext.lookup(InitialContext.java:392)\r\n        at org.apache.aries.jpa.container.unit.impl.PersistenceUnitInfoImpl.getJtaDataSource(PersistenceUnitInfoImpl.java:101)\r\n        at org.apache.openjpa.persistence.PersistenceUnitInfoImpl.toOpenJPAProperties(PersistenceUnitInfoImpl.java:354)\r\n        at org.apache.openjpa.persistence.PersistenceProductDerivation.load(PersistenceProductDerivation.java:314)\r\n        at org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:161)\r\n        at org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:65)\r\n        at org.apache.aries.jpa.container.impl.EntityManagerFactoryManager.createEntityManagerFactories(EntityManagerFactoryManager.java:262)\r\n        at org.apache.aries.jpa.container.impl.EntityManagerFactoryManager.registerEntityManagerFactories(EntityManagerFactoryManager.java:203)\r\n        at org.apache.aries.jpa.container.impl.EntityManagerFactoryManager.bundleStateChange(EntityManagerFactoryManager.java:158)\r\n        at org.apache.aries.jpa.container.impl.PersistenceBundleManager.setupManager(PersistenceBundleManager.java:384)\r\n        at org.apache.aries.jpa.container.impl.PersistenceBundleManager.addingBundle(PersistenceBundleManager.java:148)\r\n        at org.apache.aries.util.tracker.InternalRecursiveBundleTracker.addingBundle(InternalRecursiveBundleTracker.java:70)\r\n        at org.osgi.util.tracker.BundleTracker$Tracked.customizerAdding(BundleTracker.java:440)\r\n        at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:261)\r\n        at org.osgi.util.tracker.AbstractTracked.trackInitial(AbstractTracked.java:184)\r\n        at org.osgi.util.tracker.BundleTracker.open(BundleTracker.java:159)\r\n        at org.apache.aries.util.tracker.RecursiveBundleTracker.open(RecursiveBundleTracker.java:77)\r\n        at org.apache.aries.jpa.container.impl.PersistenceBundleManager.open(PersistenceBundleManager.java:132)\r\n        at org.apache.aries.jpa.container.impl.PersistenceBundleManager.start(PersistenceBundleManager.java:619)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:782)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:773)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:754)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:370)\r\n        at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1068)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:557)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:464)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:248)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:445)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:220)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:330)\r\n[Start Level Event Dispatcher] ERROR org.apache.aries.jpa.container - No Non JTA datasource could be located using the JNDI name osgi:service/javax.sql.DataSource/(osgi.jndi.service.name=jdbc/blogdbnojta)\r\njavax.naming.NameNotFoundException: osgi:service/javax.sql.DataSource/\"(osgi.jndi.service.name=jdbc/blogdbnojta)\"\r\n        at org.apache.aries.jndi.url.ServiceRegistryContext.lookup(ServiceRegistryContext.java:110)\r\n        at org.apache.aries.jndi.url.ServiceRegistryContext.lookup(ServiceRegistryContext.java:141)\r\n        at org.apache.aries.jndi.DelegateContext.lookup(DelegateContext.java:148)\r\n        at javax.naming.InitialContext.lookup(InitialContext.java:392)\r\n        at org.apache.aries.jpa.container.unit.impl.PersistenceUnitInfoImpl.getNonJtaDataSource(PersistenceUnitInfoImpl.java:139)\r\n        at org.apache.openjpa.persistence.PersistenceUnitInfoImpl.toOpenJPAProperties(PersistenceUnitInfoImpl.java:367)\r\n        at org.apache.openjpa.persistence.PersistenceProductDerivation.load(PersistenceProductDerivation.java:314)\r\n        at org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:161)\r\n        at org.apache.openjpa.persistence.PersistenceProviderImpl.createContainerEntityManagerFactory(PersistenceProviderImpl.java:65)\r\n        at org.apache.aries.jpa.container.impl.EntityManagerFactoryManager.createEntityManagerFactories(EntityManagerFactoryManager.java:262)\r\n        at org.apache.aries.jpa.container.impl.EntityManagerFactoryManager.registerEntityManagerFactories(EntityManagerFactoryManager.java:203)\r\n        at org.apache.aries.jpa.container.impl.EntityManagerFactoryManager.bundleStateChange(EntityManagerFactoryManager.java:158)\r\n        at org.apache.aries.jpa.container.impl.PersistenceBundleManager.setupManager(PersistenceBundleManager.java:384)\r\n        at org.apache.aries.jpa.container.impl.PersistenceBundleManager.addingBundle(PersistenceBundleManager.java:148)\r\n        at org.apache.aries.util.tracker.InternalRecursiveBundleTracker.addingBundle(InternalRecursiveBundleTracker.java:70)\r\n        at org.osgi.util.tracker.BundleTracker$Tracked.customizerAdding(BundleTracker.java:440)\r\n        at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:261)\r\n        at org.osgi.util.tracker.AbstractTracked.trackInitial(AbstractTracked.java:184)\r\n        at org.osgi.util.tracker.BundleTracker.open(BundleTracker.java:159)\r\n        at org.apache.aries.util.tracker.RecursiveBundleTracker.open(RecursiveBundleTracker.java:77)\r\n        at org.apache.aries.jpa.container.impl.PersistenceBundleManager.open(PersistenceBundleManager.java:132)\r\n        at org.apache.aries.jpa.container.impl.PersistenceBundleManager.start(PersistenceBundleManager.java:619)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:782)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:773)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:754)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:370)\r\n        at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1068)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:557)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:464)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:248)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:445)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:220)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:330)\r\n[Start Level Event Dispatcher] DEBUG org.apache.aries.samples.blog.persistence.jpa - ServiceEvent REGISTERED\r\n[Start Level Event Dispatcher] INFO org.apache.aries.jpa.container - No quiesce support is available, so persistence contexts will not participate in quiesce operations\r\njava.lang.ClassNotFoundException: org.apache.aries.quiesce.participant.QuiesceParticipant\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:489)\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405)\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393)\r\n        at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:248)\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1193)\r\n        at org.apache.aries.jpa.container.impl.PersistenceBundleManager.start(PersistenceBundleManager.java:622)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:782)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:773)\r\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:754)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:370)\r\n        at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1068)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:557)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:464)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:248)\r\n        at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:445)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:220)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:330)\r\n[Start Level Event Dispatcher] DEBUG org.ops4j.pax.swissbox.extender.BundleWatcher - Scanning bundle [org.apache.aries.jpa.container]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbohn","name":"jbohn","emailAddress":"joe dot bohn at earthlink dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Bohn","active":true},"created":"2010-08-12T16:36:26.298+0000","updated":"2010-08-12T16:36:26.298+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471356/comment/12897839","id":"12897839","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbohn","name":"jbohn","emailAddress":"joe dot bohn at earthlink dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Bohn","active":true},"body":"I just tried the patch and that did seem to resolve the problem with the Blog sample.  It's a little different since the DB is in memory and not persistent.  I haven't had a chance to try the AriesTrader sample (which actually persists the data) but I suspect it will work as well.  I won't get a chance to try AriesTrader until a little while later.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbohn","name":"jbohn","emailAddress":"joe dot bohn at earthlink dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Bohn","active":true},"created":"2010-08-12T17:00:34.462+0000","updated":"2010-08-12T17:00:34.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471356/comment/12897913","id":"12897913","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbohn","name":"jbohn","emailAddress":"joe dot bohn at earthlink dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Bohn","active":true},"body":"The patch works well for the AriesTrader sample too,   I don't know if this was just a work-around or if this is intended to be a permanent fix.  Are you planning to commit the change?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbohn","name":"jbohn","emailAddress":"joe dot bohn at earthlink dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joe Bohn","active":true},"created":"2010-08-12T19:30:50.608+0000","updated":"2010-08-12T19:30:50.608+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471356/comment/12898115","id":"12898115","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"body":"The code in the patch is actually part of an enhancement that I was considering adding to the JPA container. I was holding off to avoid de-stabilizing the build before release, but this can be committed in isolation. I'll do it now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"created":"2010-08-13T07:33:24.619+0000","updated":"2010-08-13T07:33:24.619+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12471356/comment/12898117","id":"12898117","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"body":"I have applied the lazy DataSource patch, which has been shown to remedy this issue","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timothyjward","name":"timothyjward","emailAddress":"timothyjward at hotmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Timothy Ward","active":true},"created":"2010-08-13T07:38:05.230+0000","updated":"2010-08-13T07:38:05.230+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ARIES-378/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0tzbb:"}}