{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12327174","self":"https://issues.apache.org/jira/rest/api/latest/issue/12327174","key":"DERBY-790","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312251","id":"12312251","description":"Head of 10.2 branch","name":"10.2.2.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-01-04 05:56:10.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22149","customfield_12310222":"1_*:*_1_*:*_34602183862_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_20714618098","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-02-08T13:16:01.862+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-790/watchers","watchCount":1,"isWatching":false},"created":"2006-01-04T01:32:58.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"10.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2007-10-06T07:19:39.958+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11407","id":"11407","name":"JDBC"},{"self":"https://issues.apache.org/jira/rest/api/2/component/11690","id":"11690","name":"Network Client"},{"self":"https://issues.apache.org/jira/rest/api/2/component/11410","id":"11410","name":"Network Server"}],"timeoriginalestimate":null,"description":"When running RMI client tests with Derby,  many tests failed with the following message:\n\nCaused by: java.rmi.UnmarshalException: Failed to marshal error response: \n'org.apache.derby.client.am.SqlException: 'DROP TABLE' cannot be performed on \n'SDF014B7' because it does not exist.' because exception ; nested exception \nis:\n        java.io.NotSerializableException: \norg.apache.derby.client.net.NetSqlca\n        at weblogic.rjvm.ResponseImpl.unmarshalReturn(ResponseImpl.java:191)\n        at \nweblogic.rmi.internal.BasicRemoteRef.invoke(BasicRemoteRef.java:176)\n\n\nThis issue is a blocking issue for us.\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"39819","summary":"SQLException used by the networked interface to Derby is not serializable","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dcabelus","name":"dcabelus","emailAddress":"dcabelus at bea dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Cabelus","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dcabelus","name":"dcabelus","emailAddress":"dcabelus at bea dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Cabelus","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Windows XP; WebLogic Server 9.0","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":22,"total":22,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12361673","id":"12361673","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"body":"*Neither* of org.apache.derby.client.am.Sqlca (which NetSqlca extends) and org.apache.derby.client.net.NetSqlca are serializable - Since org.apache.derby.client.am.Sqlca is a member of org.apache.derby.client.am.SqlException, during serialization, the java.io.NotSerializableException gets raised...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"created":"2006-01-04T05:56:10.000+0000","updated":"2006-01-04T05:56:10.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12363502","id":"12363502","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I was wondering if there was an ETA for the fix for this  issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-01-21T13:27:05.000+0000","updated":"2006-01-21T13:27:05.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12419823","id":"12419823","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"Francois, you are currently assigned to this issue. Do you think you will have time to complete it for 10.2?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2006-07-08T10:30:21.000+0000","updated":"2006-07-08T10:30:21.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12425535","id":"12425535","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I think this would be a good 10.2 fix candidate but did not change it to 10.2 because it is already assigned.  Francois,  I was wondering if you were actively working on this issue? If not it might be good to unassign yourself so that someone else can pick it up.\r\n\r\nI think it is a JDBC compliance issue  and while it does have only one vote, we have had users asking about it on the list.\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-08-03T14:48:31.000+0000","updated":"2006-08-03T14:48:31.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12427253","id":"12427253","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"body":"Sorry for missing the queries earlier - missed them in my emails somehow.\r\n\r\nI have a fix for this issue. I have added some tests in SqlExceptionTest.java as well.\r\n\r\nI'm going to re-verify the fix and post some patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"created":"2006-08-10T15:45:13.000+0000","updated":"2006-08-10T15:45:13.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12434688","id":"12434688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Hi Francois,\r\nDid your re-verification show any problems? Do you think the fix will make it into 10.2?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2006-09-14T14:04:17.000+0000","updated":"2006-09-14T14:04:17.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12434700","id":"12434700","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"body":"  > Did your re-verification show any problems? \r\n\r\nI had expanded the current SqlExceptionTest.java but realized the added logic was not proper in order to verify the fix is working. I added a test to SqlExceptionTest.java which is aimed at running in a true client/server environment and this is what I need to verify to ensure the fix is tested in a proper manner.\r\n\r\n  > Do you think the fix will make it into 10.2?\r\n\r\nYes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"created":"2006-09-14T14:48:38.000+0000","updated":"2006-09-14T14:48:38.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12435853","id":"12435853","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Moving to 10.2.2.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2006-09-19T15:06:45.000+0000","updated":"2006-09-19T15:06:45.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12437965","id":"12437965","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"body":"I have attached some patch to address DERBY-790.\r\n\r\nI have added a new test as part of derbynet/SqlExceptionTest.java (junit test) and made sure it ran fine under the derbynet and derbynetclient frameworks - I have also made sure that the issue reported by DERBY-790 is indeed fixed by the change reflected in - This fix is much simpler than it originally was and thanks to the changes into client/am/SqlException.java which recursively create a SQLException object out of a SqlException one...The risk of this fix is minimal.\r\n\r\nBasically, I have made Sqlca SqlException attribute a transient one as it is mostly and only required when the SQLException gets created through recursion before returning it to the client - Sqlca does not need to be serialized, once the SQLException has been constructed out of getSQLException() in SqlException.java; hence a client can go ahead and serialize it.\r\n\r\nThe cause of the NotSeriazableException was due to the fact that we stick the SqlException object in the init 'cause' of the SQLException (Throwable), and during serialization, the exception would be raised against Sqlca.\r\n\r\nCheers. --francois","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"created":"2006-09-26T23:00:17.000+0000","updated":"2006-09-26T23:00:17.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12438128","id":"12438128","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Hi Francois,\r\n\r\nI think the patch might be a little too simple. When sqlca_ is made\r\ntransient (and thereby null after deserialization), getMessage() could\r\nmake the message text grow. For instance, I tried to insert two rows\r\nwith identical primary keys into a table with addBatch() and\r\nexecuteBatch(). When I extracted the SqlException from the\r\nBatchUpdateException, serialized it and deserialized it, getMessage()\r\non the deserialized exception returned\r\n\r\nError for batch element #1: Error for batch element #1: The statement was aborted because it would have caused a duplicate key value in a unique or primary key constraint or unique index identified by 'SQL060927031919790' defined on 'T'.\r\n\r\nCalling getMessage() a second time gave\r\n\r\nError for batch element #1: Error for batch element #1: Error for batch element #1: Error for batch element #1: The statement was aborted because it would have caused a duplicate key value in a unique or primary key constraint or unique index identified by 'SQL060927031919790' defined on 'T'.\r\n\r\nEach time getMessage() is called, \"Error for batch element #1: \" is\r\nadded to the message string.\r\n\r\nA couple of minor comments/suggestions to the JUnit test:\r\n\r\n  - testSerializedException() should call fail() after\r\n    executeQuery(). Otherwise, the test succeeds if the query\r\n    succeeds.\r\n\r\n  - recreateSQLException() could throw Exception instead of catching\r\n    all exceptions and calling fail(). This would make the code\r\n    simpler, and it would preserve stack trace and nested exceptions\r\n    if an unexpected error occurred.\r\n\r\n  - maybe assertThrowableEquals() could be placed in BaseTestCase\r\n    instead of BaseJDBCTestCase? It is not tied to JDBC as far as I\r\n    can see.\r\n\r\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2006-09-27T13:53:17.000+0000","updated":"2006-09-27T13:53:17.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12440629","id":"12440629","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"body":"Knut,\r\n\r\nThanks for the review on this patch.\r\n\r\nI've incorporated all the suggestions and increased the amount of test logic as far as comparing the original exception with the serialized one.\r\n\r\nAs part of the test logic in SqlExceptionTest.java, I'm now also using a batch to execute several batch elements and hence generate a few chained / nested exceptions.\r\n\r\nI've tested under 1.3, 1.4, 1.5 & 1.6 Java runtime environments as well as under DerbyNetClient and DerbyNet frameworks as well as well as no framework.\r\n\r\nI have tested and called getMessage() several times for _each_ of the serialized exceptions generated from the BatchUpdateException and I'm not getting the behavior you described - I get the exact same message than the original exception with no added string. The comparison of both the original and the serialized exceptions is thoroughly tested in BaseJDBCTestCase.java:assertSQLExceptionEquals() and that includes any chained exceptions.\r\n\r\nHence, I'm not sure how you got into the case you described and I would appreciate if you could post the logic for the test you ran as well as your java and platform environment.\r\n\r\nIn the meantime, I have attached the new changes.\r\n\r\nThanks,","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"created":"2006-10-07T00:28:44.000+0000","updated":"2006-10-07T00:28:44.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12440885","id":"12440885","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks, the test changes look great.\r\n\r\nThe attached repro (Serialize.java) shows the problem with getMessage(). Note that I used getCause() to get the actual derby.client.am.SqlException object (which is not a java.sql.SQLException), whereas your tests use getNextException() which returns a java.sql.SQLException. I ran the repro with Sun J2SE 5.0 on Solaris 10 and got the following output:\r\n\r\n*** Message from original exception ***\r\n\r\nError for batch element #1: The statement was aborted because it would have caused a duplicate key value in a unique or primary key constraint or unique index identified by 'SQL061009023735980' defined on 'T'.\r\n\r\n*** Message from deserialized exception ***\r\n\r\nError for batch element #1: Error for batch element #1: The statement was aborted because it would have caused a duplicate key value in a unique or primary key constraint or unique index identified by 'SQL061009023735980' defined on 'T'.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2006-10-09T13:07:19.000+0000","updated":"2006-10-09T13:07:19.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12457918","id":"12457918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Unknown release vehicle.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2006-12-12T22:27:00.000+0000","updated":"2006-12-12T22:27:00.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12469917","id":"12469917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"body":"Comments for this patch have been taken care of - The reproducible test case (Serialize.java) is also passing. New tests that got added are also passing.\r\n\r\nIf someone could test a full and partial build with the changes I would appreciate - at some point, it uses to compile fine with a full clean build and then I saw some class dependencies build issue on a partial build - I can no longer reproduce it but I'd like to make sure there is no build issue.\r\n\r\nThanks in advance,","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"created":"2007-02-03T00:25:43.375+0000","updated":"2007-02-03T00:25:43.375+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12470077","id":"12470077","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I don't see the build issue if I do an \"ant clean\" after applying your patch. If I don't do \"ant clean\", or if I run \"touch java/testing/org/apache/derbyTesting/junit/BaseJDBCTestCase.java\" before I run \"ant all\", I see this failure:\r\n\r\njunitcomponents:\r\n    [javac] Compiling 2 source files to /export/home/kah/derby/trunk/classes\r\n    [javac] /export/home/kah/derby/trunk/java/testing/org/apache/derbyTesting/junit/BaseJDBCTestCase.java:727: cannot find symbol\r\n    [javac] symbol  : method getCause()\r\n    [javac] location: class java.sql.SQLException\r\n    [javac]             if (se1.getCause() != (Throwable) null)\r\n    [javac]                    ^\r\n    [javac] /export/home/kah/derby/trunk/java/testing/org/apache/derbyTesting/junit/BaseJDBCTestCase.java:728: cannot find symbol\r\n    [javac] symbol  : method getCause()\r\n    [javac] location: class java.sql.SQLException\r\n    [javac]                 assertThrowableEquals(se1.getCause(), se2.getCause());\r\n    [javac]                                          ^\r\n    [javac] /export/home/kah/derby/trunk/java/testing/org/apache/derbyTesting/junit/BaseJDBCTestCase.java:728: cannot find symbol\r\n    [javac] symbol  : method getCause()\r\n    [javac] location: class java.sql.SQLException\r\n    [javac]                 assertThrowableEquals(se1.getCause(), se2.getCause());\r\n    [javac]                                                          ^\r\n    [javac] /export/home/kah/derby/trunk/java/testing/org/apache/derbyTesting/junit/BaseJDBCTestCase.java:730: cannot find symbol\r\n    [javac] symbol  : method getCause()\r\n    [javac] location: class java.sql.SQLException\r\n    [javac]                 assertNull(se2.getCause());\r\n    [javac]                               ^\r\n    [javac] 4 errors\r\n\r\nBUILD FAILED\r\n\r\nI think this is because of a problem with the dependencies in the build scripts. build.xml in the junit directory specifies that BaseJDBCTestCase should be compiled against the 1.3 libraries, and that is what happens if BaseJDBCTestCase is the only file that has been modified. However, it seems like it is compiled against the 1.4 libraries after a clean/clobber.\r\n\r\nBaseJDBCTestCase.assertSQLState() uses reflection to invoke Throwable.initCause(). I guess that could also be done for getCause() in assertSQLExceptionEquals() to avoid the problem.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-02-04T19:37:13.201+0000","updated":"2007-02-04T19:37:13.201+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12470079","id":"12470079","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Apart from the build issue, I think the patch looks good. My only minor comment is that the println statement in BaseTestCase which is commented out could be removed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-02-04T19:43:14.720+0000","updated":"2007-02-04T19:43:14.720+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12470837","id":"12470837","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"body":"Thanks for the great review Knut.\r\n\r\nI've removed the println() tracing statement and I'm now using reflection - I think this is fine as this is within some test method and as you mentioned, it is already used in some other method within that class.\r\n\r\nAm running DerbyAll again and in the meantime I'm posting the new changes.\r\n\r\nCheers","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"created":"2007-02-07T08:04:03.622+0000","updated":"2007-02-07T08:04:03.622+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12471048","id":"12471048","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks Francois! I have committed v5 to trunk with revision 504630. Should the fix be ported to 10.2 as well?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-02-07T17:57:13.307+0000","updated":"2007-02-07T17:57:13.307+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12471080","id":"12471080","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"body":"Thanks for the commit and great help Knut.\r\n\r\nYes I think it should be ported to 10.2 branch as well - This is a blocking issue for frameworks that need to do JDBC objects serialization  (i.e. via RMI). Changes are fairly low-risk as well. +1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forsini","name":"forsini","emailAddress":"francois dot orsini at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Francois Orsini","active":true},"created":"2007-02-07T19:49:28.709+0000","updated":"2007-02-07T19:49:28.709+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12471244","id":"12471244","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"There was a conflict in SqlExceptionTest so the fix couldn't be merged automatically, but the conflict was easy to resolve. The attached patch applies cleanly on 10.2. I'm running derbyall on it now and will commit if there are no problems.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-02-08T09:22:30.830+0000","updated":"2007-02-08T09:22:30.830+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12471324","id":"12471324","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Committed fix to 10.2 with revision 504880.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-02-08T13:16:01.819+0000","updated":"2007-02-08T13:16:01.819+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12327174/comment/12532834","id":"12532834","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Been resolved since Feb, and reporter hasn't closed it, so closing. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-10-06T07:19:39.943+0000","updated":"2007-10-06T07:19:39.943+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-790/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i076hz:"}}