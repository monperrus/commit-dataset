{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12349434","self":"https://issues.apache.org/jira/rest/api/latest/issue/12349434","key":"DERBY-1828","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2007-04-18 12:21:10.981","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22733","customfield_12310222":"3_*:*_1_*:*_1402246612_*|*_1_*:*_1_*:*_20086912236_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_24276670015","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-05-14T14:12:24.848+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1828/watchers","watchCount":0,"isWatching":false},"created":"2006-09-07T20:59:46.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"6.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12313327","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12313327","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12349415","key":"DERBY-1825","self":"https://issues.apache.org/jira/rest/api/2/issue/12349415","fields":{"summary":"Errors 2850A,2850G,28508 are similar - can be combined into a single message.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-06-30T16:12:54.362+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11407","id":"11407","name":"JDBC"}],"timeoriginalestimate":null,"description":"The SQL standard says that SQL State '42' is for \"syntax error or access\nrule violation\" (section 23.1).\n\nThere is a question of what JDBC 4.0 exception should be thrown for a access rule violation,\nJDBC 4.0 maps '42' to SQLSyntaxErrorException which seems wrong for an access rule.\n\nMessage thread:\n\nhttp://mail-archives.apache.org/mod_mbox/db-derby-dev/200609.mbox/%3c45004A04.5080002@apache.org%3e","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38741","summary":"Access rule violations should use a SQL state starting with '42' according to the SQL standard.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"subtasks":[{"id":"12368979","key":"DERBY-2633","self":"https://issues.apache.org/jira/rest/api/2/issue/12368979","fields":{"summary":"Authorization error codes have been moved. Translated messages must be moved accordingly.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png","name":"Sub-task","subtask":true}}}],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10101","value":"Release Note Needed","id":"10101"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":20,"total":20,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12489708","id":"12489708","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"See previous discussion: http://mail-archives.apache.org/mod_mbox/db-derby-dev/200609.mbox/%3c45004A04.5080002@apache.org%3e\r\n\r\nThere seems to be an agreement that access rule violations should have state '42', and that SQLSyntaxErrorException is the correct exception for these. Hence, I'll move the following errors to range 4250x (see SQLStates):\r\n\r\nString AUTH_NO_TABLE_PERMISSION                                    = \"28506\";\r\nString AUTH_NO_TABLE_PERMISSION_FOR_GRANT                          = \"28507\";\r\nString AUTH_NO_COLUMN_PERMISSION                                   = \"28508\";\r\nString AUTH_NO_COLUMN_PERMISSION_FOR_GRANT                         = \"28509\";\r\nString AUTH_NO_EXECUTE_PERMISSION                                  = \"2850A\";\r\nString AUTH_NO_EXECUTE_PERMISSION_FOR_GRANT                        = \"2850B\";\r\nString AUTH_NOT_OWNER                                              = \"2850C\";\r\nString AUTH_NO_ACCESS_NOT_OWNER                                    = \"2850D\";\r\nString AUTH_NOT_DATABASE_OWNER                                     = \"2850E\";\r\nString AUTH_GRANT_REVOKE_NOT_ALLOWED                               = \"2850F\";\r\nString AUTH_NO_OBJECT_PERMISSION                                   = \"2850G\";\r\nString AUTH_SHUTDOWN_NOT_DB_OWNER                                  = \"2850H.C\";\r\nString AUTH_ENCRYPT_NOT_DB_OWNER                                   = \"2850I.C\";\r\nString AUTH_HARD_UPGRADE_NOT_DB_OWNER                              = \"2850J.C\";\r\n\r\nI am not sure if the following errors should be moved, and will not move them unless I'm told otherwise.\r\n\r\nString AUTH_DATABASE_CONNECTION_REFUSED                            = \"04501.C\";\r\nString AUTH_SET_CONNECTION_READ_ONLY_IN_ACTIVE_XACT                = \"25501\";\r\nString AUTH_WRITE_WITH_READ_ONLY_CONNECTION                        = \"25502\";\r\nString AUTH_DDL_WITH_READ_ONLY_CONNECTION                          = \"25503\";\r\nString AUTH_CANNOT_SET_READ_WRITE                                  = \"25505\";\r\nString AUTH_INVALID_AUTHORIZATION_PROPERTY                         = \"28501\";\r\nString AUTH_INVALID_USER_NAME                                      = \"28502.C\";\r\nString AUTH_USER_IN_READ_AND_WRITE_LISTS                           = \"28503\";\r\nString AUTH_DUPLICATE_USERS                                        = \"28504\";\r\nString AUTH_INTERNAL_BAD_UUID                                      = \"28505\";\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-04-18T12:21:10.981+0000","updated":"2007-04-18T12:21:10.981+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12489912","id":"12489912","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"The class \"28\" seems correct for failure to establish a connection\r\nwhen checking credentials, cf. its usage in section 17.1 Connect\r\nstatement (SQL 2003). Since 2850H, 2850I and 2850J are thrown when\r\nchecking powers when connecting (albeit in a special mode), I think\r\nthey are correct to use the 28 class.\r\n\r\nI notice that in the plain connect case of connect failure due to\r\ncredentials check, class \"08\" is used (LOGIN_FAILED \"08004\"). It seems\r\nto me this should be a \"28\" class error as well; I read the \"08\" class\r\n\"connection exception\" as being for other failures related to a\r\nconnection (JDBC NonTransientConnectionException or\r\nSQLTransientConnectionException).  The failed login due to credentials\r\nchecking seems to belong in the \"JDBC N/A SQLInvalidAuthorizationException\"\r\n subclass.\r\n\r\nWhy \"04\" is used for AUTH_DATABASE_CONNECTION_REFUSED, I can't figure\r\nout. Maybe someone can shed light on this. This also seems to be a 28\r\nclass error to me.\r\n\r\nChanging 08004 seems risky though, it would break many existing apps...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-04-19T00:50:33.654+0000","updated":"2007-04-19T00:50:33.654+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12490130","id":"12490130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Dag:\r\n\r\n> The class \"28\" seems correct for failure to establish a connection\r\n> when checking credentials, cf. its usage in section 17.1 Connect\r\n> statement (SQL 2003). \r\n\r\nWhy?\r\n\r\nThe only use for class 28 is for \"invalid authorization specification\", all the uses of it in the SQL specification are for the case when the *format* of the user identifier is invalid, not for when the authorization fails.\r\n\r\nI did raise this issue to the expert group for JDBC 4, I never understood why class 28 was special cased in the spec.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-04-19T18:29:44.022+0000","updated":"2007-04-19T18:29:44.022+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12490215","id":"12490215","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Right, I think this paragraph of section 17.1 threw me off:\r\n:\r\n> 5) If the value of <connection user name>does not conform to the \r\n>     implementation-defined restrictions, then an exception condition is \r\n>    raised:invalid authorization specification .\r\n\r\nbut this paragraph is more relevant to credentials failure:\r\n\r\n> 11) If the SQL-server rejects the establishment of the SQL-connection,then \r\n>       an exception condition is raised: connection exception  SQL-server \r\n>       rejected establishment of SQL-connection .\r\n\r\nso \"connection exception\"  (08) is correct. Sorry for the confusion.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-04-20T01:44:28.349+0000","updated":"2007-04-20T01:44:28.349+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12492651","id":"12492651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"I have written a patch that moves \r\n\r\nAUTH_NO_TABLE_PERMISSION = \"28506\";\r\nAUTH_NO_TABLE_PERMISSION_FOR_GRANT = \"28507\";\r\nAUTH_NO_COLUMN_PERMISSION = \"28508\";\r\nAUTH_NO_COLUMN_PERMISSION_FOR_GRANT = \"28509\";\r\nAUTH_NO_EXECUTE_PERMISSION = \"2850A\";\r\nAUTH_NO_EXECUTE_PERMISSION_FOR_GRANT = \"2850B\";\r\nAUTH_NOT_OWNER = \"2850C\";\r\nAUTH_NO_ACCESS_NOT_OWNER = \"2850D\";\r\nAUTH_NOT_DATABASE_OWNER = \"2850E\";\r\nAUTH_GRANT_REVOKE_NOT_ALLOWED = \"2850F\";\r\nAUTH_NO_OBJECT_PERMISSION = \"2850G\"; \r\n\r\nto the 4250x range. This includes modifying a great deal of test cases. The patch runs fine with allsuites, but fails one derbyall test: \r\n\r\nderbyall/storeall/storeall.fail:store/bootLock.java\r\n\r\n********* Diff file derbyall/storeall/storemore/bootLock.diff\r\n*** Start: bootLock jdk1.5.0_06 storeall:storemore 2007-04-30 09:26:29 ***\r\n2,4d1\r\n< expected exception\r\n< SQLSTATE(XJ040):\r\n< SQLSTATE(XSDB6):\r\nTest Failed.\r\n*** End:   bootLock jdk1.5.0_06 storeall:storemore 2007-04-30 09:27:07 ***\r\n\r\nThis test fails \"randomly\" here (on solaris 10, NFS, jdk 1.5) even on clean sandboxes, and I am pretty sure it is not related to the patch. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-04-30T10:47:28.554+0000","updated":"2007-04-30T10:47:28.554+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12492653","id":"12492653","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"The patch (1) partially solves the issue. More error codes with state '28' will most likely have to be moved.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-04-30T10:55:36.625+0000","updated":"2007-04-30T10:55:36.625+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12492683","id":"12492683","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"I have two questions regarding this issue:\r\n\r\nQ1) I need your opinion on whether or not this issue can be fixed before the next major release. I.e., may new error codes cause problems for existing applications?\r\n\r\nQ2) Second, what would be the correct SQL states for the messages currently found under the \"28\" header in SQLState? My suggestions are:\r\n\r\n\r\n***\r\nCurrent in SQLState: AUTH_DATABASE_CONNECTION_REFUSED = \"04501.C\";\r\n\r\nmessages.properties reveals this:\r\n-----8<------\r\n04501.C=Database connection refused.\r\n...\r\n08004=Connection refused : {0}\r\n08004.C.1=Connection authentication failure occurred.  Reason: {0}.\r\n08004.C.2=The connection was refused because the database {0} was not found.\r\n----->8------\r\n\r\nHence, it seems clear that 04501 is a variant of 08004, and should move accordingly. 08004 is \"SQL-server rejected establishment of SQL-connection\" according to SQL2003/SQL1999, which sounds reasonable.\r\n\r\n***\r\nCurrently in SQLState:\r\nAUTH_INVALID_USER_NAME                                      = \"28502.C\";\r\nThe message for this is \"The user name '{0}' is not valid.\" Another case of 08004? \r\n\r\n***\r\nCurrent in SQLStates:\r\n-----8<------\r\nAUTH_INVALID_AUTHORIZATION_PROPERTY                         = \"28501\";\r\nAUTH_USER_IN_READ_AND_WRITE_LISTS                           = \"28503\";\r\nAUTH_DUPLICATE_USERS                                        = \"28504\";\r\nAUTH_INTERNAL_BAD_UUID                                      = \"28505\";\r\n----->8------ \r\nState 42? \r\n\r\n\r\n***\r\nCurrent in SQLStates:\r\n-----8<------\r\nAUTH_NO_PERMISSION                                          = \"28506\";\r\nAUTH_NO_PERMISSION_FOR_GRANT                                = \"28507\";\r\nAUTH_NO_COLUMN_PERMISSION                                   = \"28508\";\r\nAUTH_NO_COLUMN_PERMISSION_FOR_GRANT                         = \"28509\";\r\nAUTH_NOT_OWNER                                              = \"2850C\";\r\nAUTH_NO_ACCESS_NOT_OWNER                                    = \"2850D\";\r\nAUTH_NOT_DATABASE_OWNER                                     = \"2850E\";\r\nAUTH_GRANT_REVOKE_NOT_ALLOWED                               = \"2850F\";\r\n----->8------ \r\nAs already pointed out in this issue, these should move to '42' - syntax error or *access rule violation*. This is what patch (1) does.\r\n\r\n***\r\nCurrent in SQLStates:\r\n-----8<------\r\nAUTH_SHUTDOWN_NOT_DB_OWNER                                  = \"2850H.C\";\r\nAUTH_ENCRYPT_NOT_DB_OWNER                                   = \"2850I.C\";\r\nAUTH_HARD_UPGRADE_NOT_DB_OWNER                              = \"2850J.C\";\r\n----->8------ \r\nMay be either state '08' or '42'. They are violations of access rules (thrown when non-db owner tries to shutdown/encrypt/... the db), and therefore fit into state 42. However, the commands are requested through connect, and therefore also fit into 08 CONNECTION EXCEPTION. Since they are thrown at connect, I would suggest 08.\r\n\r\nIn addition there are some '25' error codes, but these are not discussed for now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-04-30T15:12:33.834+0000","updated":"2007-04-30T15:12:33.834+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12492687","id":"12492687","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Just on this one:\r\n\r\n> Currently in SQLState:\r\n> AUTH_INVALID_USER_NAME                                      = \"28502.C\";\r\n> The message for this is \"The user name '{0}' is not valid.\" Another case of 08004? \r\n\r\nI think this remains as 28xxx, it's for the format of the user identifier being invalid, not that the user is not a valid user in the set of authenticated users.\r\n\r\nFor an authentication failure Derby reports just that authentication failed. Systems should not report what specifically failed in an authentication\r\ncheck, e.g. password is incorrect or user not known by the system. That provides more information for someone trying to break into the system.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-04-30T15:30:38.015+0000","updated":"2007-04-30T15:30:38.015+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12493016","id":"12493016","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"Thank you for the comment, Dan. I see your point regarding 28502, and hence leave it where it is. I will continue with this patch as described, but give the community some days to respond to whether or not it can be included in this release. \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-05-02T06:00:12.676+0000","updated":"2007-05-02T06:00:12.676+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12493659","id":"12493659","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"Patch (2) supersedes (1). The patch moves all 2850x error codes except 28502 to 4250x or 08004 (if the exception is thrown during connect). 04501 is also moved to 08004. A whole lot of tests have been modified to expect the new codes.\r\n\r\nThe patch passes allsuites, but fails bootLock in derbyall (which is normal here. Will have to fix it...).\r\n\r\nMyrna (in \"opinions please on possible existing app impact of DERBY-1828\"): \r\n> Hi,\r\n\r\n> In DERBY-1828, Jørgen proposes to adjust some SQLStates in the\r\n> authorization area.\r\n> I'd like the community's input on the release-related question:\r\n\r\n> Jørgen asks:\r\n> \"Q1) I need your opinion on whether or not this issue can be fixed\r\n> before the next major release. I.e., may new error codes cause\r\n> problems for existing applications?\"\r\n\r\nThanks for addressing this, Myrna. If there are no objections before Wed May 9, 2:00 PM CET, I will mark \"Patch available\" for patch (2).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-05-04T12:31:09.260+0000","updated":"2007-05-04T12:31:09.260+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12494484","id":"12494484","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"The patch (2indent) fixes indentation issues; the stat file is unchanged.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-05-09T12:04:34.833+0000","updated":"2007-05-09T12:04:34.833+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12494498","id":"12494498","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"I am uncertain about this release note, so it would be really great if someone reviewed it.\r\n\r\nRelease note attempt:\r\n---------------------------------------\r\nSummary of Change\r\nMost authorization failures have new error codes.\r\n\r\nSymptoms Seen by Applications Affected by Change\r\nIn the previous release, authorization failures had error codes 2850x and 04501. In this release, most of these errors have new error codes. The code changes are: 04501, 2850H, 2850I and 2850J are now 08004. 28506-2850G are now 42500-4250A, 28501 is now 4250B, 28503-28505 are now 4250C-4250E. Only the error codes have been changed; error messages are not affected.\r\n\r\nIncompatibilities with Previous Release\r\nApplications that rely on authorization error codes may fail.\r\n\r\nRationale for Change\r\nThe old error codes violated the SQL standard. The new error codes are correct.\r\n\r\nApplication Changes Required\r\nApplications that rely on authorization error codes must be recoded to expect the new codes. \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-05-09T13:42:43.900+0000","updated":"2007-05-09T13:42:43.900+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12494526","id":"12494526","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"\r\nHi Jørgen,\r\n\r\nI think the Release Note looks good to me, thx!\r\n\r\nI glanced over the actual patch and have a comment, though...\r\nI see you have not modified any of the translated messages.\r\nIt looks like a tremendous amount of work, but either the same thing\r\nas happens for English should happen for all other translated\r\nmessages, or the affected messages in the other languages should be\r\nremoved altogether...\r\n\r\nMyrna\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2007-05-09T16:55:15.953+0000","updated":"2007-05-09T16:55:15.953+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12494527","id":"12494527","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Forgot to say: modifying the translated message files can be done as a follow-up patch or subtask.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2007-05-09T16:56:56.350+0000","updated":"2007-05-09T16:56:56.350+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12494647","id":"12494647","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"Thank you for reviewing the patch, Myrna. \r\n\r\nI'll make a subtask and start working on this straight away.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-05-10T06:40:49.591+0000","updated":"2007-05-10T06:40:49.591+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12494967","id":"12494967","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"Reviewer/committer: Consider reviewing the patch (DERBY-1828-and-2633-1) in DERBY-2633 instead of this one. It contains patch 2indent and the patch for the subtask.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-05-11T06:18:41.680+0000","updated":"2007-05-11T06:18:41.680+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12495611","id":"12495611","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Committed revision 537850.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-05-14T14:12:24.836+0000","updated":"2007-05-14T14:12:24.836+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12495619","id":"12495619","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"Knut,\r\nThanks for committing the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2007-05-14T14:21:49.540+0000","updated":"2007-05-14T14:21:49.540+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12497083","id":"12497083","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"It looks like the following checkin is causing DERBY-2647:\r\nr537850 | kahatlen | 2007-05-14 07:09:51 -0700 (Mon, 14 May 2007) | 7 lines\r\n\r\nDERBY-1828: Access rule violations should use a SQL state starting\r\nwith '42' according to the SQL standard.\r\nDERBY-2633: Authorization error codes have been moved. Translated\r\nmessages must be moved accordingly.\r\n\r\nPatch contributed by J_rgen L_land.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2007-05-18T23:23:34.428+0000","updated":"2007-05-18T23:23:34.428+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12349434/comment/12570218","id":"12570218","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"body":"Closing issue as it has been tagged as fixed since May 2007","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jorgenlo","name":"jorgenlo","emailAddress":"jorgen dot loland at sun dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jørgen Løland","active":true},"created":"2008-02-19T13:43:34.851+0000","updated":"2008-02-19T13:43:34.851+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1828/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06zuf:"}}