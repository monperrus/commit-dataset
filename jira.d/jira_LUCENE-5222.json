{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12669101","self":"https://issues.apache.org/jira/rest/api/latest/issue/12669101","key":"LUCENE-5222","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324999","id":"12324999","description":"Major release after 4.5","name":"4.6","archived":false,"released":true,"releaseDate":"2013-11-24"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12321663","id":"12321663","description":"Current trunk","name":"Trunk","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-09-17 20:30:56.373","customfield_12312323":null,"customfield_12310420":"349033","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_91221347_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2013-09-18T21:36:56.245+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-5222/watchers","watchCount":3,"isWatching":false},"created":"2013-09-17T20:16:34.922+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-09-19T16:38:02.511+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[],"timeoriginalestimate":null,"description":"Jenkins picked this up.  Repeat with:\r\n\r\n{code}\r\nant test  -Dtestcase=TestExpressionSorts -Dtests.method=testQueries -Dtests.seed=115AD00ED89D9F7B -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=no_NO -Dtests.timezone=America/Nassau -Dtests.file.encoding=US-ASCII\r\n{code}\r\n\r\nIt appears to have to do with scoring, as removing the score sort from the original sorts causes the tests to pass.  If you remove the possible discrepancy between doDocScores and docMaxScore params to searcher.search, then the test gets farther before failing.","customfield_10010":null,"timetracking":{},"customfield_12310120":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10121","value":"New","id":"10121"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"349331","summary":"TestExpressionSorts fails sometimes when using expression returning score","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rjernst","name":"rjernst","emailAddress":"ryan at iernst dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rjernst&avatarId=19276","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rjernst&avatarId=19276","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rjernst&avatarId=19276","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rjernst&avatarId=19276"},"displayName":"Ryan Ernst","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rjernst","name":"rjernst","emailAddress":"ryan at iernst dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rjernst&avatarId=19276","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rjernst&avatarId=19276","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rjernst&avatarId=19276","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rjernst&avatarId=19276"},"displayName":"Ryan Ernst","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":12,"total":12,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13769902","id":"13769902","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Note this only happens with the paging collector... searchAfter.\r\nIf u change the test to page the old fashioned way its fine.\r\n\r\nI suspect a bug in topfieldcollector.pagingfieldcollector. eg when there are multiple sorts and tiebreaks or something. I don't even think testsearchafter tests the case of multiple sorts this well.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2013-09-17T20:30:56.373+0000","updated":"2013-09-17T20:30:56.373+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13770289","id":"13770289","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rjernst","name":"rjernst","emailAddress":"ryan at iernst dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rjernst&avatarId=19276","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rjernst&avatarId=19276","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rjernst&avatarId=19276","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rjernst&avatarId=19276"},"displayName":"Ryan Ernst","active":true},"body":"A couple things I found:\r\n* scorer.score() in ScoreFunctionValues is sometimes returning NaN\r\n* If I add the last two boolean values explicitly as true (doDocScores and doMaxScore) to both search() and searchAfter() calls, the test succeeds","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rjernst","name":"rjernst","emailAddress":"ryan at iernst dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rjernst&avatarId=19276","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rjernst&avatarId=19276","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rjernst&avatarId=19276","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rjernst&avatarId=19276"},"displayName":"Ryan Ernst","active":true},"created":"2013-09-18T01:29:02.328+0000","updated":"2013-09-18T01:29:02.328+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13770799","id":"13770799","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Its not returning NaN, when you say 'doDocScores', indexsearcher confusingly fills a NaN.\r\n\r\nI think we have way too many booleans, optimizations, and specializations here... \r\n\r\nI dont think anyone tests this paging with multiple sorts... ill commit something to TestSearchAfter to try to break these collectors.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2013-09-18T14:13:47.803+0000","updated":"2013-09-18T14:13:47.803+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13770831","id":"13770831","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"{quote}\r\nIf I add the last two boolean values explicitly as true (doDocScores and doMaxScore) to both search() and searchAfter() calls, the test succeeds\r\n{quote}\r\n\r\nIndeed: I just tested this and it works (see patch below)\r\n\r\nAdditionally i noticed TestSearchAfter in core somehow \"hides the bug\" with this stuff in its test:\r\n{noformat}\r\nif (sort == Sort.RELEVANCE) {\r\n         paged = searcher.searchAfter(lastBottom, query, filter, pageSize, sort, true, doMaxScore);\r\n{noformat}\r\n\r\nSo there is a bug here in searchAfter/TopFieldCollector, and i'm also unhappy TestSearchAfter is not testing multiple sorts!\r\n\r\n\r\n{noformat}\r\nIndex: src/test/org/apache/lucene/expressions/TestExpressionSorts.java\r\n===================================================================\r\n--- src/test/org/apache/lucene/expressions/TestExpressionSorts.java\t(revision 1524082)\r\n+++ src/test/org/apache/lucene/expressions/TestExpressionSorts.java\t(working copy)\r\n@@ -131,7 +131,10 @@\r\n \r\n   void assertQuery(Query query, Filter filter, Sort sort) throws Exception {\r\n     int size = _TestUtil.nextInt(random(), 1, searcher.getIndexReader().maxDoc()/5);\r\n-    TopDocs expected = searcher.search(query, filter, size, sort, random().nextBoolean(), random().nextBoolean());\r\n+    // consume randomness\r\n+    random().nextBoolean();\r\n+    random().nextBoolean();\r\n+    TopDocs expected = searcher.search(query, filter, size, sort, true, false);\r\n     \r\n     // make our actual sort, mutating original by replacing some of the \r\n     // sortfields with equivalent expressions\r\n@@ -152,12 +155,15 @@\r\n     }\r\n     \r\n     Sort mutatedSort = new Sort(mutated);\r\n-    TopDocs actual = searcher.search(query, filter, size, mutatedSort, random().nextBoolean(), random().nextBoolean());\r\n+    // consume randomness\r\n+    random().nextBoolean();\r\n+    random().nextBoolean();\r\n+    TopDocs actual = searcher.search(query, filter, size, mutatedSort, true, false);\r\n     CheckHits.checkEqual(query, expected.scoreDocs, actual.scoreDocs);\r\n     \r\n     if (size < actual.totalHits) {\r\n-      expected = searcher.searchAfter(expected.scoreDocs[size-1], query, filter, size, sort);\r\n-      actual = searcher.searchAfter(actual.scoreDocs[size-1], query, filter, size, mutatedSort);\r\n+      expected = searcher.searchAfter(expected.scoreDocs[size-1], query, filter, size, sort, true, false);\r\n+      actual = searcher.searchAfter(actual.scoreDocs[size-1], query, filter, size, mutatedSort, true, false);\r\n       CheckHits.checkEqual(query, expected.scoreDocs, actual.scoreDocs);\r\n     }\r\n   }\r\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2013-09-18T14:46:10.289+0000","updated":"2013-09-18T14:46:10.289+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13770857","id":"13770857","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"One thing I just discovered: the seed causes newSearcher to pass an ExecutorService to IndexSearcher ... if I turn that off (keeping randomness consumption constant) then the test passes ...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2013-09-18T15:11:08.682+0000","updated":"2013-09-18T15:11:08.682+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13770909","id":"13770909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Ok, thats definitely the issue: the problem is that when using an Executor, IndexSearcher searches each segment and then merges the results with a FakeScorer.\r\n\r\nit has a special hack for this case where it actually ignores the boolean options you set, if the sort itself contains a relevance comparator:\r\n\r\n{code}\r\ndoDocScores || sort.needsScores()\r\n{code}\r\n\r\nThe current implementation is\r\n{code}\r\n  /** Whether the relevance score is needed to sort documents. */\r\n  boolean needsScores() {\r\n    for (SortField sortField : fields) {\r\n      if (sortField.getType() == SortField.Type.SCORE) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n{code}\r\n\r\nSo in the case of the expression sortfield (or any other similar sortfield), the hack does not work of course, because its a CUSTOM sortfield.\r\n\r\nSo I think we should change this hack to call SortField.needsScores() ? This way if someone has a custom one, they can just return true here and all this works.\r\n\r\nI will make a stab at a patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2013-09-18T16:01:11.531+0000","updated":"2013-09-18T16:01:11.531+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13770916","id":"13770916","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Here's a patch. Its a simple solution for now, I think we could optimize it more later?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2013-09-18T16:09:58.261+0000","updated":"2013-09-18T16:09:58.261+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13771254","id":"13771254","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"body":"Commit 1524575 from [~rcmuir] in branch 'dev/trunk'\r\n[ https://svn.apache.org/r1524575 ]\r\n\r\nLUCENE-5222: fix expression sort with executorService","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"created":"2013-09-18T21:23:39.842+0000","updated":"2013-09-18T21:23:39.842+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13771263","id":"13771263","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"body":"Commit 1524580 from [~rcmuir] in branch 'dev/branches/branch_4x'\r\n[ https://svn.apache.org/r1524580 ]\r\n\r\nLUCENE-5222: fix expression sort with executorService","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"created":"2013-09-18T21:31:49.874+0000","updated":"2013-09-18T21:31:49.874+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13771271","id":"13771271","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"Thanks Ryan and Mike, I opened LUCENE-5226 to make this not always return true.\r\n\r\nI think we can do it relatively cleanly, I will try. (I just wanted to fix the bug first).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2013-09-18T21:36:56.262+0000","updated":"2013-09-18T21:36:56.262+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13772013","id":"13772013","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"body":"Commit 1524779 from [~rcmuir] in branch 'dev/trunk'\r\n[ https://svn.apache.org/r1524779 ]\r\n\r\nLUCENE-5222: add CHANGES entry","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"created":"2013-09-19T16:37:33.522+0000","updated":"2013-09-19T16:37:33.522+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12669101/comment/13772014","id":"13772014","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"body":"Commit 1524780 from [~rcmuir] in branch 'dev/branches/branch_4x'\r\n[ https://svn.apache.org/r1524780 ]\r\n\r\nLUCENE-5222: add CHANGES entry","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jira-bot","name":"jira-bot","emailAddress":"no-reply at urd dot zones dot apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF subversion and git services","active":true},"created":"2013-09-19T16:38:02.511+0000","updated":"2013-09-19T16:38:02.511+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-5222/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1o6m7:"}}