{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12377317","self":"https://issues.apache.org/jira/rest/api/latest/issue/12377317","key":"DERBY-3038","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312876","id":"12312876","description":"","name":"10.3.2.1","archived":false,"released":true,"releaseDate":"2007-12-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313111","id":"12313111","description":"","name":"10.4.1.3","archived":false,"released":true,"releaseDate":"2008-04-24"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2007-09-02 08:39:25.952","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"23390","customfield_12310222":"1_*:*_1_*:*_479596863_*|*_6_*:*_1_*:*_0_*|*_5_*:*_2_*:*_174211199_*|*_4_*:*_1_*:*_338401783","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-09-12T12:36:56.760+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-3038/watchers","watchCount":0,"isWatching":false},"created":"2007-09-02T08:06:04.909+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.png","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"11.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12317513","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12317513","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12361033","key":"DERBY-2264","self":"https://issues.apache.org/jira/rest/api/2/issue/12361033","fields":{"summary":"Restrict shutdown, upgrade, and encryption powers to the database owner","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-06-30T15:55:54.775+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11408","id":"11408","name":"SQL"}],"timeoriginalestimate":null,"description":"I used to import data with CALL SYSCS_UTIL.SYSCS_IMPORT_TABLE procedure with \nsuccess in JAVA and DERBY 10.2.2.0.\n\nSince 10.3.1.4, the import procedure fails.\n\nThe error message is : \nThe exception 'java.sql.SQLException: No current connection.' was thrown while \nevaluating an expression.\n\nI'm sure there is a connection, the same which created the statement : \n***************************************************************************************************\n    protected boolean importTableDataCOUNTRIES() {\n        try {\n            java.sql.Statement st = \nconn.createStatement(java.sql.ResultSet.TYPE_SCROLL_INSENSITIVE, \njava.sql.ResultSet.CONCUR_UPDATABLE);\n            String sql = \"\";\n\n            sql = \"CALL \nSYSCS_UTIL.SYSCS_IMPORT_TABLE('NMSET', 'PAYS', '/tmp/lst_pays.csv', \nnull, null, null, 1)\";\n            st.executeUpdate(sql);\n            \n            return true;\n        } catch (SQLException ex) {\n            debug(ex.getMessage());\n        }\n        return false;\n    }\n***************************************************************************************************\nThe database is not being accessed by another application. The table does \nexist. The CSV file is comma separated and strings are enclosed by \".\n\nThank you for considering this issue.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10420","value":"Regression","id":"10420"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38797","summary":"SYSCS_IMPORT_TABLE FAILS  with No current connection after shutdown/reconnect to encrypted database : 10.3.1.4 regression ","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Linux 2.6.21.1 #2 Tue Jun 26 23:24:34 CEST 2007 i686 AMD Athlon(tm) XP 2800+ GNU/Linux (Mandriva 2007 Spring)\njava version \"1.6.0\"\nJava(TM) SE Runtime Environment (build 1.6.0-b105)\nJava HotSpot(TM) Client VM (build 1.6.0-b105, mixed mode, sharing)","customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10052","value":"Normal","id":"10052"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":24,"total":24,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12524326","id":"12524326","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Could you also post the complete stack trace? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-09-02T08:39:25.952+0000","updated":"2007-09-02T08:39:25.952+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12524327","id":"12524327","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"body":"Posted.\r\n\r\nThanks.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"created":"2007-09-02T09:01:32.090+0000","updated":"2007-09-02T09:01:32.090+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12524739","id":"12524739","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I'd like to try to get this issue in the form of a reproducible case.  Can you please post the schema for the table and a sample data file, so we can reproduce and verify it as a regression?\r\n\r\nThanks\r\n\r\nKathey\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-09-04T14:22:28.985+0000","updated":"2007-09-04T14:22:28.985+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12524836","id":"12524836","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"body":"Here they are.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"created":"2007-09-04T19:30:46.732+0000","updated":"2007-09-04T19:30:46.732+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12524862","id":"12524862","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I combined the table creation and import into a small java program and cannot reproduce with 10.3.1.4.  Can you modify this program to reproduce the error?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-09-04T20:27:01.585+0000","updated":"2007-09-04T20:27:01.585+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12524865","id":"12524865","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"The result I get with Test3038.java with the .csv file in the working directory is:\r\n\r\n[C:/kmarsden/repro/derby-3038] java Test3038\r\n243 rows imported\r\n\r\nThe error message \"No current connection.'  no current connection seems to indicate that perhaps some prior action has caused loss of connection.  Perhaps the issue is not the import but whatever came just before it.\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-09-04T20:30:14.285+0000","updated":"2007-09-04T20:30:14.285+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12524879","id":"12524879","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"body":"You're right, the import procedure went fine in Test3038 !!!\r\nI tried with an disk encrypted Db also and Test3038 did it.\r\n\r\nI can't see what can close the connection between two lines in the SAME \r\nprocedure. and there is no other action going on. If there were no \r\nconnection , the statement wouldn't have been created.\r\n\r\nI'll try to workaround this.\r\n\r\nThank you for your help.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"created":"2007-09-04T21:32:46.584+0000","updated":"2007-09-04T21:32:46.584+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12524896","id":"12524896","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Please let us know if you make any further progress toward getting a reproducible case for this issue.  Since your code works for you with 10.2, I fear there is still something amiss.  One thing to check is the derby.log to see if there is an exception that explains the loss of connection.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-09-04T22:05:54.877+0000","updated":"2007-09-04T22:05:54.877+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12525840","id":"12525840","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Closing this issue Cannot Reproduce.  Please reopen if you get a reproduction for this problem.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-09-07T21:19:21.637+0000","updated":"2007-09-07T21:19:21.637+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12525919","id":"12525919","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"body":"The exception can now be reproduced as per the archive Reproduce3038.zip, which represents more closely my app design.\r\n\r\nThank you for considering.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"created":"2007-09-08T14:36:54.971+0000","updated":"2007-09-08T14:36:54.971+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12525999","id":"12525999","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I was able to reproduce with Reproduce3038.java on the trunk and verified that the program passed on 10.2.  Thanks for reporting this issue! I was curious why you  shutdown the database every time you close a connection.  Normally one shutdown of the database before the application exits is sufficient.  If I take out the database shutdown on connection close it runs fine.  Also taking out the database shutdown with every connection close will probably improve the performance of the application if connections are closed frequently and will prevent the shutdown of one connection from affecting other connections open on the database.\r\n\t\r\nOne other note: the Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\") for each connection is not necessary before each connect.  You only need one Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\") .newInstance() before connecting the first time.\r\n\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-09-09T15:26:21.118+0000","updated":"2007-09-09T15:26:21.118+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12526022","id":"12526022","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"body":"Hello,\r\n\r\nIn fact, in a real application, I do not shutdown the DB at all except when \r\nending the application.\r\n\r\nI wrote Reproduce3038 this way because during development, I usually create \r\nthe DB and the table, checks that the objects are here from OpenOffice Base, \r\nthen in a distinct run(which may be on some other day) I would import the \r\ndata. That's why I closed the DB between each step in Reproduce3038, to mimic \r\nreal time development steps. Any way, in production, a user would import a \r\nfile on existing objects.\r\n\r\nAs I commented in Main.java, if the data is imported in a distinct run on \r\nexisting objects, it fails. If in one same run, the DB and the table are \r\ncreated AND the data is imported, then import succeeds.\r\n\r\nI also removed the shutdown database instruction and failure persists in the same circumstances.\r\n\r\nThank you for the 'Class.forName' comment.\r\n\r\nOne more note, I get the same result with 10.2.\r\n\r\nThank you.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"created":"2007-09-09T20:28:49.053+0000","updated":"2007-09-09T20:28:49.053+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12526248","id":"12526248","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"This regression was caused by revision 518214, checked in as part of DERBY-2264\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-09-10T20:01:52.900+0000","updated":"2007-09-10T20:01:52.900+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12526321","id":"12526321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Uploading a patch for this (a one liner). \r\n\r\nIn the repro, Derby thinks it is doing encryption reboot, since\r\n\"dataEncryption=true\" is supplied when reconnecting.  This\r\nleads Derby to do a two-phase boot for authentication purposes before\r\ndoing encryption (DERBY-2264).  (The attribute is redundant here,\r\nthough, since encryption is done at creation time, but that is not relevant.)\r\n\r\nThe issue is that the second boot of the two-phase boot lacked proper\r\nsetup of the EmbedConnectionContext in the second boot, leading to\r\nfailure when establishing a nested connection in\r\nSystemProcedures.getDefaultConn. This would also impact other\r\nuses of nested connections, I presume.  [Update: It does]\r\n\r\nRunning regression tests now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-09-11T01:03:48.144+0000","updated":"2007-09-12T00:14:31.426+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12526457","id":"12526457","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Thanks Dag for looking at this issue.  Could you add a regression test for it so we don't reregress?\r\n\r\nKathey","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-09-11T13:57:18.092+0000","updated":"2007-09-11T13:57:18.092+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12526512","id":"12526512","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Sure, Kathey! Uploading a new version DERBY-3038-2.*, which replaces\r\nthe previous patch. This includes a a new regression test which\r\nexposes the error prior to the fix contained in this patch.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-09-11T16:17:49.206+0000","updated":"2007-09-11T16:17:49.206+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12526525","id":"12526525","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I didn't try it but on visual inspection the patch looks good.\r\n\r\nKathey\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2007-09-11T17:06:02.525+0000","updated":"2007-09-11T17:06:02.525+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12526644","id":"12526644","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Thanks for checking it, Kathey! Ran regression tests over again\r\nand committed as svn 574733. Will backport to 10.3\r\nbefore I resolve.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-09-12T00:09:56.802+0000","updated":"2007-09-12T00:09:56.802+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12526767","id":"12526767","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Merged patch to 10.3 branch, ran all regression tests\r\nwith no errors. Committed as svn 574917, resolving now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-09-12T12:36:56.737+0000","updated":"2007-09-12T12:36:56.737+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12526769","id":"12526769","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"body":"Thanks to EDAH-TALLY for and Kathey for uncovering this and pinning it down!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dagw","name":"dagw","emailAddress":"dag dot wanvik at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dagw&avatarId=16789","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dagw&avatarId=16789","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dagw&avatarId=16789","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dagw&avatarId=16789"},"displayName":"Dag H. Wanvik","active":true},"created":"2007-09-12T12:39:49.444+0000","updated":"2007-09-12T12:39:49.444+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12526856","id":"12526856","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"body":"I understand that the fix would be available as from 10.3.1.5 or in SVN. 10.1.3.4 has only been released so I think there's a delay of a few months before .5 would be available.\r\n\r\nThanks and congratulations for the community's reactivity.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"created":"2007-09-12T17:12:35.172+0000","updated":"2007-09-12T17:12:35.172+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12539790","id":"12539790","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"body":"Hello,\r\n\r\nThere are no exceptions in derby.log.\r\n\r\nOne thing amazing, when connecting to Derby, it constantly starts an instance, \r\ncloses it and starts a new one. Even if one just connects without doing any \r\ntask. Has it something to do with the reported failure ?\r\n\r\nThe only way I could import the CSV file was to do everything in one single \r\nrun : create DB, create tables and import data. If these steps are done \r\ndistinctly in different runs, then import fails. This is so in my app, and \r\nnot in Test3038.\r\n\r\nI have checked and cross-checked my code, I don't have any explanation of \r\nthis.\r\n\r\nI can still workaround, but what if this happens in a distributed app !\r\n\r\nWhen I said before that I didn't have any problems with 10.2, it was with \r\nanother app (Goggle/SourceForge search OpenCIM10 if the source code is \r\nrequired)(Sorry if don't have the right to mention any project here). When I \r\nrun the current failed import with 10.2, the failure persists.\r\n\r\nI agree that the first thing to think of is an error in my code. With best \r\nhonesty, I can't find any.\r\n\r\nI don't have the means and time to dig in the Derby source code.\r\n\r\nI'll close this issue in a few days as UNRESOLVED.\r\n\r\nThank you very much.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"created":"2007-11-03T05:41:59.593+0000","updated":"2007-11-03T05:41:59.593+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12539792","id":"12539792","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"body":"Hello,\r\n\r\nIn fact, in a real application, I do not shutdown the DB at all except when \r\nending the application.\r\n\r\nI wrote Reproduce3038 this way because during development, I usually create \r\nthe DB and the table, checks that the objects are here from OpenOffice Base, \r\nthen in a distinct run(which may be on some other day) I would import the \r\ndata. That's why I closed the DB between each step in Reproduce3038, to mimic \r\nreal time development steps. Any way, in production, a user would import a \r\nfile on existing objects.\r\n\r\nAs I commented in Main.java, if the data is imported in a distinct run on \r\nexisting objects, it fails. If in one same run, the DB and the table are \r\ncreated AND the data is imported, then import succeeds.\r\n\r\nThank you for the 'Class.forName' comment.\r\n\r\nOne more note, I get the same result with 10.2.\r\n\r\nThank you.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"created":"2007-11-03T05:42:01.759+0000","updated":"2007-11-03T05:42:01.759+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12377317/comment/12539888","id":"12539888","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"body":"Sorry,\r\n\r\nDon't know where theis mail comes from. Didn't post it today.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nmset","name":"nmset","emailAddress":"nmset at netcourrier dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"EDAH-TALLY","active":true},"created":"2007-11-03T07:08:15.069+0000","updated":"2007-11-03T07:08:15.069+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-3038/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0706v:"}}