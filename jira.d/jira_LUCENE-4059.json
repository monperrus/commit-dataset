{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12555937","self":"https://issues.apache.org/jira/rest/api/latest/issue/12555937","key":"LUCENE-4059","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314025","id":"12314025","description":"Alpha release of the 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-05-16 00:31:49.673","customfield_12312323":null,"customfield_12310420":"243906","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_34323193_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-05-16T09:57:37.006+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-4059/watchers","watchCount":3,"isWatching":false},"created":"2012-05-16T00:25:34.008+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314025","id":"12314025","description":"Alpha release of the 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-10T10:43:03.555+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12311546","id":"12311546","name":"general/build","description":"issues with building Lucene using the ANT build scripts"}],"timeoriginalestimate":null,"description":"Hi all my build environment is a little weird for legacy reasons, one of these is that checkouts from version control for my build server have {} in the path.\r\n\r\nThis causes the process-webapps target to fail since XSL rejects none URI characters.\r\n\r\nI have a patch that fixes this by escaping the paths first","customfield_10010":null,"timetracking":{},"customfield_12310120":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10120","value":"Patch Available","id":"10120"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"23960","summary":"prepare-webpages breaks the build if there are none URI complement characters in the path","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gbowyer%40fastmail.co.uk","name":"gbowyer@fastmail.co.uk","emailAddress":"gbowyer at fastmail dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420"},"displayName":"Greg Bowyer","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gbowyer%40fastmail.co.uk","name":"gbowyer@fastmail.co.uk","emailAddress":"gbowyer at fastmail dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420"},"displayName":"Greg Bowyer","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":6,"total":6,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12555937/comment/13276362","id":"13276362","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gbowyer%40fastmail.co.uk","name":"gbowyer@fastmail.co.uk","emailAddress":"gbowyer at fastmail dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420"},"displayName":"Greg Bowyer","active":true},"body":"Escape URI paths for XSL","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gbowyer%40fastmail.co.uk","name":"gbowyer@fastmail.co.uk","emailAddress":"gbowyer at fastmail dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420"},"displayName":"Greg Bowyer","active":true},"created":"2012-05-16T00:26:46.277+0000","updated":"2012-05-16T00:26:46.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12555937/comment/13276364","id":"13276364","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"body":"I don't understand the problem, can you provide your build.xml? If you changed the Lucene-provided build files, this is not an issue, because those always build out of the box. If XSL does not like your own and modified build files, they are invalid XML, so fix those. The attached patch seems to work only around your invalid XML.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"created":"2012-05-16T00:31:49.673+0000","updated":"2012-05-16T00:31:49.673+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12555937/comment/13276368","id":"13276368","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gbowyer%40fastmail.co.uk","name":"gbowyer@fastmail.co.uk","emailAddress":"gbowyer at fastmail dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420"},"displayName":"Greg Bowyer","active":true},"body":"My build.xml is the same as upstream, the problem is my checkout path looks like this\r\n\r\n/home/buildserver/workspace/builds/{search-engineering}-solr-lucene-{trunk}\r\n\r\nThis means that the prepare-webpages target gets its paths in the buildpaths variable as a pipe separated list like so\r\n\r\n/home/buildserver/workspace/builds/{search-engineering}-solr-lucene-{trunk}/lucene/analysis/common/build.xml|/home/buildserver/workspace/builds/{search-engineering}-solr-lucene-{trunk}/lucene/analysis/icu/build.xml|...(and so on)\r\n\r\nXSLT picks this up later and tries to load these paths, however XSLT assumes that they are URLS which makes the { character invalid and causes\r\n\r\ncom.sun.org.apache.xalan.internal.xsltc.TransletException: javax.xml.transform.TransformerException: com.sun.org.apache.xml.internal.utils.URI$MalformedURIException: Path contains invalid character: {\r\n\r\nThis pattern is infrastructural to where I work and is not likely to change (I would like it too)\r\n\r\nNot sure if that makes sense","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gbowyer%40fastmail.co.uk","name":"gbowyer@fastmail.co.uk","emailAddress":"gbowyer at fastmail dot co dot uk","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gbowyer%40fastmail.co.uk&avatarId=10420"},"displayName":"Greg Bowyer","active":true},"created":"2012-05-16T00:52:43.135+0000","updated":"2012-05-16T00:53:08.180+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12555937/comment/13276616","id":"13276616","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"body":"Hi,\r\n\r\nthat makes sense, thanks for reporting this! I will fix this, thanks for the nice workaround patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"created":"2012-05-16T09:22:05.409+0000","updated":"2012-05-16T09:22:05.409+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12555937/comment/13276626","id":"13276626","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"body":"Hi, new and improved (\"more correct\") patch: On my windows machine your patch broke because of the backslashes. The most correct way to do this by creating a \"real\" file based URI. This can be done with the Java API (new File(source) -> toURI()). This creates a 100% correct file:// URI as XSL expects (XSL wants URIs, but most interpreters like XALAN also allow file names, but using file:-URIs is more correct and straight-forward).\r\n\r\nI will commit this now, thanks for reporting!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"created":"2012-05-16T09:55:00.090+0000","updated":"2012-05-16T09:55:00.090+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12555937/comment/13276628","id":"13276628","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"body":"Committed rev 1339097. Thanks Greg!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thetaphi","name":"thetaphi","emailAddress":"uwe at thetaphi dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thetaphi&avatarId=18956","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thetaphi&avatarId=18956","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thetaphi&avatarId=18956","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thetaphi&avatarId=18956"},"displayName":"Uwe Schindler","active":true},"created":"2012-05-16T09:57:37.086+0000","updated":"2012-05-16T09:57:37.086+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-4059/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i04gmv:"}}