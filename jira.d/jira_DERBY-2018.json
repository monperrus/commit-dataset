{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12354287","self":"https://issues.apache.org/jira/rest/api/latest/issue/12354287","key":"DERBY-2018","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-11-09 00:00:25.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22840","customfield_12310222":"3_*:*_1_*:*_187528000_*|*_1_*:*_1_*:*_806693000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_34330341738","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-11-11T00:52:56.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2018/watchers","watchCount":1,"isWatching":false},"created":"2006-10-30T12:42:35.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2007-12-13T09:05:17.734+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11408","id":"11408","name":"SQL"}],"timeoriginalestimate":null,"description":"The following statement produces a NullPointerException:\n\n   CREATE VIEW v1 (f1) AS VALUES NULL;\n\nStack trace:\n\n----------------------------------------------------------------\n2006-10-30 12:39:31.750 GMT:\n Booting Derby version The Apache Software Foundation - Apache Derby - 10.2.1.6 - (452058): instance c013800d-010e-993b-512f-00000012f418\non database directory C:\\temp_sys\\temp_Derby_TestErr_db\n\nDatabase Class Loader started - derby.database.classpath=''\n2006-10-30 12:39:38.484 GMT Thread[main,5,main] (XID = 122), (SESSIONID = 0), (DATABASE = c:\\temp_sys\\temp_Derby_TestErr_db), (DRDAID = null), Cleanup action starting\n2006-10-30 12:39:38.484 GMT Thread[main,5,main] (XID = 122), (SESSIONID = 0), (DATABASE = c:\\temp_sys\\temp_Derby_TestErr_db), (DRDAID = null), Failed Statement is: CREATE VIEW v1 (f1) AS VALUES NULL\njava.lang.NullPointerException\n        at org.apache.derby.impl.sql.catalog.SYSCOLUMNSRowFactory.makeRow(Unknown Source)\n        at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addDescriptorArray(Unknown Source)\n        at org.apache.derby.impl.sql.execute.CreateViewConstantAction.executeConstantAction(Unknown Source)\n        at org.apache.derby.impl.sql.execute.MiscResultSet.open(Unknown Source)\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\n        at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)\n        at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)\n        at org.apache.derby.impl.tools.ij.ij.executeImmediate(Unknown Source)\n        at org.apache.derby.impl.tools.ij.utilMain.doCatch(Unknown Source)\n        at org.apache.derby.impl.tools.ij.utilMain.go(Unknown Source)\n        at org.apache.derby.impl.tools.ij.Main.go(Unknown Source)\n        at org.apache.derby.impl.tools.ij.Main.mainCore(Unknown Source)\n        at org.apache.derby.impl.tools.ij.Main14.main(Unknown Source)\n        at org.apache.derby.tools.ij.main(Unknown Source)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"39635","summary":"NullPointerException in CREATE VIEW ... VALUES NULL;","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chdh%40inventec.ch","name":"chdh@inventec.ch","emailAddress":"chdh at inventec dot ch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian d'Heureuse","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chdh%40inventec.ch","name":"chdh@inventec.ch","emailAddress":"chdh at inventec dot ch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian d'Heureuse","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Java 1.5.0_06-b05","customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":12,"total":12,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12448321","id":"12448321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Attaching derby2018-trunk-diff01.txt.  This is a simple fix where it catches untyped null in CreateViewNode at bind phase (same logic as CursorNode) and throws the exception.\r\nderbyall passes except for the following tests which already failed before this patch.\r\n\r\nderbyall/derbynetclientmats/derbynetclientmats.fail:junitTests/derbyNet/CompatibilityTest.java\r\nderbyall/derbynetclientmats/derbynetmats.fail:derbynet/ShutDownDBWhenNSShutsDownTest.junit\r\nderbyall/derbynetmats/derbynetmats.fail:derbynet/ShutDownDBWhenNSShutsDownTest.junit \r\n\r\nJUnit suite passes.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2006-11-09T00:00:25.000+0000","updated":"2006-11-09T00:00:25.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12448788","id":"12448788","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"This patch looks good to me. I intend to commit it this weekend.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-11-10T16:09:47.000+0000","updated":"2006-11-10T16:09:47.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12448852","id":"12448852","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"I get the following diff on lang/views.sql. I wonder if this is somehow an issue with\r\ncarriage-return/line-feed issues? I think the patch was generated on Windows and\r\nI am trying to apply it on Linux.\r\n\r\njava org.apache.derbyTesting.functionTests.harness.RunTest lang/views.sql\r\n*** Start: views jdk1.4.2_11 2006-11-10 12:58:17 ***\r\n18d17\r\n<\r\n74d72\r\n<\r\nTest Failed.\r\n*** End:   views jdk1.4.2_11 2006-11-10 12:58:23 ***\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-11-10T20:56:41.000+0000","updated":"2006-11-10T20:56:41.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12448855","id":"12448855","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"I get this diff with or without the patch, so it's not a problem with the patch. Must be something odd in my environment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-11-10T21:11:32.000+0000","updated":"2006-11-10T21:11:32.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12448865","id":"12448865","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":"Hi Bryan.  It appears that the view.sql  test has been moved to JUnit.  Try:\r\n\r\njava org.apache.derbyTesting.functionTests.tests.lang.LangScripts views\r\n\r\nI discovered this when trying to fix DERBY-2048.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2006-11-10T21:30:16.000+0000","updated":"2006-11-10T21:30:16.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12448870","id":"12448870","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"Thank you very much, Yip, that was exactly it! Now I get the results I expect: the new test fails without your code patch, and passes with your code patch. Excellent! I will proceed with my review/commit.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-11-10T21:40:25.000+0000","updated":"2006-11-10T21:40:25.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12448913","id":"12448913","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"The rest of my testing was uneventful. Committed the patch to subversion as revision 473603.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2006-11-11T00:52:34.000+0000","updated":"2006-11-11T00:52:34.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12449003","id":"12449003","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chdh%40inventec.ch","name":"chdh@inventec.ch","emailAddress":"chdh at inventec dot ch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian d'Heureuse","active":true},"body":"Why does Derby have such problems with untyped NULL values?\r\nWhy does the statement CREATE VIEW v1 (f1) AS VALUES NULL have to be forbidden?\r\n\r\nOther DBMS don't have such problems, e.g. in MS-SQL-Server 2000,\r\n  CREATE VIEW v1 AS SELECT NULL as f1\r\nis valid.\r\n\r\nDoes the problem stem from the technique used for data flow paths within Derby, because there has to be an assigned data type for each data element?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chdh%40inventec.ch","name":"chdh@inventec.ch","emailAddress":"chdh at inventec dot ch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian d'Heureuse","active":true},"created":"2006-11-11T16:56:17.000+0000","updated":"2006-11-11T16:56:17.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12449050","id":"12449050","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"body":">Christian d'Heureuse wrote:\r\n> Why does the statement CREATE VIEW v1 (f1) AS VALUES NULL have to be forbidden? \r\n\r\nOne reason is to stay consistent with the behavior with issuing VALUES NULL in Derby.  e.g.:\r\n\r\n  ij> values null;\r\n  ERROR 42X07: Null is only allowed in a VALUES clause within an INSERT statement.\r\n\r\n  ij> create view v1 (c1) as values null;\r\n  ERROR 42X07: Null is only allowed in a VALUES clause within an INSERT statement.\r\n\r\nIf CREATE VIEW v1 AS SELECT NULL as f1 executes successfully.  What is the data type for this \r\nview column?  Integer type? Character type or something else?  In any case, it is going to be an implementation defined which in my opinion is not very portable and it is better to declare this explicitly:\r\n\r\nij> values cast(null as integer);\r\n1\r\n-----------\r\nNULL\r\n\r\n1 row selected\r\nij> create view v1 (c1) as values cast(null as integer);\r\n0 rows inserted/updated/deleted\r\nij> select * from v1;\r\nC1\r\n-----------\r\nNULL\r\n\r\n1 row selected\r\n\r\nOf course, you may not agree with me.  So perhaps this issue can be further discuss in the Derby dev list to see how the community feels about it.  In any case, the current state is better than having a NPE to occur.  =)\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yipng","name":"yipng","emailAddress":"yipng168 at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yip Ng","active":true},"created":"2006-11-11T23:19:58.000+0000","updated":"2006-11-11T23:19:58.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12449302","id":"12449302","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"body":"NOTE:\r\n\r\nVALUES NULL; (and thus CREATE VIEW V(F) AS VALUES NULL) is not a legal SQL statment according to the SQL standard since the type is undefined. \r\n\r\nVALUES (CAST NULL AS INTEGER)  on the other hand is legal.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bernt","name":"bernt","emailAddress":"bernt at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bernt M. Johnsen","active":true},"created":"2006-11-13T10:27:44.000+0000","updated":"2006-11-13T10:27:44.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12449350","id":"12449350","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chdh%40inventec.ch","name":"chdh@inventec.ch","emailAddress":"chdh at inventec dot ch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian d'Heureuse","active":true},"body":"Bernt M. Johnsen wrote:\r\n> VALUES NULL ... is not a legal SQL statement \r\n\r\nI agree that it's not conforming SQL according to the standard.\r\nBut non-conforming SQL is allowed (it's \"legal\") and all DBMSs have it.\r\n\r\n(see also my discussion with Nip in DERBY-2002)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chdh%40inventec.ch","name":"chdh@inventec.ch","emailAddress":"chdh at inventec dot ch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian d'Heureuse","active":true},"created":"2006-11-13T12:52:20.000+0000","updated":"2006-11-13T12:52:20.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12354287/comment/12551436","id":"12551436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"This issue has been resolved for over a year with no further movement. Closing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2007-12-13T09:05:17.733+0000","updated":"2007-12-13T09:05:17.733+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2018/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i075d3:"}}