{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12317831","self":"https://issues.apache.org/jira/rest/api/latest/issue/12317831","key":"DERBY-616","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311953","id":"12311953","description":"","name":"10.1.3.1","archived":false,"released":true,"releaseDate":"2006-06-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-02-12 07:42:05.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22048","customfield_12310222":"3_*:*_1_*:*_254893000_*|*_1_*:*_1_*:*_12702840000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_10642596000","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-03-11T02:31:30.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-616/watchers","watchCount":0,"isWatching":false},"created":"2005-10-12T03:09:17.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.png","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10991","id":"10991","description":"snapshot","name":"10.0.2.1","archived":false,"released":true,"releaseDate":"2004-12-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12311822","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12311822","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12328830","key":"DERBY-943","self":"https://issues.apache.org/jira/rest/api/2/issue/12328830","fields":{"summary":"nightly test regression in sycat test only on ibm142 jvm","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.png","name":"Critical","id":"2"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2006-07-12T06:48:06.000+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11412","id":"11412","name":"Store"}],"timeoriginalestimate":null,"description":"Seen in tests lang/wisconsin.sql and jdbcapi/maxfieldsize.java when running with the network server and the new security policy file that grants permisions on a per-jar basis. Unless permission is given to the network serve code (since it is in the stack) to access temp files in the database the test will fail.\n\n  permission java.io.FilePermission \"${derby.system.home}${/}wombat${/}tmp${/}-\", \"read, write, delete\";\n\nMost likely the temp files are being accessed in without a privileged block.\n\nEasy to reproduce once the new policy file changes are checked in (see http://wiki.apache.org/db-derby/SecurityManagerTesting) by removing the permission in the derby_tests.policy  file and running these tests using the jar files.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"40514","summary":"create index can fail under the SecurityManager when trying to access files in the tmp folder of a database","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":4,"total":4,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317831/comment/12366041","id":"12366041","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"DERBY-943 is most likely related to this issue. \r\nSee also the mail archives: \r\nhttp://mail-archives.apache.org/mod_mbox/db-derby-dev/200602.mbox/%3cc25576af0602110801w12544eb7i517b984f0e1b7651@mail.gmail.com%3e\r\nand:\r\nhttp://mail-archives.apache.org/mod_mbox/db-derby-dev/200602.mbox/%3c43EE0E60.7000103@apache.org%3e\r\n\r\nSo, For 'fixing' the nightly failure issue of DERBY-943, I will add the read, write, delete java.io.FilePermission to derby_tests.policy for the syscatdb/tmp dir (and under) in the derbynet.jar section. When this (DERBY-616) bug gets fixed, that section should also be taken out, and syscat.sql should be confirmed to work successfully with ibm142 jvm. \r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-02-12T07:42:05.000+0000","updated":"2006-02-12T07:42:05.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317831/comment/12369290","id":"12369290","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"DERBY-616:\r\n\r\n-- Added a missing privileged blocks for I/O call in StreamFileContainer.java ,\r\nthis class is used by the sort during index creation ..etc. \r\n   \r\n-- Enabled some of the tests which were not running under security manager \r\n   earlier because of this bug to run by default with security manager. \r\n\r\n-- removed the additional permissions from the derby test policy file \r\n   that were added earlier to avoid this bug for some test cases. \r\n\r\nTESTS : derbyall test suite passed on Windows XP/JDK142/ with sane classes\r\ndirectory and insane jars. \r\n\r\nIt would be great if some can review and commit this patch. \r\n\r\nsvn stat:\r\nM      java\\engine\\org\\apache\\derby\\impl\\store\\raw\\data\\StreamFileContainer.java\r\n\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\compressTable_app.properties\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\authorize_app.properties\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\wisconsin_app.properties\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\syscat_app.properties\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\store\\holdCursorExternalSortJDBC30_app.properties\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\store\\access_app.properties\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\store\\testsqldecimal_app.properties\r\nM      java\\testing\\org\\apache\\derbyTesting\\functionTests\\util\\derby_tests.policy\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2006-03-08T03:42:52.000+0000","updated":"2006-03-08T03:42:52.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317831/comment/12369515","id":"12369515","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"I have reviewed, tested and committed the submitted patch for this issue.\r\n\r\nm1_142:13>svn commit\r\n\r\nSending        java\\engine\\org\\apache\\derby\\impl\\store\\raw\\data\\StreamFileContai\r\nner.java\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\aut\r\nhorize_app.properties\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\com\r\npressTable_app.properties\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\sys\r\ncat_app.properties\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\wis\r\nconsin_app.properties\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\store\\ac\r\ncess_app.properties\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\store\\ho\r\nldCursorExternalSortJDBC30_app.properties\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\store\\te\r\nstsqldecimal_app.properties\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\util\\derby_tes\r\nts.policy\r\nTransmitting file data .........\r\nCommitted revision 384282.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2006-03-09T01:52:12.000+0000","updated":"2006-03-09T01:52:12.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12317831/comment/12376967","id":"12376967","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"backported this fix from trunk into 10.1 line:\r\n\r\nm101_142:62>svn commit\r\n\r\nSending        java\\engine\\org\\apache\\derby\\impl\\store\\raw\\data\\StreamFileContai\r\nner.java\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\aut\r\nhorize_app.properties\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\wis\r\nconsin_app.properties\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\util\\derby_tes\r\nts.policy\r\nTransmitting file data ....\r\nCommitted revision 397945.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2006-04-28T23:31:44.000+0000","updated":"2006-04-28T23:31:44.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-616/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i07asf:"}}