{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12600001","self":"https://issues.apache.org/jira/rest/api/latest/issue/12600001","key":"SOLR-3668","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310230","id":"12310230","key":"SOLR","name":"Solr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310230&avatarId=22151","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310230&avatarId=22151","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310230&avatarId=22151"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-07-26 21:59:38.353","customfield_12312323":null,"customfield_12310420":"243315","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_3783465688_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2012-09-06T08:27:30.197+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-3668/watchers","watchCount":1,"isWatching":false},"created":"2012-07-24T13:29:44.520+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314992","id":"12314992","description":"Alpha release of 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steffkes","name":"steffkes","emailAddress":"matheis dot stefan at googlemail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=steffkes&avatarId=10183","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=steffkes&avatarId=10183","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=steffkes&avatarId=10183","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=steffkes&avatarId=10183"},"displayName":"Stefan Matheis (steffkes)","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-03-22T16:43:41.684+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310675","id":"12310675","name":"web gui","description":"Web admin interface"}],"timeoriginalestimate":null,"description":"I'm trying to run the following direct call via the WebGUI:\r\nhttp://localhost:9090/solr/issues/dataimport?command=full-import&importfile=/absolute/path/to/file.xml\r\n\r\nThe above direct call produces this log output:\r\n24.07.2012 15:18:40 org.apache.solr.handler.dataimport.XPathEntityProcessor initQuery\r\nWARNUNG: Failed for url : /absolute/path/to/file.xml\r\n\r\nWhen giving an existing file, DIH works. But this is enough to show the difference between direct call and call via WebGUI.\r\n\r\n\r\nSteps I do in the WebGUI:\r\n\r\n0. In a multicore environment where one core is called \"issues\"\r\n\r\n1. Open the tab of core \"issues\", and there the sub-item \"Dataimport\":\r\nhttp://localhost:9090/solr/#/issues/dataimport//dataimport\r\n\r\n2. Specify a custom parameter in the text field labled \"Custom Parameters\" like \"importfile=/absolute/path/to/file.xml\"\r\n\r\nResulting log output:\r\n24.07.2012 15:22:47 org.apache.solr.handler.dataimport.XPathEntityProcessor initQuery\r\nWARNUNG: Failed for url : \r\njava.lang.RuntimeException: java.io.FileNotFoundException: Could not find file: \r\n\r\n(no filename specified)\r\n\r\nWhen trying with an existing file, the same output (no filename) is logged.\r\n\r\n\r\nI've tried to find out how to specify the custom parameters by looking into dataimport.js but it did not help me (I did not dwell on it, though). If it would work by specifying the parameter in a different way it would be great if a little info would be added right next to the field.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"17592","summary":"New Admin : DataImport : Specifying Custom Parameters","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chantal","name":"chantal","emailAddress":"chantal dot ackermann at web dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chantal Ackermann","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chantal","name":"chantal","emailAddress":"chantal dot ackermann at web dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chantal Ackermann","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"MacOS X 10.7.4, Safari 5.1.7","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":6,"total":6,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600001/comment/13423498","id":"13423498","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steffkes","name":"steffkes","emailAddress":"matheis dot stefan at googlemail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=steffkes&avatarId=10183","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=steffkes&avatarId=10183","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=steffkes&avatarId=10183","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=steffkes&avatarId=10183"},"displayName":"Stefan Matheis (steffkes)","active":true},"body":"Thanks for Reporting this Chantal, the code you're looking for is located in {{dataimport.js}} on Line 531-535\r\n\r\n{code}var custom_parameters = $( '#custom_parameters', form ).val();\r\nif( custom_parameters.length )\r\n{\r\n  array.push( { name : 'custom_parameters', value: custom_parameters } );\r\n}{code}\r\n\r\nand that is also already the reason, why it doesn't work. comparing a direct request, which logs this:\r\n\r\n{code}INFO: [collection1] webapp=/solr path=/dataimport params={command=full-import&importfile=/absolute/path/to/file.xml} status=0 QTime=1{code}\r\n\r\nagainst an UI-based Request, which logs that:\r\n\r\n{code}INFO: [collection1] webapp=/solr path=/dataimport params={command=full-import&custom_parameters=importfile%3D/absolute/path/to/file.xml} status=0 QTime=3{code}\r\n\r\nwill try to fix that tomorrow. perhaps there is a quick chance to inject the raw string directly into the url .. otherwise i'll split the string up first and let jquery compose the final one - will see what's possible here.\r\n\r\nbq.  If it would work by specifying the parameter in a different way it would be great if a little info would be added right next to the field.\r\n\r\ni guess the information/hint would be helpful in either case, will integrate one","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steffkes","name":"steffkes","emailAddress":"matheis dot stefan at googlemail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=steffkes&avatarId=10183","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=steffkes&avatarId=10183","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=steffkes&avatarId=10183","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=steffkes&avatarId=10183"},"displayName":"Stefan Matheis (steffkes)","active":true},"created":"2012-07-26T21:59:38.353+0000","updated":"2012-07-26T21:59:38.353+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600001/comment/13423752","id":"13423752","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chantal","name":"chantal","emailAddress":"chantal dot ackermann at web dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chantal Ackermann","active":true},"body":"Hi Stefan,\r\n\r\nthanks for fixing! I had misconfigured my DIH at that time, and it did not output the INFO messages you posted.\r\nI'm importing directly via /dataimport - so no hurry from my part.\r\n\r\nC","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chantal","name":"chantal","emailAddress":"chantal dot ackermann at web dot de","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chantal Ackermann","active":true},"created":"2012-07-27T08:50:02.167+0000","updated":"2012-07-27T08:50:02.167+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600001/comment/13423840","id":"13423840","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steffkes","name":"steffkes","emailAddress":"matheis dot stefan at googlemail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=steffkes&avatarId=10183","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=steffkes&avatarId=10183","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=steffkes&avatarId=10183","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=steffkes&avatarId=10183"},"displayName":"Stefan Matheis (steffkes)","active":true},"body":"Chantal, would you mind applying this one and have another look at it? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steffkes","name":"steffkes","emailAddress":"matheis dot stefan at googlemail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=steffkes&avatarId=10183","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=steffkes&avatarId=10183","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=steffkes&avatarId=10183","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=steffkes&avatarId=10183"},"displayName":"Stefan Matheis (steffkes)","active":true},"created":"2012-07-27T12:39:03.433+0000","updated":"2012-07-27T12:39:03.433+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600001/comment/13449522","id":"13449522","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steffkes","name":"steffkes","emailAddress":"matheis dot stefan at googlemail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=steffkes&avatarId=10183","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=steffkes&avatarId=10183","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=steffkes&avatarId=10183","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=steffkes&avatarId=10183"},"displayName":"Stefan Matheis (steffkes)","active":true},"body":"Committed revision 1381518. trunk\r\nCommitted revision 1381520. 4x","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=steffkes","name":"steffkes","emailAddress":"matheis dot stefan at googlemail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=steffkes&avatarId=10183","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=steffkes&avatarId=10183","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=steffkes&avatarId=10183","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=steffkes&avatarId=10183"},"displayName":"Stefan Matheis (steffkes)","active":true},"created":"2012-09-06T08:27:30.206+0000","updated":"2012-09-06T08:27:30.206+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600001/comment/13610909","id":"13610909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[branch_4x commit] Stefan Matheis\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1381524\r\n\r\nSOLR-3668: fix changes entry, it's a bugfix\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2013-03-22T16:43:38.158+0000","updated":"2013-03-22T16:43:38.158+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12600001/comment/13610910","id":"13610910","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"body":"[branch_4x commit] Stefan Matheis\r\nhttp://svn.apache.org/viewvc?view=revision&revision=1381520\r\n\r\nSOLR-3668: fix handling of custom parameters for dataimport on admin ui\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=commit-tag-bot","name":"commit-tag-bot","emailAddress":"root-jira-commit_tag_bot at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=commit-tag-bot&avatarId=16176","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=commit-tag-bot&avatarId=16176","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=commit-tag-bot&avatarId=16176","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=commit-tag-bot&avatarId=16176"},"displayName":"Commit Tag Bot","active":true},"created":"2013-03-22T16:43:41.684+0000","updated":"2013-03-22T16:43:41.684+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-3668/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i03dbr:"}}