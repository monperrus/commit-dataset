{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12520433","self":"https://issues.apache.org/jira/rest/api/latest/issue/12520433","key":"LUCENE-3404","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316675","id":"12316675","description":"Major release after 3.3","name":"3.4","archived":false,"released":true,"releaseDate":"2011-09-14"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314025","id":"12314025","description":"Alpha release of the 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-08-27 15:06:49.721","customfield_12312323":null,"customfield_12310420":"2706","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_7368405_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2011-08-27T15:33:53.429+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-3404/watchers","watchCount":1,"isWatching":false},"created":"2011-08-27T13:31:05.054+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-11-27T12:31:37.840+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[],"timeoriginalestimate":null,"description":"looks like charlie cron created a corrupt index on disk full.. can't reproduce with the seed on this machine, i can try on that VM with the same environment and see if i have better luck.","customfield_10010":null,"timetracking":{},"customfield_12310120":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10121","value":"New","id":"10121"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"24610","summary":"testIWondiskfull checkindex failure","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":8,"total":8,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12520433/comment/13092292","id":"13092292","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"{noformat}\r\n    [junit] Testsuite: org.apache.lucene.index.TestIndexWriterOnDiskFull\r\n    [junit] Testcase: testAddIndexOnDiskFull(org.apache.lucene.index.TestIndexWriterOnDiskFull):\tCaused an ERROR\r\n    [junit] CheckIndex failed\r\n    [junit] java.lang.RuntimeException: CheckIndex failed\r\n    [junit] \tat org.apache.lucene.util._TestUtil.checkIndex(_TestUtil.java:162)\r\n    [junit] \tat org.apache.lucene.util._TestUtil.checkIndex(_TestUtil.java:148)\r\n    [junit] \tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:485)\r\n    [junit] \tat org.apache.lucene.index.TestIndexWriterOnDiskFull.testAddIndexOnDiskFull(TestIndexWriterOnDiskFull.java:429)\r\n    [junit] \tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:148)\r\n    [junit] \tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:50)\r\n    [junit] \r\n    [junit] \r\n    [junit] Tests run: 4, Failures: 0, Errors: 1, Time elapsed: 0.515 sec\r\n    [junit] \r\n    [junit] ------------- Standard Output ---------------\r\n    [junit] CheckIndex failed\r\n    [junit] Segments file=segments_2 numSegments=26 version=4.0 format=FORMAT_4_0 [Lucene 4.0]\r\n    [junit]   1 of 26: name=_m docCount=38\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.004\r\n    [junit]     diagnostics = {optimize=false, mergeFactor=10, os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=merge, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [77 terms; 114 terms/docs pairs; 114 tokens]\r\n    [junit]     test: stored fields.......OK [76 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [1 total vector count; avg 0.026 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   2 of 26: name=_l docCount=2\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [5 terms; 6 terms/docs pairs; 6 tokens]\r\n    [junit]     test: stored fields.......OK [4 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   3 of 26: name=_n docCount=2\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=false\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=9\r\n    [junit]     size (MB)=0\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [5 terms; 6 terms/docs pairs; 6 tokens]\r\n    [junit]     test: stored fields.......OK [4 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   4 of 26: name=_o docCount=2\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [5 terms; 6 terms/docs pairs; 6 tokens]\r\n    [junit]     test: stored fields.......OK [4 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [1 total vector count; avg 0.5 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   5 of 26: name=_p docCount=2\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [5 terms; 6 terms/docs pairs; 6 tokens]\r\n    [junit]     test: stored fields.......OK [4 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   6 of 26: name=_q docCount=2\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [5 terms; 6 terms/docs pairs; 6 tokens]\r\n    [junit]     test: stored fields.......OK [4 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   7 of 26: name=_r docCount=2\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=false\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=9\r\n    [junit]     size (MB)=0\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [5 terms; 6 terms/docs pairs; 6 tokens]\r\n    [junit]     test: stored fields.......OK [4 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   8 of 26: name=_s docCount=2\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [5 terms; 6 terms/docs pairs; 6 tokens]\r\n    [junit]     test: stored fields.......OK [4 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   9 of 26: name=_t docCount=2\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=false\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=9\r\n    [junit]     size (MB)=0\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [5 terms; 6 terms/docs pairs; 6 tokens]\r\n    [junit]     test: stored fields.......OK [4 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   10 of 26: name=_u docCount=2\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [5 terms; 6 terms/docs pairs; 6 tokens]\r\n    [junit]     test: stored fields.......OK [4 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   11 of 26: name=_v docCount=1\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [3 terms; 3 terms/docs pairs; 3 tokens]\r\n    [junit]     test: stored fields.......OK [2 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   12 of 26: name=_w docCount=25\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=false\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=12\r\n    [junit]     size (MB)=0.003\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [51 terms; 75 terms/docs pairs; 75 tokens]\r\n    [junit]     test: stored fields.......OK [50 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [4 total vector count; avg 0.16 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   13 of 26: name=_x docCount=25\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=false\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=12\r\n    [junit]     size (MB)=0.003\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [51 terms; 75 terms/docs pairs; 75 tokens]\r\n    [junit]     test: stored fields.......OK [50 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [2 total vector count; avg 0.08 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   14 of 26: name=_y docCount=25\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.003\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [51 terms; 75 terms/docs pairs; 75 tokens]\r\n    [junit]     test: stored fields.......OK [50 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [7 total vector count; avg 0.28 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   15 of 26: name=_z docCount=6\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [13 terms; 18 terms/docs pairs; 18 tokens]\r\n    [junit]     test: stored fields.......OK [12 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [2 total vector count; avg 0.333 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   16 of 26: name=_10 docCount=6\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit] FAILED\r\n    [junit]     WARNING: fixIndex() would remove reference to this segment; full exception:\r\n    [junit] java.io.IOException: Read past EOF\r\n    [junit] \tat org.apache.lucene.store.RAMInputStream.switchCurrentBuffer(RAMInputStream.java:92)\r\n    [junit] \tat org.apache.lucene.store.RAMInputStream.readByte(RAMInputStream.java:65)\r\n    [junit] \tat org.apache.lucene.store.DataInput.readInt(DataInput.java:73)\r\n    [junit] \tat org.apache.lucene.store.MockIndexInputWrapper.readInt(MockIndexInputWrapper.java:123)\r\n    [junit] \tat org.apache.lucene.store.CompoundFileDirectory.readEntries(CompoundFileDirectory.java:102)\r\n    [junit] \tat org.apache.lucene.store.CompoundFileDirectory.<init>(CompoundFileDirectory.java:67)\r\n    [junit] \tat org.apache.lucene.index.SegmentInfo.loadFieldInfos(SegmentInfo.java:269)\r\n    [junit] \tat org.apache.lucene.index.SegmentInfo.getFieldInfos(SegmentInfo.java:325)\r\n    [junit] \tat org.apache.lucene.index.SegmentInfo.getHasProx(SegmentInfo.java:582)\r\n    [junit] \tat org.apache.lucene.index.CheckIndex.checkIndex(CheckIndex.java:496)\r\n    [junit] \tat org.apache.lucene.util._TestUtil.checkIndex(_TestUtil.java:158)\r\n    [junit] \tat org.apache.lucene.util._TestUtil.checkIndex(_TestUtil.java:148)\r\n    [junit] \tat org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:485)\r\n    [junit] \tat org.apache.lucene.index.TestIndexWriterOnDiskFull.testAddIndexOnDiskFull(TestIndexWriterOnDiskFull.java:429)\r\n    [junit] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [junit] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    [junit] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    [junit] \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    [junit] \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\r\n    [junit] \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n    [junit] \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\r\n    [junit] \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:21)\r\n    [junit] \tat org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)\r\n    [junit] \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:29)\r\n    [junit] \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\r\n    [junit] \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\r\n    [junit] \tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:148)\r\n    [junit] \tat org.apache.lucene.util.LuceneTestCaseRunner.runChild(LuceneTestCaseRunner.java:50)\r\n    [junit] \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:194)\r\n    [junit] \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:53)\r\n    [junit] \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n    [junit] \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n    [junit] \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:185)\r\n    [junit] \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:29)\r\n    [junit] \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\r\n    [junit] \tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n    [junit] \tat junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:40)\r\n    [junit] \tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:420)\r\n    [junit] \tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:911)\r\n    [junit] \tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:746)\r\n    [junit] \r\n    [junit]   17 of 26: name=_11 docCount=6\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [13 terms; 18 terms/docs pairs; 18 tokens]\r\n    [junit]     test: stored fields.......OK [12 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   18 of 26: name=_12 docCount=6\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [13 terms; 18 terms/docs pairs; 18 tokens]\r\n    [junit]     test: stored fields.......OK [12 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   19 of 26: name=_13 docCount=1\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [3 terms; 3 terms/docs pairs; 3 tokens]\r\n    [junit]     test: stored fields.......OK [2 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   20 of 26: name=_14 docCount=4\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [9 terms; 12 terms/docs pairs; 12 tokens]\r\n    [junit]     test: stored fields.......OK [8 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   21 of 26: name=_15 docCount=4\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [9 terms; 12 terms/docs pairs; 12 tokens]\r\n    [junit]     test: stored fields.......OK [8 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [1 total vector count; avg 0.25 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   22 of 26: name=_16 docCount=4\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [9 terms; 12 terms/docs pairs; 12 tokens]\r\n    [junit]     test: stored fields.......OK [8 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [1 total vector count; avg 0.25 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   23 of 26: name=_17 docCount=4\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [9 terms; 12 terms/docs pairs; 12 tokens]\r\n    [junit]     test: stored fields.......OK [8 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [1 total vector count; avg 0.25 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   24 of 26: name=_18 docCount=4\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {optimize=false, mergeFactor=1, os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=merge, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [9 terms; 12 terms/docs pairs; 12 tokens]\r\n    [junit]     test: stored fields.......OK [8 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [1 total vector count; avg 0.25 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   25 of 26: name=_19 docCount=4\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0.001\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [9 terms; 12 terms/docs pairs; 12 tokens]\r\n    [junit]     test: stored fields.......OK [8 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit]   26 of 26: name=_1a docCount=1\r\n    [junit]     codec=SegmentCodecs [codecs=[Standard(minBlockSize=67 maxBlockSize=135), SimpleText], provider=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}]\r\n    [junit]     compound=true\r\n    [junit]     hasProx=true\r\n    [junit]     numFiles=2\r\n    [junit]     size (MB)=0\r\n    [junit]     diagnostics = {os.version=2.6.32-24-generic, os=Linux, lucene.version=4.0-SNAPSHOT, source=flush, os.arch=i386, java.version=1.6.0_20, java.vendor=Oracle Corporation}\r\n    [junit]     no deletions\r\n    [junit]     test: open reader.........OK\r\n    [junit]     test: fields..............OK [2 fields]\r\n    [junit]     test: field norms.........OK [2 fields]\r\n    [junit]     test: terms, freq, prox...OK [3 terms; 3 terms/docs pairs; 3 tokens]\r\n    [junit]     test: stored fields.......OK [2 total field count; avg 2 fields per doc]\r\n    [junit]     test: term vectors........OK [0 total vector count; avg 0 term/freq vector fields per doc]\r\n    [junit]     test: DocValues........OK [0 total doc Count; Num DocValues Fields 0\r\n    [junit] \r\n    [junit] WARNING: 1 broken segments (containing 6 documents) detected\r\n    [junit] \r\n    [junit] ------------- ---------------- ---------------\r\n    [junit] ------------- Standard Error -----------------\r\n    [junit] NOTE: reproduce with: ant test -Dtestcase=TestIndexWriterOnDiskFull -Dtestmethod=testAddIndexOnDiskFull -Dtests.seed=-701a2f1db029fc68:-69e1d358129f80b8:-37e6e82cd17aa6e9 -Dtests.multiplier=3\r\n    [junit] NOTE: test params are: codec=RandomCodecProvider: {id=SimpleText, field=MockSep, f=MockRandom, content=Standard(minBlockSize=67 maxBlockSize=135)}, locale=ar_SD, timezone=Brazil/DeNoronha\r\n    [junit] NOTE: all tests run in this JVM:\r\n    [junit] [TestNumericTokenStream, TestFlex, TestFlushByRamOrCountsPolicy, TestIndexReaderCloneNorms, TestIndexWriterDelete, TestIndexWriterMerging, TestIndexWriterOnDiskFull]\r\n    [junit] NOTE: Linux 2.6.32-24-generic i386/Oracle Corporation 1.6.0_20 (32-bit)/cpus=1,threads=1,free=22929736,total=96641024\r\n    [junit] ------------- ---------------- ---------------\r\n    [junit] TEST org.apache.lucene.index.TestIndexWriterOnDiskFull FAILED\r\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2011-08-27T13:31:15.046+0000","updated":"2011-08-27T13:31:15.046+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12520433/comment/13092293","id":"13092293","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"At revision 1162298.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2011-08-27T13:32:43.981+0000","updated":"2011-08-27T13:32:43.981+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12520433/comment/13092295","id":"13092295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"OK: seed reproduces if you 'svn up -r 1162298' first!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2011-08-27T13:33:55.397+0000","updated":"2011-08-27T13:33:55.397+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12520433/comment/13092306","id":"13092306","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"OK I found the problem -- it's because we are incorrectly passing true instead of false, as the first arg to IOUtils.closeSafely in IW.copySegmentIntoCFS.  This then suppresses an exception (that corrupted the .cfe file being written), thus making the rest of the code think everything is fine...\r\n\r\nI looked at all other places we call this method and there were a few other cases.\r\n\r\nI think this is trappy -- instead of a boolean, I think we should rename IOUtils.closeSafely into 2 methods: closeSafelyDuringExc, and closeSafely.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2011-08-27T15:06:49.721+0000","updated":"2011-08-27T15:06:49.721+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12520433/comment/13092307","id":"13092307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Patch, fixing the issue and the other places where we incorrectly passed true.\r\n\r\nBut I want to do another iter with the renaming...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2011-08-27T15:08:45.152+0000","updated":"2011-08-27T15:08:45.152+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12520433/comment/13092308","id":"13092308","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Actually I'll commit this fix first, and open a separate issue about not using a boolean here.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2011-08-27T15:12:10.139+0000","updated":"2011-08-27T15:12:10.139+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12520433/comment/13092309","id":"13092309","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"body":"{quote}\r\nI think this is trappy – instead of a boolean, I think we should rename IOUtils.closeSafely into 2 methods: closeSafelyDuringExc, and closeSafely.\r\n{quote}\r\n\r\nSounds like the other one should be called .closeUnsafely...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rcmuir","name":"rcmuir","emailAddress":"rcmuir at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rcmuir&avatarId=10150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rcmuir&avatarId=10150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rcmuir&avatarId=10150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rcmuir&avatarId=10150"},"displayName":"Robert Muir","active":true},"created":"2011-08-27T15:16:29.653+0000","updated":"2011-08-27T15:16:29.653+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12520433/comment/13092316","id":"13092316","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Fixed.\r\n\r\n3.x didn't have any problems; just test-only changes backported.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2011-08-27T15:33:53.438+0000","updated":"2011-08-27T15:33:53.438+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-3404/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i04knb:"}}