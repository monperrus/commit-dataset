{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12463609","self":"https://issues.apache.org/jira/rest/api/latest/issue/12463609","key":"SOLR-1902","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310230","id":"12310230","key":"SOLR","name":"Solr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310230&avatarId=22151","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310230&avatarId=22151","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310230&avatarId=22151","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310230&avatarId=22151"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315231","id":"12315231","description":"Bug fix release for users of 1.4","name":"1.4.2","archived":true,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314371","id":"12314371","description":"Major release after 1.4.1","name":"3.1","archived":false,"released":true,"releaseDate":"2011-03-31"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314992","id":"12314992","description":"Alpha release of 4.x series","name":"4.0-ALPHA","archived":false,"released":true,"releaseDate":"2012-07-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-05-11 09:57:13.618","customfield_12312323":null,"customfield_12310420":"5572","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_576944731_*|*_5_*:*_2_*:*_2182758149_*|*_4_*:*_1_*:*_5333445115","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-08-05T14:28:29.719+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-1902/watchers","watchCount":4,"isWatching":false},"created":"2010-05-03T22:22:41.724+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[],"issuelinks":[{"id":"12331733","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12331733","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12463684","key":"TIKA-419","self":"https://issues.apache.org/jira/rest/api/2/issue/12463684","fields":{"summary":"Allow parser lookup from a custom class loader","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}},{"id":"12333735","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12333735","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12473297","key":"SOLR-2101","self":"https://issues.apache.org/jira/rest/api/2/issue/12473297","fields":{"summary":"TikaEntityProcessor does not extract files- does not pick parser correctly","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-03-30T15:45:24.824+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313049","id":"12313049","name":"contrib - Solr Cell (Tika extraction)","description":"Extract content from rich documents using Tika"}],"timeoriginalestimate":null,"description":"See http://www.lucidimagination.com/search/document/2ca3fe953038a54f/problem_with_pdf_upgrading_cell#22360c8261801f24\r\n\r\nIt appears that since the upgrade to Tika 0.7, Tika is now selecting an EmptyParser when uploading docs, which then outputs an empty XHTML representation.  Still, it's strange that the tests pass.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"19323","summary":"Tika no longer properly extracts content in Solr","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":15,"total":15,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12863548","id":"12863548","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Further debugging shows that on startup, Tika did not load any parsers, which is the difference as to why the tests pass.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-05-03T22:33:47.536+0000","updated":"2010-05-03T22:33:47.536+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12865778","id":"12865778","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Upgraded to Tika 0.8-SNAPSHOT and added class loading capabilities.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-05-10T14:38:26.418+0000","updated":"2010-05-10T14:38:26.418+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12866114","id":"12866114","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ehatcher","name":"ehatcher","emailAddress":"ehatcher at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ehatcher&avatarId=22298","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ehatcher&avatarId=22298","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ehatcher&avatarId=22298","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ehatcher&avatarId=22298"},"displayName":"Erik Hatcher","active":true},"body":"Is there a test case that could have caught this issue that we can add?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ehatcher","name":"ehatcher","emailAddress":"ehatcher at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ehatcher&avatarId=22298","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ehatcher&avatarId=22298","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ehatcher&avatarId=22298","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ehatcher&avatarId=22298"},"displayName":"Erik Hatcher","active":true},"created":"2010-05-11T09:57:13.618+0000","updated":"2010-05-11T09:57:13.618+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12866340","id":"12866340","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"I suppose one could setup a Jetty fire off test to do it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-05-11T21:21:19.942+0000","updated":"2010-05-11T21:21:19.942+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12872822","id":"12872822","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"\r\nCorrecting Fix Version based on CHANGES.txt, see this thread for more details...\r\n\r\nhttp://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2010-05-28T03:29:21.021+0000","updated":"2010-05-28T03:29:21.021+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12875725","id":"12875725","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bgreenlee","name":"bgreenlee","emailAddress":"brad at footle dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brad Greenlee","active":true},"body":"I am still seeing this issue. It works if I downgrade Tika to 0.6, but neither the 0.8-SNAPSHOT included in the current Solr trunk nor a snapshot from the Tika trunk work for me. I'm running Java 1.6.0_20 on OS X 10.6.3. I posted about the issue to the solr-user mailing list: http://lucene.472066.n3.nabble.com/TikaEntityProcessor-not-working-td856965.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bgreenlee","name":"bgreenlee","emailAddress":"brad at footle dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brad Greenlee","active":true},"created":"2010-06-04T19:42:10.557+0000","updated":"2010-06-04T19:42:10.557+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12875750","id":"12875750","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"body":"reopening based on mailing list discussion indicating problem is still in trunk","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hossman","name":"hossman","emailAddress":"hossman_apachejira at fucit dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hossman&avatarId=21247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hossman&avatarId=21247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hossman&avatarId=21247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hossman&avatarId=21247"},"displayName":"Hoss Man","active":true},"created":"2010-06-04T20:57:44.551+0000","updated":"2010-06-04T20:57:44.551+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12884295","id":"12884295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"I'm not seeing this.  I just tried trunk and it works for me.  Brad, can you produce a test case?  What happens if you run with extractOnly?  Does it return the content?  I tried both that and indexing using trunk and the example per the wiki docs and it all appears to work for me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-07-01T14:30:10.200+0000","updated":"2010-07-01T14:30:10.200+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12892757","id":"12892757","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=davetbo","name":"davetbo","emailAddress":"dthibault at esperion dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Thibault","active":true},"body":"I just tried this patch and the patch for ExtractingRequestHandler does not work when applied to the ExtractingRequestHandler from Solr 1.4.1.  If it's a 1.4.0-specific patch maybe it should say something to that effect.  I was able to read the patch and manually change the code, though.  I have not yet tried the resulting compiled classes to see if they fix my issue, though.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=davetbo","name":"davetbo","emailAddress":"dthibault at esperion dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Thibault","active":true},"created":"2010-07-27T13:06:07.730+0000","updated":"2010-07-27T13:06:07.730+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12892813","id":"12892813","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=davetbo","name":"davetbo","emailAddress":"dthibault at esperion dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Thibault","active":true},"body":"OK, I just did an ant clean dist with these patches applied.  When I try to use curl to post a file to Solr it gives me this error:\r\nSEVERE: java.lang.NoSuchMethodError: org.apache.solr.core.SolrResourceLoader.getClassLoader()Ljava/lang/ClassLoader;\r\n        at org.apache.solr.handler.extraction.ExtractingRequestHandler.inform(ExtractingRequestHandler.java:93)\r\n        at org.apache.solr.core.RequestHandlers$LazyRequestHandlerWrapper.getWrappedHandler(RequestHandlers.java:244)\r\n        at org.apache.solr.core.RequestHandlers$LazyRequestHandlerWrapper.handleRequest(RequestHandlers.java:231)\r\n        at org.apache.solr.core.SolrCore.execute(SolrCore.java:1316)\r\n        at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:338)\r\n        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:241)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\r\n        at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:859)\r\n        at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:579)\r\n        at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1555)\r\n        at java.lang.Thread.run(Thread.java:619)\r\n\r\nI'm not sure why, because if I look at the patched Java source for SolrResourceLoader the getClassLoader() method is there.  Any thoughts?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=davetbo","name":"davetbo","emailAddress":"dthibault at esperion dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Thibault","active":true},"created":"2010-07-27T15:11:40.725+0000","updated":"2010-07-27T15:11:40.725+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12892957","id":"12892957","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teofili","name":"teofili","emailAddress":"tommaso dot teofili at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=teofili&avatarId=10182","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=teofili&avatarId=10182","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=teofili&avatarId=10182","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=teofili&avatarId=10182"},"displayName":"Tommaso Teofili","active":true},"body":"Hi all, I had the same issue David has, so I applied the patch (modifying files one by one) to a fresh Solr 1.4.1 checkout and I managed to have most of my PDFs being indexed with text extracted (with the \"example\" Solr instance). \r\nWithin the apache-solr-1.4.1 release I substituted all the files inside apache-solr-1.4.1/dist with the ones generated (inside the dist directory) invoking 'ant dist' on the patched 1.4.1 source code, also I substituted the release war with the generated (patched) war inside example/webapps (this last one was mandatory to avoid the NoSuchMethodError reported above) . Then I ran 'java -jar start.jar' from example dir and everything worked.\r\nNote that I used the latest version of pdfbox, jembox and fontbox (1.2.1).\r\nI can attach the patch to 1.4.1 code I used.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teofili","name":"teofili","emailAddress":"tommaso dot teofili at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=teofili&avatarId=10182","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=teofili&avatarId=10182","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=teofili&avatarId=10182","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=teofili&avatarId=10182"},"displayName":"Tommaso Teofili","active":true},"created":"2010-07-27T22:09:10.770+0000","updated":"2010-07-27T22:09:10.770+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12893328","id":"12893328","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=davetbo","name":"davetbo","emailAddress":"dthibault at esperion dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Thibault","active":true},"body":"OK, I tried Tommaso's patch and it worked great.  However, using the solr.war that came with the 1.4.1 distribution, it still gave the NoSuchMethodError.  However, when I try the patched and newly-recompiled apache-solr-1.4.2-dev.war, it worked.  I thought I tried that before with the other patches and it didn't work.  In any case, it seems to be working with the following:\r\nSOLR_DIST=the folder where the solr 1.4.1 distribution was unzipped.\r\nSOLR_HOME=the folder where tomcat or jetty will look to load SOLR.\r\n\r\n1) fresh copy of solr 1.4.1 distribution unzipped to SOLR_DIST\r\n\r\n2) update SOLR_DIST/contrib/extraction/lib with the following:\r\n   jempbox-1.2.1.jar\r\n   fontbox-1.2.1.jar\r\n   pdfbox-1.2.1.jar\r\n   tika-core-0.8-SNAPSHOT.jar\r\n   tika-parsers-0.8-SNAPSHOT.jar\r\n  (and remove old tika and pdfbox-related jars)\r\n\r\n3) patch with Tommaso's patch above in the SOLR_DIST directory:\r\npatch -p0 < SOLR1902_patch_to_141.txt\r\n\r\n4) still in SOLR_DIST, run \"ant dist\"\r\n\r\n5) copy SOLR_DIST/dist/*.jar to SOLR_HOME/lib\r\n6) copy SOLR_DIST/dist/solrj-lib to SOLR_HOME/lib/solrj-lib\r\n7) copy SOLR_DIST/dist/apache-solr-1.4.2-dev.war to SOLR_HOME/\r\n8) remove SOLR_HOME/contrib/extraction/lib/*.jar\r\n9) copy SOLR_DIST/contrib/extraction/lib/*.jar to SOLR_HOME/contrib/extraction/lib/\r\n10) (for me in tomcat) add CATALINA_HOME/conf/Catalina/localhost/solr.xml with the following content (substitute the actual directory for <SOLR_HOME> as that is not correct syntax):\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n  <Context docBase=\"<SOLR_HOME>\\apache-solr-1.4.2-dev.war\" debug=\"0\" crossContext=\"true\">\r\n  <Environment name=\"solr/home\" type=\"java.lang.String\" value=\"<SOLR_HOME>\" override=\"true\"/>\r\n</Context>\r\n11) restart tomcat.\r\n12) upload content via curl.\r\n13) jump for joy when it doesn't crash on me again...=)\r\n\r\nBest,\r\nDave ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=davetbo","name":"davetbo","emailAddress":"dthibault at esperion dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"David Thibault","active":true},"created":"2010-07-28T19:40:57.975+0000","updated":"2010-07-28T19:40:57.975+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12895672","id":"12895672","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"OK, so it seems that the comments on this were all about 1.4 and 1.4.1, which was never upgraded.  So, I believe trunk is working.  So, I'm going to mark this as a Fix Version for 1.4.2 as well and put up a batch for that based on the patch here.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-08-05T13:24:09.768+0000","updated":"2010-08-05T13:24:09.768+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/12895695","id":"12895695","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Trunk, branch-1.4 (i.e. 1.4.2) and branch-3.x should all be on the same version of Tika at this point.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2010-08-05T14:28:29.658+0000","updated":"2010-08-05T14:28:29.658+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463609/comment/13013052","id":"13013052","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"body":"Bulk close for 3.1.0 release","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gsingers","name":"gsingers","emailAddress":"gsingers at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Grant Ingersoll","active":true},"created":"2011-03-30T15:45:24.822+0000","updated":"2011-03-30T15:45:24.822+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/SOLR-1902/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i03o0f:"}}