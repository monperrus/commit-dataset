{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12463539","self":"https://issues.apache.org/jira/rest/api/latest/issue/12463539","key":"CASSANDRA-1043","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310865","id":"12310865","key":"CASSANDRA","name":"Cassandra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310865&avatarId=12034","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310865&avatarId=12034","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310865&avatarId=12034","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310865&avatarId=12034"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11961","id":"11961","description":"Apache Cassandra related projects","name":"Cassandra"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314533","id":"12314533","description":"","name":"0.7 beta 1","archived":false,"released":true,"releaseDate":"2010-08-13"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2010-05-03 04:13:36.63","customfield_12312322":null,"customfield_12312323":null,"customfield_12310222":"1_*:*_1_*:*_61036475_*|*_5_*:*_1_*:*_0","customfield_12310420":"27887","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-05-03T20:47:51.789+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-1043/watchers","watchCount":2,"isWatching":false},"created":"2010-05-03T03:50:35.314+0000","customfield_10022":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12311124":null,"customfield_12312334":null,"customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12333380","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12333380","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"outwardIssue":{"id":"12471546","key":"CASSANDRA-1386","self":"https://issues.apache.org/jira/rest/api/2/issue/12471546","fields":{"summary":"Even faster UUID comparisons","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-08-13T13:49:25.622+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312978","id":"12312978","name":"Core"}],"timeoriginalestimate":null,"description":"As I explained on the mailing list, doing slice queries on CFs that are sorted by TimeUUIDType gets slower as the value of count increases. According to my profiles, this is largely due to the fact that ConcurrentSkipListMap calls the comparator very frequently, which is extremely inefficient. In order to compare two UUIDs, it has to materialize them both in to java.util.UUID objects which is quite slow. The more UUIDs to compare, the slower it is.\r\n\r\nAttached is a patch that compares UUIDs by extracting the timestamp directly from the byte[] representation. According to my tests, it's close to a 50% performance improvement.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443436","id":"12443436","filename":"faster_uuid_compare.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"created":"2010-05-03T03:53:35.443+0000","size":1201,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12443436/faster_uuid_compare.diff"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443493","id":"12443493","filename":"faster-uuid-compare-v3.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"created":"2010-05-03T19:47:00.479+0000","size":3954,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12443493/faster-uuid-compare-v3.diff"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443478","id":"12443478","filename":"patch-v2-with-tests.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"created":"2010-05-03T17:51:07.721+0000","size":4084,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12443478/patch-v2-with-tests.diff"}],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"91860","summary":"Faster UUID comparisons","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"customfield_12311420":null,"customfield_12311421":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":13,"total":13,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12863229","id":"12863229","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"Is this code exercised by unit tests already?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-05-03T04:13:36.630+0000","updated":"2010-05-03T04:13:36.630+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12863230","id":"12863230","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"body":"I'm not completely sure. In org.apache.cassandra.db.TimeSortTest, maybe?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"created":"2010-05-03T04:18:27.951+0000","updated":"2010-05-03T04:18:27.951+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12863231","id":"12863231","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"No, that's dealing w/ LongType (a holdover from when we actually had \"sort by timestamp\" option, that was the simplest port).\r\n\r\nLooks like the closest we have is some code in the system tests:\r\n# Testing that 2 different TimeUUID with same timestamp are not equal\r\n\r\nCan you add either a unit test or system test to this patch?  If we introduce a bug here then we basically corrupt all your on-disk data, so it's a little scary. :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-05-03T04:38:33.017+0000","updated":"2010-05-03T04:38:33.017+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12863260","id":"12863260","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=slebresne","name":"slebresne","emailAddress":"sylvain at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=slebresne&avatarId=14630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=slebresne&avatarId=14630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=slebresne&avatarId=14630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=slebresne&avatarId=14630"},"displayName":"Sylvain Lebresne","active":true},"body":"Maybe can we also make it so that on same timestamp we don't compare again the first 8 bytes. Agreed \r\nit's no big deal as timestamp ties will not happen often but it do makes uuid comparisons faster :)\r\n\r\nOther than that, in the return statement, shouldn't the part (hi << 0x0FFF) actually be (hi & 0x0FFF) ?\r\n\r\nMoreover, I wonder about the last part (I'm not an UUID expert tough so feel free to correct me). The \r\nsubstraction first (that I guess is to make the timestamp retative to the 20th century instead of the \r\n16th one?) and the division by 10.\r\nFirst I think it is a bit dangerous to not return the same thing that was returned before (the division may \r\nmean a loss of precision in particular (agreed, it's unlikely)). And second, as we don't really care here\r\nabout the actual value of the timestamp, we could skip these two operations and make that even faster. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=slebresne","name":"slebresne","emailAddress":"sylvain at datastax dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=slebresne&avatarId=14630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=slebresne&avatarId=14630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=slebresne&avatarId=14630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=slebresne&avatarId=14630"},"displayName":"Sylvain Lebresne","active":true},"created":"2010-05-03T08:11:53.201+0000","updated":"2010-05-03T08:11:53.201+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12863405","id":"12863405","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"body":"Sylvain, you're right about hi & 0x0FFF. Full disclosure: I'm not a UUID expert either.\r\n\r\nYou're also probably right that we can remove the subtraction and division from the end. I don't see any harm in that, since it's only really there for creating a timestamp that can be converted in to a Date object of some kind.\r\n\r\nI'm working on some unit tests to make sure this works as expected...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"created":"2010-05-03T16:54:33.322+0000","updated":"2010-05-03T16:54:33.322+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12863425","id":"12863425","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"body":"Okay, here is a revised version of the patch. I removed the subtraction of the gregorian epoch offset division to change the units and added some unit tests...\r\n\r\nThe tests aren't really that great and they require the addition of the uuid jar referenced in the FAQ. I'd love to hear some more ideas on how to make them better.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"created":"2010-05-03T17:47:32.928+0000","updated":"2010-05-03T17:47:32.928+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12863470","id":"12863470","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"we already have the JUG uuid jar in the tree, can you use that?\r\n\r\nhttp://jug.safehaus.org/curr/javadoc/index.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-05-03T18:50:37.481+0000","updated":"2010-05-03T18:50:37.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12863490","id":"12863490","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"body":"V3 of the patch using JUG to generate UUIDs. I also added a few more assertions to the tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jamesgolick","name":"jamesgolick","emailAddress":"jamesgolick at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"James Golick","active":true},"created":"2010-05-03T19:47:00.566+0000","updated":"2010-05-03T19:47:00.566+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12863507","id":"12863507","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"reformatted and committed, thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-05-03T20:47:51.761+0000","updated":"2010-05-03T20:47:51.761+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12863512","id":"12863512","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nithril","name":"nithril","emailAddress":"nithril at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Labrot","active":true},"body":"I will just add a comment on the test. Like the optimisation uses the internal structure of Jug UUID it should be valusable to add a test on it.\r\n\r\nfor example with asserts on value of UUID.INDEX_CLOCK_HI, UUID.INDEX_CLOCK_MID and INDEX_CLOCK_MID.INDEX_CLOCK_LO","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nithril","name":"nithril","emailAddress":"nithril at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Nicolas Labrot","active":true},"created":"2010-05-03T21:04:29.941+0000","updated":"2010-05-03T21:04:29.941+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12897937","id":"12897937","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=messi","name":"messi","emailAddress":"messias at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Folke Behrens","active":true},"body":"Attached patch makes TimeUUIDType compare the timestamp bytes directly in the right order. Note that FBUtilities.compareByteArrays([B[B) does deliberately not call its sibling to preserve compatibility.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=messi","name":"messi","emailAddress":"messias at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Folke Behrens","active":true},"created":"2010-08-12T20:28:14.904+0000","updated":"2010-08-12T20:28:14.904+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12898069","id":"12898069","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"is there a bug in the original 1043 patch?  if not can you open a new issue for this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-08-13T04:03:09.011+0000","updated":"2010-08-13T04:03:09.011+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12463539/comment/12898239","id":"12898239","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=messi","name":"messi","emailAddress":"messias at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Folke Behrens","active":true},"body":"Moved patch to CASSANDRA-1386","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=messi","name":"messi","emailAddress":"messias at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Folke Behrens","active":true},"created":"2010-08-13T13:49:12.653+0000","updated":"2010-08-13T13:49:12.653+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-1043/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0g2nj:"}}