{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12381262","self":"https://issues.apache.org/jira/rest/api/latest/issue/12381262","key":"LUCENE-1036","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310110","id":"12310110","key":"LUCENE","name":"Lucene - Core","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310110&avatarId=10061","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310110&avatarId=10061","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310110&avatarId=10061","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310110&avatarId=10061"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10150","id":"10150","description":"Lucene-related projects","name":"Lucene"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312531","id":"12312531","description":"","name":"2.3","archived":false,"released":true,"releaseDate":"2008-01-23"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2007-10-26 17:10:47.354","customfield_12312323":null,"customfield_12310420":"12709","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1052114678_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_6760823680","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-11-07T21:23:44.678+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-1036/watchers","watchCount":0,"isWatching":false},"created":"2007-10-26T17:08:30.127+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312531","id":"12312531","description":"","name":"2.3","archived":false,"released":true,"releaseDate":"2008-01-23"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2008-01-25T03:24:08.342+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12310232","id":"12310232","name":"core/index","description":"issues with indexing code"}],"timeoriginalestimate":null,"description":"Since the upcoming 2.3 version of Lucene has support for the setRAMBufferSizeMB() method in Index Writer,  I thought I would test its performance.   So, using my application that was built upon (and worked with) Lucene 2.2,  I downloaded the nightly build 2007-10-26_03-16-46 and rebuilt my application with new code setting setRAMBufferSizeMB() from a properties file.   My test data resides in a database table of 30 columns holding 1.25 million records.   The good news is that performance is superior to Lucene 2.2.  The indexing completes in roughly 1/3 the time.   The bad news is the Index Writer.optimize() step now throws an java.lang.IllegalArgumentException.\nI also run tests against various other tables.  Indexing smaller amounts of data did not throw the exception.  Indexing largers amounts of data did throw the exception.  Note, I also tested nightly builds dating back to 2007-10-05.\n\n...\nINFO:  SEIndexThread.commitCheck...\nINFO:    ----Commit point reached:  1200000\nINFO:  SEIndexThread.commitCheck...\nINFO:    ----Commit point reached:  1225000\nINFO:  SEIndexThread.commitCheck...\nINFO:    ----Commit point reached:  1250000\nINFO:  SEIndexThread.closeIndex()...\nINFO:    ----commit point reached:  1250659\nINFO:    ----optimize index\nINFO: SEIndexThread():  java.lang.IllegalArgumentException\n\njava.lang.IllegalArgumentException\n        at java.lang.Thread.setPriority(Thread.java(Compiled Code))\n        at org.apache.lucene.index.ConcurrentMergeScheduler.merge(ConcurrentMerg\neScheduler.java(Compiled Code))\n        at org.apache.lucene.index.IndexWriter.maybeMerge(IndexWriter.java:1750)\n        at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:1686)\n        at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:1652)\n        at LuceneSearchEngine.optimizeIndex(LuceneSearchEngine.java:643)\n        at LuceneSearchEngine.optimizeIndex(LuceneSearchEngine.java:636)\n        at SEIndexThread.closeIndex(SEIndexThread.java:674)\n        at SEIndexThread.processSearchObject(SEIndexThread.java:487)\n        at SEIndexThread.prepareIndex(SEIndexThread.java:391)\n        at SEIndexThread.run(SEIndexThread.java:41)\n\n","customfield_10010":null,"timetracking":{},"customfield_12310120":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10121","value":"New","id":"10121"}],"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"27011","summary":"Unreleased 2.3 version of IndexWriter.optimize()  consistly throws java.lang.IllegalArgumentException out-of-the-box","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"AIX 5.3 Unix, Java 1.4,  lucene-core-2007-10-26_03-16-46.jar","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":13,"total":13,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12538024","id":"12538024","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rengels%40ix.netcom.com","name":"rengels@ix.netcom.com","emailAddress":"rengels at ix dot netcom dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"robert engels","active":true},"body":"Can you post the full stack trace?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rengels%40ix.netcom.com","name":"rengels@ix.netcom.com","emailAddress":"rengels at ix dot netcom dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"robert engels","active":true},"created":"2007-10-26T17:10:47.354+0000","updated":"2007-10-26T17:10:47.354+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12538044","id":"12538044","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Are you using one of the IndexWriter.addIndexes* methods to combine indices in the end?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2007-10-26T18:06:07.023+0000","updated":"2007-10-26T18:06:07.023+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12538047","id":"12538047","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Also, are you calling setMaxMergeDocs?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2007-10-26T18:12:56.746+0000","updated":"2007-10-26T18:12:56.746+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12538054","id":"12538054","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Excellent, thanks!  I think I see the issue.  We default the thread priority of the threads spawned by ConcurrentMergeScheduler to 1+priority of calling thread.  But, we fail to bounds check that this is <= MAX_PRIORITY.\r\n\r\nAre your calling threads being set to MAX_PRIORITY?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2007-10-26T18:54:00.024+0000","updated":"2007-10-26T18:54:00.024+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12538091","id":"12538091","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Attached unit test that shows the issue & patch that fixes it.  I also\r\ncatch & ignore SecurityException coming out of mergeThread.setPriority\r\nsince it's fine if we fail to set the thread's priority.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2007-10-26T20:15:06.180+0000","updated":"2007-10-26T20:15:06.180+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12538432","id":"12538432","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"I just committed the above patch.  I think likely that was the issue here, but I'll leave this issue open for a while to hopefully hear confirmation back from the original poster...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2007-10-29T09:02:19.608+0000","updated":"2007-10-29T09:02:19.608+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12539866","id":"12539866","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"body":"No,  I am not executing any IndexWriter.addIndex method.  Just a\r\nstraight \r\nIndexWriter.optimize().\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"created":"2007-11-03T05:42:41.780+0000","updated":"2007-11-03T05:42:41.780+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12539867","id":"12539867","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"body":"Done.   Issue has been updated with the following info:\r\n\r\njava.lang.IllegalArgumentException\r\n        at java.lang.Thread.setPriority(Thread.java(Compiled Code))\r\n        at\r\norg.apache.lucene.index.ConcurrentMergeScheduler.merge(ConcurrentMerg\r\neScheduler.java(Compiled Code))\r\n        at\r\norg.apache.lucene.index.IndexWriter.maybeMerge(IndexWriter.java:1750)\r\n        at\r\norg.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:1686)\r\n        at\r\norg.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:1652)\r\n        at LuceneSearchEngine.optimizeIndex(LuceneSearchEngine.java:643)\r\n        at LuceneSearchEngine.optimizeIndex(LuceneSearchEngine.java:636)\r\n        at SEIndexThread.closeIndex(SEIndexThread.java:674)\r\n        at SEIndexThread.processSearchObject(SEIndexThread.java:487)\r\n        at SEIndexThread.prepareIndex(SEIndexThread.java:391)\r\n        at SEIndexThread.run(SEIndexThread.java:41)\r\n\r\n\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"created":"2007-11-03T05:42:42.002+0000","updated":"2007-11-03T05:42:42.002+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12539868","id":"12539868","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"body":"\r\n\r\nNo, I am not calling setMaxMergeDocs.    \r\n\r\n\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"created":"2007-11-03T05:42:42.403+0000","updated":"2007-11-03T05:42:42.403+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12539869","id":"12539869","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"body":"Yes, my calling thread is set to MAX_PRIORITY.\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"created":"2007-11-03T05:42:42.620+0000","updated":"2007-11-03T05:42:42.620+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12539873","id":"12539873","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"body":"I changed the priority of my thread from MAX_PRIORITY down to\r\nNORM_PRIORITY\r\nand my IndexWriter.optimize() step completes successfully.  So your\r\npatch\r\nis probably correct.  When will your patch be included in a nightly\r\nbuild?\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"created":"2007-11-03T05:42:43.699+0000","updated":"2007-11-03T05:42:43.699+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12540891","id":"12540891","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"body":"Key: LUCENE-1036\r\n\r\nMichael,\r\n\r\nI have not seen any response to my question.\r\n\r\nI changed the priority of my thread from MAX_PRIORITY down to\r\nNORM_PRIORITY\r\nand my IndexWriter.optimize() step completes successfully.  So your\r\npatch\r\nis probably correct.  When will your patch be included in a nightly\r\nbuild?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgiles","name":"rgiles","emailAddress":"rod dot giles at ventyx dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"R Giles","active":true},"created":"2007-11-07T20:55:56.488+0000","updated":"2007-11-07T20:55:56.488+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12381262/comment/12540899","id":"12540899","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"body":"Woops, sorry, I somehow missed your posts here.\r\n\r\nOK that is good to hear that the MAX_PRIORITY was in fact the issue.\r\n\r\nI committed the fix on 10/29 so you should be able to use any nightly build since then.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikemccand","name":"mikemccand","emailAddress":"lucene at mikemccandless dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael McCandless","active":true},"created":"2007-11-07T21:23:31.390+0000","updated":"2007-11-07T21:23:31.390+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/LUCENE-1036/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i04zgv:"}}