{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12467914","self":"https://issues.apache.org/jira/rest/api/latest/issue/12467914","key":"DERBY-4715","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314182","id":"12314182","description":"Old head of 10.5 branch","name":"10.5.3.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315343","id":"12315343","description":"Derby 10.6.2.1 Release","name":"10.6.2.1","archived":false,"released":true,"releaseDate":"2010-10-06"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315564","id":"12315564","description":"First release on the 10.7 branch.","name":"10.7.1.1","archived":false,"released":true,"releaseDate":"2010-12-14"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2010-07-02 19:16:24.744","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"24425","customfield_12310222":"1_*:*_1_*:*_2449950945_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-07-24T00:19:57.207+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4715/watchers","watchCount":0,"isWatching":false},"created":"2010-06-25T15:47:26.262+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"11.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313727","id":"12313727","description":"Feature release","name":"10.6.1.0","archived":false,"released":true,"releaseDate":"2010-05-18"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12332693","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12332693","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"inwardIssue":{"id":"12332982","key":"DERBY-1272","self":"https://issues.apache.org/jira/rest/api/2/issue/12332982","fields":{"summary":"Change sysinfo to print to error log (derby.log) on boot of derby  if derby.stream.error.logSeverityLevel=0","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}},{"id":"12336423","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12336423","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12493191","key":"DERBY-4944","self":"https://issues.apache.org/jira/rest/api/2/issue/12493191","fields":{"summary":"Embedded Derby does not start when derby.jar is dynamically uploaded / added to the classpath","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-12-15T13:44:55.295+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11400","id":"11400","name":"Miscellaneous"}],"timeoriginalestimate":null,"description":"The bug is part of DERBY-1272. In production environment, derby.jar can be located different than the derbyclient.jar It can be easier if we have jvm version information and path of derby.jar are in the derby.log","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10421","value":"Seen in production","id":"10421"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"37755","summary":"Write jvm information and path of derby.jar to derby.log","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"subtasks":[],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10423","value":"Newcomer","id":"10423"},{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10102","value":"Patch Available","id":"10102"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":37,"total":37,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12884542","id":"12884542","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Write java vendor, java runtime version and java fullversion, the path of derby.jar to derby.log. Please review regarding:\r\n1. Does the output looks okay?\r\n2. Whether this will create too long of output for derby.log in general.\r\n\r\nHere is a sample of how derby.log looks now:\r\n2010-07-01 21:38:01.173 GMT:\r\n Booting Derby version The Apache Software Foundation - Apache Derby - 10.7.0.0 al\r\npha - (959745M): instance a816c00e-0129-8ff1-e2bd-000000132a78\r\non database directory sun.misc.Launcher$AppClassLoader@69ba69ba  with class loader\r\n C:\\derby\\trunk\\testtmp\\test\r\nLoaded from C:\\derby\\trunk\\jars\\sane\\derby.jar\r\njava.vendor=IBM Corporation java.runtime.version=pwi32dev-20090707 (SR10 ) J2RE 1.\r\n5.0 IBM J9 2.3 Windows Vista x86-32 j9vmwi3223-20090707 (JIT enabled)\r\nJ9VM - 20090706_38445_lHdSMr\r\nJIT  - 20090623_1334_r8\r\nGC   - 200906_09java.fullversion=J2RE 1.5.0 IBM J9 2.3 Windows Vista x86-32 j9vmwi\r\n3223-20090707 (JIT enabled)\r\nJ9VM - 20090706_38445_lHdSMr\r\nJIT  - 20090623_1334_r8\r\nGC   - 200906_09\r\n^M\r\nDatabase Class Loader started - derby.database.classpath=''^M","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-02T04:47:54.060+0000","updated":"2010-07-02T04:47:54.060+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12884716","id":"12884716","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"The tests passed on derbyall and Suites.allpackages","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-02T15:25:36.550+0000","updated":"2010-07-02T15:25:36.550+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12884786","id":"12884786","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Hi Lily,\r\n\r\nCould you make sure something reasonable happens if there is no permission in the policy file for reading the system properties, getting the source location etc.   We should still boot and communicate that there is not sufficient permission to report the information  but not in an alarming way.\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2010-07-02T19:16:24.744+0000","updated":"2010-07-02T19:16:24.744+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12885846","id":"12885846","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thanks to Kathey. DERBY-4715-2.diff patch will boot and communicate there is not sufficient permission to derby.log for derby.jar. If there is no permission for print out java.runtime.version or java.fullversion, there will only print java vendor information to derby.log \r\n\r\nSuites.all test is passed. It is running derbyall test suite. Please review the patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-07T06:23:06.326+0000","updated":"2010-07-07T06:23:06.326+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12886057","id":"12886057","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"derbyall test passed with the patch too.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-07T20:17:04.711+0000","updated":"2010-07-07T20:17:04.711+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12886994","id":"12886994","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thanks to Kathey for point out BaseDataFileFactory.buildJvmVersion should use AccessController.doPrivileged to handle derby under a security manager.\r\nI check the derby.log to make sure boot and communicate that there is not sufficient permission to report the information for derby.jar and java version. \r\n\r\nSuites.all test suite passed. I am running derbyall now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-10T04:52:09.383+0000","updated":"2010-07-10T04:52:09.383+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12887028","id":"12887028","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"derbyall suites run clean too. Granting permissions to Derby need some write up for runtime permission on getProtectionDomain and maybe for PropertyPermission on java.runtime.version and java.fullversion. I will issue another JIRA to address the documentation issue relate to this JIRA. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-10T13:28:58.729+0000","updated":"2010-07-10T13:28:58.729+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12887108","id":"12887108","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thanks Bryan for catching that. Do you see any potential issue with the patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-10T23:02:46.887+0000","updated":"2010-07-10T23:02:46.887+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12887112","id":"12887112","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"body":"I think the patch looks good; the format of the message is OK by me.\r\n\r\nThe new utility methods in BaseDataFileFactory seem very useful,\r\nbut it doesn't seem quite right to place them in BaseDataFileFactory.\r\nIt seems like maybe they should go into a package like\r\norg.apache.derby.iapi.util. Perhaps we need a UriUtil class there?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bryanpendleton","name":"bryanpendleton","emailAddress":"bpendleton dot derby at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bryan Pendleton","active":true},"created":"2010-07-10T23:21:36.135+0000","updated":"2010-07-10T23:21:36.135+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12887159","id":"12887159","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"A couple comments in addition to what Bryan said:\r\n\r\n- The methods jarClassPath() and buildJvmVersion() have different indentation than the other methods.\r\n\r\n- If formatURL() gets an IOException, it returns the string \"IOException\". Perhaps it should also return the exception's message text?\r\n\r\n- I don't follow all the logic in formatURL(). Could you add some comments that explain the various transformations? In my environment, just printing what URL.toString() returns gives clear enough information:\r\n\r\nfile:/code/derby/trunk0/classes/ or\r\nfile:/code/derby/trunk0/jars/sane/derby.jar\r\n\r\n- For readability, I think it would be better to separate the properties with a newline character instead of a space.\r\n\r\n- The comments in the policy files say \"Add for DERBY-4715\". I think it would be better if they said why the permission was needed since we include them as templates in the distribution and refer to them from the documentation[1], so they are expected to be read by users. Perhaps something like \"getProtectionDomain is an optional permission needed for printing classpath information to derby.log.\"\r\n\r\n- In server.policy and template.policy, the new permission is added in the section that is labeled \"These permissions are needed for everyday, embedded Derby usage.\" My understanding of the patch is that the new permission is optional, and embedded Derby will work fine without it, it just won't print the classpath to derby.log. If it's so, I'd suggest moving it to a less prominent section of the policy files.\r\n\r\n- Similarly, in AssertFailureTest.policy, the permission is added under the label \"These are the ones that matter\", but AssertFailureTest runs fine without it.\r\n\r\n[1] http://db.apache.org/derby/docs/dev/adminguide/tadminnetservcustom.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-07-11T09:09:34.538+0000","updated":"2010-07-11T09:09:34.538+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12887221","id":"12887221","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I have not looked at the updated patch yet, but I know that sometimes it is tempting to put methods requiring permissions in public methods of utility classes, but it is generally not a good idea to do so as it allows external users to access those permissions granted to Derby.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2010-07-11T19:21:41.758+0000","updated":"2010-07-11T19:21:41.758+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12887286","id":"12887286","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"body":"Regarding the public methods in utility classes, I think it is fine to create (and use them) if they add value, but the utility method should not include the call to doPrivileged. Instead, the calling code (which is hopefully not easily accessible and controllable for external users) should call the utility method inside a doPrivileged-block.\r\nThe above approach isn't as compact, but Kathey is right that adding public (static) utility methods with doPrivileged-blocks is dangerous.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"created":"2010-07-12T07:00:29.098+0000","updated":"2010-07-12T07:00:29.098+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12887533","id":"12887533","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thanks Knut, Kathey and Kristian for all the commets.\r\nI made the following changes and attach DERBY-4715-4.diff patch for review.\r\n\r\nComments:\r\n- The methods jarClassPath() and buildJvmVersion() have different indentation than the other methods. \r\nChanges according to the current file indentation. Right now, the method starts at space 5 while the context starts at space 9. \r\n\r\n- If formatURL() gets an IOException, it returns the string \"IOException\". Perhaps it should also return the exception's message text? \r\nIt will be return message text for IOException now.\r\n\r\n- I don't follow all the logic in formatURL(). Could you add some comments that explain the various transformations? In my environment, just printing what URL.toString() returns gives clear enough information: \r\n\r\nfile:/code/derby/trunk0/classes/ or \r\nfile:/code/derby/trunk0/jars/sane/derby.jar \r\nGreat point. I always believe coding less is better. Use URL.toString() in the code.\r\n\r\n- For readability, I think it would be better to separate the properties with a newline character instead of a space. \r\nThe property is separated by a newline instead of a space.\r\n\r\n- The comments in the policy files say \"Add for DERBY-4715\". I think it would be better if they said why the permission was needed since we include them as templates in the distribution and refer to them from the documentation[1], so they are expected to be read by users. Perhaps something like \"getProtectionDomain is an optional permission needed for printing classpath information to derby.log.\" \r\nAll the comment relate to java.lang.RuntimePermission is using this comment.\r\n\r\n- In server.policy and template.policy, the new permission is added in the section that is labeled \"These permissions are needed for everyday, embedded Derby usage.\" My understanding of the patch is that the new permission is optional, and embedded Derby will work fine without it, it just won't print the classpath to derby.log. If it's so, I'd suggest moving it to a less prominent section of the policy files. \r\nPut the java.lang.RuntimePermission \"getProtectionDomain\" and the comment in its own section\r\n\r\n- Similarly, in AssertFailureTest.policy, the permission is added under the label \"These are the ones that matter\", but AssertFailureTest runs fine without it.\r\nMake similar change as above and place in less prominent section.\r\n\r\nRegarding the public methods in utility classes, there are two new methods - jarClassPatha and buildJvmVersion after removing formatUrl() in BaseDataFileFactory.java. They are not so generic to be used or provide a lot of value in the utility classes.\r\n\r\nI am running tests against this patch now.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-12T21:11:39.259+0000","updated":"2010-07-12T21:11:39.259+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12887688","id":"12887688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks for making these improvements, Lily. A couple more comments to the latest patch:\r\n\r\n- The javadoc for jarClassPath() is a little unclear. I don't understand what's meant by \"the path of string\" or by \"the string of jar file\".\r\n\r\n- The javadoc for buildJvmVersion() should make it clear that it returns values of system properties that identify the JVM.\r\n\r\n- buildJvmVersion() has a @param tag, but the method has no parameters.\r\n\r\n- Now that we add a newline character between each property, there's no need to append \" \" (one space) to each property value.\r\n\r\n- If jarClassPath() had taken a Class argument instead of a String argument, and we called it like \"jarCPath = jarClassPath(getClass());\", there would be no need to call Class.forName(), and we could remove the catch block for ClassNotFoundException.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-07-13T08:06:50.851+0000","updated":"2010-07-13T08:06:50.851+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12887824","id":"12887824","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thanks Knut for reviewing the patch. I make the following changes in DERBY-4715-5.diff\r\n- The javadoc for jarClassPath() is a little unclear. I don't understand what's meant by \"the path of string\" or by \"the string of jar file\".\r\njavadoc is changed. I am using similar comment from Main.java. Hope it is clearer now. \r\n\r\n- The javadoc for buildJvmVersion() should make it clear that it returns values of system properties that identify the JVM.\r\nAdd this to the javadoc on buildJvmVersion()\r\n\r\n- buildJvmVersion() has a @param tag, but the method has no parameters.\r\nIt is not there any more.\r\n\r\n- Now that we add a newline character between each property, there's no need to append \" \" (one space) to each property value.\r\nGreat catch. Change to not append \" \".\r\n\r\n- If jarClassPath() had taken a Class argument instead of a String argument, and we called it like \"jarCPath = jarClassPath(getClass());\", there would be no need to call Class.forName(), and we could remove the catch block for ClassNotFoundException.\r\nAfter using getClass() to get the class instance for the BaseDataFileFactory class which is also in derby.jar, no need to call Class.forName() and catch block for ClassNotFoundException. Please review the change. \r\n\r\nI am running tests now.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-13T16:16:51.463+0000","updated":"2010-07-13T16:16:51.463+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12888248","id":"12888248","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks, Lily. The latest patch looks fine to me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-07-14T08:39:57.572+0000","updated":"2010-07-14T08:39:57.572+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12888412","id":"12888412","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thank you, Knut. Yeah! Suites.all and derbyall seem to run fine except:\r\n1) ttestSetPortPriority(org.apache.derbyTesting.functionTests.tests.derbynet.Serve\r\nrPropertiesTest)junit.framework.AssertionFailedError: Port 1537 exceeeds expected\r\nmaximum. You may need to update TestConfiguration.MAX_PORTS_USED and the Wiki page\r\n at http://wiki.apache.org/db-derby/DerbyJUnitTesting if test runs now require mor\r\ne available ports\r\n        at org.apache.derbyTesting.junit.TestConfiguration.getNextAvailablePort(Te\r\nstConfiguration.java:1413)\r\n        at org.apache.derbyTesting.functionTests.tests.derbynet.ServerPropertiesTe\r\nst.ttestSetPortPriority(ServerPropertiesTest.java:445)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.ja\r\nva:48)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccesso\r\nrImpl.java:37)\r\n        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:10\r\n9)\r\n        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\r\n\r\nThis failure is a known issue by the group.\r\n\r\nDERBY-4715-5.diff is ready to submit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-14T16:13:25.952+0000","updated":"2010-07-14T16:13:25.952+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12889392","id":"12889392","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Thanks Lily, I will commit first thing Monday if your account does not come through by then.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2010-07-16T23:11:07.915+0000","updated":"2010-07-16T23:11:07.915+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12890230","id":"12890230","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Sorry, I missed one issue when I looked through the patch:\r\n\r\nIn BaseDataFileFactory.java, there's this diff:\r\n\r\n \t\t\t   MessageService.getTextMessage(MessageId.STORE_BOOT_MSG,\r\n                                              jbmsVersion,\r\n                                              identifier,\r\n-                                             dataDirectory + \" \" + readOnlyMsg,\r\n                                              // cast to Object so we get object hash code\r\n-                                             (Object) this.getClass().getClassLoader()\r\n+                                             (Object) this.getClass().getClassLoader(),\r\n+                                             dataDirectory + \" \" + readOnlyMsg \r\n+                                             +\"\\nLoaded from \" + jarCPath + \"\\n\" +jvmVersion\r\n                                              ));\r\n\r\nSince we hard-code English text as an argument to STORE_BOOT_MSG, only parts of the message will be translated in non-English locales. We should instead add extra arguments to the STORE_BOOT_MSG message and make the hard-coded English strings part of the message text in messages.xml.\r\n\r\nAlso, the patch changed the order of the arguments in that call, so now the message looks like this:\r\n\r\nBooting Derby version The Apache Software Foundation - Apache Derby - 10.7.0.0 alpha - (1): instance a816c00e-0129-ef61-4e78-00000348df10 \r\non database directory sun.misc.Launcher$AppClassLoader@13f5d07  with class loader /tmp/testdb\r\n\r\nNote that it says that \"sun.misc.Launcher$AppClassLoader@13f5d07\" is a database directory and \"/tmp/testdb\" is a class loader, but it should have been the other way around.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-07-20T10:27:23.817+0000","updated":"2010-07-20T10:27:23.817+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12890293","id":"12890293","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Oops! Thank you for point this out.\r\nI change the order in BaseDataFileFactory.java to reflect the new messages.xml which has text 'Loaded from \" And, I add the method in MessageService to accept one more Object (String)\r\nThis is not for commit yet. I am still running tests.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-20T16:15:11.969+0000","updated":"2010-07-20T16:15:11.969+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12890614","id":"12890614","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks Lily.\r\n\r\nAfter the last patch, the message looks like this:\r\n\r\nBooting Derby version The Apache Software Foundation - Apache Derby - 10.7.0.0 alpha - (1): instance a816c00e-0129-f436-4fd9-00000348e710 \r\non database directory /tmp/db  \r\nLoaded from file:/code/derby/trunk0/classes/\r\njava.vendor=Sun Microsystems Inc.\r\njava.runtime.version=1.6.0_21-b06 with class loader sun.misc.Launcher$AppClassLoader@17182c1\r\n\r\nI think it would be better if the \"with class loader\" part came straight after \"on database directory (...)\" and not on the java.runtime.version line.\r\n\r\nWould it make sense to add an extra parameter for jvmVersion? It feels a bit strange to have jvmVersion as a part of the JarClassPath parameter. Or perhaps it's cleaner to move jvmVersion out of that message altogether, and instead add a call to \"logMsg(jvmVersion);\" after having printed the boot message?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-07-21T09:04:20.966+0000","updated":"2010-07-21T09:04:20.966+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12890754","id":"12890754","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thank Knut for reviewing the patch.\r\n\r\n\"with class loader\" comes straight after \"on database directory (...)\" now.\r\nAnd, logMsg(jvmVersion) is after printed the boot message\r\n\r\nI did not take out the space for \"Booting ...\" message. Should I go ahead and take it out?\r\n\r\nI am running tests now.\r\n\r\nThis is the message on my screen, please review it:\r\n----------------------------------------------------------------\r\n2010-07-21 15:45:10.935 GMT:\r\n Booting Derby version The Apache Software Foundation - Apache Derby - 10.7.0.0 al\r\npha - (965674M): instance a816c00e-0129-f5ae-0a4d-000000c1b4f8\r\non database directory C:\\derby\\trunk\\testtmp\\test2  with class loader sun.misc.Lau\r\nncher$AppClassLoader@11b86e7\r\nLoaded from file:/C:/derby/trunk/jars/sane/derby.jar\r\njava.vendor=Sun Microsystems Inc.\r\njava.runtime.version=1.6.0_20-b02\r\nDatabase Class Loader started - derby.database.classpath=''\r\n\r\n2010-07-21 15:45:14.145 GMT:\r\nShutting down instance a816c00e-0129-f5ae-0a4d-000000c1b4f8 with class loader sun.\r\nmisc.Launcher$AppClassLoader@11b86e7 \r\n----------------------------------------------------------------\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-21T15:48:13.893+0000","updated":"2010-07-21T15:48:13.893+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12890788","id":"12890788","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Thanks Lily. I think the latest changes look good. I agree that removing the initial space in that message sounds like a good idea.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-07-21T17:33:29.403+0000","updated":"2010-07-21T17:33:29.403+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12890841","id":"12890841","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thanks, Knut. \r\nI attach patch DERBY-4715-8.diff with the same changes as last one and take out the space for \"Boot....\"\r\nThis is what it looks like now. Please review it:\r\n----------------------------------------------------------------\r\n2010-07-21 18:43:02.968 GMT:\r\nBooting Derby version The Apache Software Foundation - Apache Derby - 10.7.0.0 alp\r\nstance a816c00e-0129-f650-e20c-000000c1b4f8\r\non database directory C:\\derby\\trunk\\testtmp\\test  with class loader sun.misc.Laun\r\nr@11b86e7\r\nLoaded from file:/C:/derby/trunk/jars/sane/derby.jar\r\njava.vendor=Sun Microsystems Inc.\r\njava.runtime.version=1.6.0_20-b02\r\nDatabase Class Loader started - derby.database.classpath=''\r\n\r\n2010-07-21 18:43:06.484 GMT:\r\nShutting down instance a816c00e-0129-f650-e20c-000000c1b4f8 with class loader sun.\r\nlassLoader@11b86e7\r\n----------------------------------------------------------------\r\nThe tests are still running. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-21T19:27:58.282+0000","updated":"2010-07-21T19:27:58.282+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12890861","id":"12890861","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chaase3","name":"chaase3","emailAddress":"camilla dot haase at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kim Haase","active":true},"body":"It seems likely that the fix to this issue, like the one for DERBY-4601, will affect the messages shown in the Getting Started guide. Perhaps the documentation issue for that issue can reflect these changes too.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chaase3","name":"chaase3","emailAddress":"camilla dot haase at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kim Haase","active":true},"created":"2010-07-21T19:55:17.522+0000","updated":"2010-07-21T19:55:17.522+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12890937","id":"12890937","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thanks Kim for looking into this issue. The documentation issue is like DERBY-4601. Once we have a JIRA for that issue, we shall include all the information on there. \r\n\r\nDERBY-4715-8.diff pass Suites.all and derbyall tests. It is ready to commit. Thanks!!!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-21T22:35:02.810+0000","updated":"2010-07-21T22:35:02.810+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12891036","id":"12891036","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"The latest patch looks fine to me. It looks like you'll get your commit privileges very soon now, so I'll leave this one for you to commit yourself. :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2010-07-22T07:16:25.962+0000","updated":"2010-07-22T07:16:25.962+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12891883","id":"12891883","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Change BaseDataFileFactory.boot() hard-code English message, message order and \r\ntaknt of boot message with DERBY-4716-8.diff subversion 967304","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-24T00:19:57.184+0000","updated":"2010-07-24T00:19:57.184+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12892698","id":"12892698","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"body":"Just in case it wasn't a deliberate choice, the commit added both spaces and tabs for indentation.\r\nI still don't think the community has agreed formally on this issue, but personally I'm always using spaces for indentation (I configured my editor/IDE to insert spaces when I press the TAB key on my keyboard).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"created":"2010-07-27T09:11:40.224+0000","updated":"2010-07-27T09:11:40.224+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12892964","id":"12892964","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thank you for reviewing the patch, Kristian. I will prefer using spaces for indentation as well.\r\nHowever, for file BaseDataFileFactory.java, there are way too many lines changes if I save spaces as tab for indentation using editor/IDE to insert spaces when I press the TAB key. That is why both spaces and tab were using for the patch. I think it is also important to keep history as we introduce insert spaces as tab for indentation going forward. We could have a project that only changes tab to spaces.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-07-27T22:31:25.982+0000","updated":"2010-07-27T22:31:25.982+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12893091","id":"12893091","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"body":"Yes, I agree that we should not change the indentation for lines we don't touch in a patch. My point was about lines added or changed as part of a patch.\r\nDue to better tools this mixing of tabs and spaces isn't such a big deal any more, but still the tools mess up at times (for instance changing the indentation on lines not changed by the fix itself, or when viewing diffs/code in a terminal).\r\n\r\nFor the curious, here's where we stand today:\r\n\r\nWhitespace characteristics (r967304)\r\n==================================\r\n* Files\r\nSpaces only :     1056      37.34%\r\nTabs only   :        0       0.00%\r\nMixed       :     1772      62.66%\r\n\r\n* Lines\r\nSpaces only :   597974      52.23%\r\nTabs only   :   281128      24.55%\r\nMixed       :    87550       7.65%\r\nBlank       :   131378      11.47%\r\nNo indent   :    46943       4.00%\r\n\r\n\r\nWe can see that even changing just the lines which mix both tabs and spaces would cause a huge amount of noise (and, as you say, make digging in the Derby history more difficult), which is why I'm most comfortable with just letting the situation improve gradually. Then, in a rather distant future... ;)\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"created":"2010-07-28T07:22:41.909+0000","updated":"2010-07-28T07:22:41.909+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12894901","id":"12894901","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"I back port the fix for two changelist 965647 and 967304 to 10.5 and 10.6 port. Attach the patch files. Please review it. Both pass suites.all and derbyall test suites on 10.5 and 10.6. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-08-03T15:20:38.510+0000","updated":"2010-08-03T15:20:38.510+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12895349","id":"12895349","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"body":"If the fix merged cleanly (svn merge succeeded), and you were able to do a clean build and ran the tests without (new) errors, you can basically commit.\r\nI prefer to do a clean build to make sure all changes are picked up; I run 'ant clobber all buildjars'. In some rare cases you can also introduce JavaDoc errors by doing a backport, so it doesn't hurt to run the JavaDoc target either. For the newer branches this will be picked up by the Hudson build jobs, and a mail will be sent to derby-dev (plus the committer(s) who introduced the change(s)).\r\n\r\nYou may have seen this already, but there are some guidelines at http://wiki.apache.org/db-derby/MoveAChangeBetweenBranches\r\nFrom a quick glance, it seems you can save yourself some time by not posting patches if the merge is clean :)\r\nThe wiki-page seems to be rather up to date, but I think there are a few issues there that would benefit from a refresh.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"created":"2010-08-04T18:18:55.914+0000","updated":"2010-08-04T18:18:55.914+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12895429","id":"12895429","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thanks Kristian for reviewing the merge code. After 'ant clobber all buildjars' and 'ant javadoc', suites.All and derbyall test suites are passing. I did some tests against ibm jvm for this merge. I commit the merge to 10.5 and 10.6 branches.\r\n\r\nI hope Hudson build will pick up the changelist. I did not get emails after commit my code.  I hope not receiving emails will not delay me to react to any issue cause by my commit. However, I know you guys are always watching too. Please let me know if there is anything I should pay attention to. \r\n\r\nThe wiki-page is very helpful. Thank you. I shall add any new information as I discover them. The new svn is 982370(10.6) and 982401(10.5).\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-08-04T21:24:16.135+0000","updated":"2010-08-04T21:24:16.135+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12895573","id":"12895573","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"body":"Thanks, Lily.\r\n\r\nYou only get an email from Hudson if something goes wrong with the build. As you can see here [1], it didn't find any problems with your backport to 10.6.\r\nThe job is checking the repos hourly, and the job itself is quickly done, so if you introduce a build break (or a JavaDoc warning) you should get an email within one and a half hour or so.\r\n\r\nAnother tip when merging a single revision is to use svn merge -c REV instead of svn merge -r  REV-1:REV.\r\n\r\n\r\n[1] http://hudson.zones.apache.org/hudson/job/Derby-branch-10.6/23/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kristwaa","name":"kristwaa","emailAddress":"kristwaa at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=kristwaa&avatarId=14736","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kristwaa&avatarId=14736","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kristwaa&avatarId=14736","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kristwaa&avatarId=14736"},"displayName":"Kristian Waagan","active":true},"created":"2010-08-05T07:02:37.100+0000","updated":"2010-08-05T07:02:37.100+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12895688","id":"12895688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Thanks, Kristian.\r\n\r\nIt makes my day to know that Hudson does not find any problems with my backport. I finally know the build details on Hudson. That is so good to know. \r\n\r\nMyrna also told me about svn merge -c REV tip. I was using that do to this merge. I will close this JIRA. It is more belong to additional information is needed category.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-08-05T14:07:51.340+0000","updated":"2010-08-05T14:07:51.340+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467914/comment/12896595","id":"12896595","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"body":"Add fix version.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lilywei","name":"lilywei","emailAddress":"lilywei at yahoo dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lily Wei","active":true},"created":"2010-08-09T15:45:15.643+0000","updated":"2010-08-09T15:45:15.643+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4715/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06trb:"}}