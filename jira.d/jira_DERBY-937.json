{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12328722","self":"https://issues.apache.org/jira/rest/api/latest/issue/12328722","key":"DERBY-937","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-03-07 07:46:56.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22212","customfield_12310222":"1_*:*_1_*:*_12185981000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_1033053000","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-06-30T01:34:18.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-937/watchers","watchCount":1,"isWatching":false},"created":"2006-02-09T00:34:37.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12311953","id":"12311953","description":"","name":"10.1.3.1","archived":false,"released":true,"releaseDate":"2006-06-30"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12313316","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12313316","type":{"id":"10020","name":"Cloners","inward":"is cloned by","outward":"is a clone of","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10020"},"inwardIssue":{"id":"12349074","key":"DERBY-1801","self":"https://issues.apache.org/jira/rest/api/2/issue/12349074","fields":{"summary":"Reoccurrence of JIRA-937: Instability in wisconsin test","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/4","description":"This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/reopened.png","name":"Reopened","id":"4","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12316684","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12316684","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12349074","key":"DERBY-1801","self":"https://issues.apache.org/jira/rest/api/2/issue/12349074","fields":{"summary":"Reoccurrence of JIRA-937: Instability in wisconsin test","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/4","description":"This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/reopened.png","name":"Reopened","id":"4","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andreask","name":"andreask","emailAddress":"andreas dot korneliussen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andreas Korneliussen","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-01T00:13:01.625+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11413","id":"11413","name":"Test"}],"timeoriginalestimate":null,"description":"The lang/wisconsin.java test prints out query plans. These plans differ depending on your platform. When run under cygwin on xp, the plans vary from the canonized results. I am seeing this instability in my own test environment and in the tinderbox tests against cygwin.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38564","summary":"Instability in wisconsin test","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":13,"total":13,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12369105","id":"12369105","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"I am now also seeing this test fail in my standard development enviornment: windows XP, single processor ~1.8 ghz laptop, sane classes, both sun jdk1.4 and sun jdk 1.5.  I had not seen this failure in my test runs in the sun jdk1.4 environment before 3/3/06.\r\n\r\nAn example diff, from a clean build on trunk:\r\n*** Start: wisconsin jdk1.5.0_02 2006-03-06 12:42:01 ***\r\n0a1\r\n> -- SecurityManager not installed --\r\n594 del\r\n< Nested Loop Exists Join ResultSet:\r\n594a595\r\n> Hash Exists Join ResultSet:\r\n605 del\r\n< \tNested Loop Exists Join ResultSet:\r\n605a606\r\n> \tHash Exists Join ResultSet:\r\n645 del\r\n< \t\tColumns accessed from heap = {0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}\r\n645a646\r\n> \t\tColumns accessed from heap = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}\r\n650 del\r\n< \t\t\tIndex Scan ResultSet for TENKTUP1 using index TK1UNIQUE2 at serializable isolation level using share row locking chosen by the optimizer\r\n650a651\r\n> \t\t\tHash Scan ResultSet for TENKTUP1 using index TK1UNIQUE2 at serializable isolation level using share row locking: \r\n651a653,654\r\n> \t\t\tHash table size = 1000\r\n> \t\t\tHash key is column number 0\r\n654d656\r\n< \t\t\tFetch Size = 1\r\n664 del\r\n< \t\t\t\tNumber of pages visited=2\r\n665 del\r\n< \t\t\t\tNumber of rows qualified=1\r\n666 del\r\n< \t\t\t\tNumber of rows visited=1\r\n666a666,668\r\n> \t\t\t\tNumber of pages visited=7\r\n> \t\t\t\tNumber of rows qualified=1000\r\n> \t\t\t\tNumber of rows visited=1001\r\n669a672,673\r\n> \tNone\r\n> \t\t\t\tstop position: \r\n673 del\r\n< \t\t\t\tstop position: \r\n674 del\r\n< \t> on first 1 column(s).\r\n675 del\r\n< \tOrdered null semantics on the following columns: \r\n676 del\r\n< 0 \r\n677 del\r\n< \t\t\t\tqualifiers:\r\n677a677,679\r\n> \t\t\t\tscan qualifiers:\r\n> None\r\n> \t\t\t\tnext qualifiers:\r\n679 del\r\n< Operator: <\r\n679a681\r\n> Operator: =\r\n687 del\r\n< \tColumns accessed from heap = {0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}\r\n687a689\r\n> \tColumns accessed from heap = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}\r\n692 del\r\n< \t\tIndex Scan ResultSet for TENKTUP2 using index TK2UNIQUE2 at serializable isolation level using share row locking chosen by the optimizer\r\n692a694\r\n> \t\tHash Scan ResultSet for TENKTUP2 using index TK2UNIQUE2 at serializable isolation level using share row locking: \r\n693a696,697\r\n> \t\tHash table size = 1000\r\n> \t\tHash key is column number 0\r\n696d699\r\n< \t\tFetch Size = 1\r\n705 del\r\n< \t\t\tNumber of pages visited=0\r\n706 del\r\n< \t\t\tNumber of rows qualified=0\r\n707 del\r\n< \t\t\tNumber of rows visited=0\r\n707a708,710\r\n> \t\t\tNumber of pages visited=7\r\n> \t\t\tNumber of rows qualified=1000\r\n> \t\t\tNumber of rows visited=1001\r\n710a714,715\r\n> \tNone\r\n> \t\t\tstop position: \r\n714 del\r\n< \t\t\tstop position: \r\n715 del\r\n< \t> on first 1 column(s).\r\n716 del\r\n< \tOrdered null semantics on the following columns: \r\n717 del\r\n< 0 \r\n718 del\r\n< \t\t\tqualifiers:\r\n718a719,721\r\n> \t\t\tscan qualifiers:\r\n> None\r\n> \t\t\tnext qualifiers:\r\n724,728d726\r\n< Column[0][1] Id: 0\r\n< Operator: <\r\n< Ordered nulls: false\r\n< Unknown return value: false\r\n< Negate comparison result: false\r\n984 del\r\n< Nested Loop Exists Join ResultSet:\r\n984a982\r\n> Hash Exists Join ResultSet:\r\n995 del\r\n< \tNested Loop Exists Join ResultSet:\r\n995a993\r\n> \tHash Exists Join ResultSet:\r\n1035 del\r\n< \t\tColumns accessed from heap = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}\r\n1035a1033\r\n> \t\tColumns accessed from heap = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}\r\n1040 del\r\n< \t\t\tIndex Scan ResultSet for TENKTUP1 using index TK1UNIQUE1 at serializable isolation level using share row locking chosen by the optimizer\r\n1040a1038\r\n> \t\t\tHash Scan ResultSet for TENKTUP1 using index TK1UNIQUE1 at serializable isolation level using share row locking: \r\n1041a1040,1041\r\n> \t\t\tHash table size = 1000\r\n> \t\t\tHash key is column number 0\r\n1044d1043\r\n< \t\t\tFetch Size = 1\r\n1054 del\r\n< \t\t\t\tNumber of pages visited=2\r\n1055 del\r\n< \t\t\t\tNumber of rows qualified=1\r\n1056 del\r\n< \t\t\t\tNumber of rows visited=1\r\n1056a1053,1055\r\n> \t\t\t\tNumber of pages visited=7\r\n> \t\t\t\tNumber of rows qualified=1000\r\n> \t\t\t\tNumber of rows visited=1001\r\n1059a1059,1060\r\n> \tNone\r\n> \t\t\t\tstop position: \r\n1063 del\r\n< \t\t\t\tstop position: \r\n1064 del\r\n< \t> on first 1 column(s).\r\n1065 del\r\n< \tOrdered null semantics on the following columns: \r\n1066 del\r\n< 0 \r\n1067 del\r\n< \t\t\t\tqualifiers:\r\n1067a1064,1066\r\n> \t\t\t\tscan qualifiers:\r\n> None\r\n> \t\t\t\tnext qualifiers:\r\n1069 del\r\n< Operator: <\r\n1069a1068\r\n> Operator: =\r\n1077 del\r\n< \tColumns accessed from heap = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}\r\n1077a1076\r\n> \tColumns accessed from heap = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}\r\n1082 del\r\n< \t\tIndex Scan ResultSet for TENKTUP2 using index TK2UNIQUE1 at serializable isolation level using share row locking chosen by the optimizer\r\n1082a1081\r\n> \t\tHash Scan ResultSet for TENKTUP2 using index TK2UNIQUE1 at serializable isolation level using share row locking: \r\n1083a1083,1084\r\n> \t\tHash table size = 1000\r\n> \t\tHash key is column number 0\r\n1086d1086\r\n< \t\tFetch Size = 1\r\n1095 del\r\n< \t\t\tNumber of pages visited=0\r\n1096 del\r\n< \t\t\tNumber of rows qualified=0\r\n1097 del\r\n< \t\t\tNumber of rows visited=0\r\n1097a1095,1097\r\n> \t\t\tNumber of pages visited=7\r\n> \t\t\tNumber of rows qualified=1000\r\n> \t\t\tNumber of rows visited=1001\r\n1100a1101,1102\r\n> \tNone\r\n> \t\t\tstop position: \r\n1104 del\r\n< \t\t\tstop position: \r\n1105 del\r\n< \t> on first 1 column(s).\r\n1106 del\r\n< \tOrdered null semantics on the following columns: \r\n1107 del\r\n< 0 \r\n1108 del\r\n< \t\t\tqualifiers:\r\n1108a1106,1108\r\n> \t\t\tscan qualifiers:\r\n> None\r\n> \t\t\tnext qualifiers:\r\n1114,1118d1113\r\n< Column[0][1] Id: 0\r\n< Operator: <\r\n< Ordered nulls: false\r\n< Unknown return value: false\r\n< Negate comparison result: false\r\nTest Failed.\r\n*** End:   wisconsin jdk1.5.0_02 2006-03-06 12:43:02 ***\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2006-03-07T07:46:56.000+0000","updated":"2006-03-07T07:46:56.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12369112","id":"12369112","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"I noticed that the wisconsin test attempts to run with the \"noTimeout\" property set to true,  but in the wisconsin_derby.properties file, there's actually a typo:\r\n\r\nderby.optimize.noTimeout=true\r\n\r\nThere is an \"r\" missing after the word \"optimize\"; i.e. the property should be:\r\n\r\nderby.optimizer.noTimeout=true\r\n\r\nWhile I am still unable to reproduce the diff on my own machine, and while the Tinderbox tests on most platforms do _not_ show the diff you posted, it's nonetheless possible that for different machines the optimizer is timing out at different times, causing the diff.\r\n\r\nWith that in mind I corrected the typo locally and re-ran the test; when I did so, it still passed for me.  So if possible could you (or anyone else seeing this diff) correct the typo in wisconsin_derby.properties file and then run again to see if the test still fails?\r\n\r\nMarch 3rd was the day my optimizer changes for DERBY-805 went into the codeline, so if the test has been failing consistently for you since then, and if fixing the properties typo doesn't help, then I'll have to look more closely at this to see what role my DERBY-805 changes might have here...\r\n\r\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2006-03-07T08:32:38.000+0000","updated":"2006-03-07T08:32:38.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12369347","id":"12369347","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"I submitted the suggested change for the property, unfortunately  I still get diffs on my machine with this test in a clean\r\ncodeline.\r\n\r\nDERBY-937\r\n\r\nFixing typo in the no timeout setting for this test.  it should have\r\nbeen derby.optimizer.noTimeout=true not derby.optimize.noTimeout=true.\r\nUnfortunately did this did not fix the diffs I am seeing on my machine, but\r\nit clearly makes sense for this test to set no timeout to eliminate the\r\nvariance of running this test on a number of different speeds of hardware.\r\nMaybe this change will help others, at least it will eliminate one variable\r\nas we continue to track down the cause.\r\n\r\nm3_142:204>svn commit\r\n\r\nSending        java\\testing\\org\\apache\\derbyTesting\\functionTests\\tests\\lang\\wisconsin_derby.properties\r\nTransmitting file data .\r\nCommitted revision 384083.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2006-03-08T09:17:07.000+0000","updated":"2006-03-08T09:17:07.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12378686","id":"12378686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"With derby jars at  10.1.2.4 - (400222) , 05/05 regression test run of derbyall on 10.1 codeline shows failure with wisconsin test with wctme5.7.  In the diff, at the end -there is this line.\r\n> ERROR 40XT0: An internal error was identified by RawStore module.\r\n\r\nI'll attach the report and other files to this issue. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2006-05-10T01:40:25.000+0000","updated":"2006-05-10T01:40:25.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12378696","id":"12378696","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"Attaching test diff files for the failure on 10.1 on 05/05/2006. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2006-05-10T02:06:27.000+0000","updated":"2006-05-10T02:06:27.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12378727","id":"12378727","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"The issue of  > ERROR 40XT0: An internal error was identified by RawStore module. sounds like a different issue.  The only instability I know of is a difference in plans.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-05-10T03:08:55.000+0000","updated":"2006-05-10T03:08:55.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12378735","id":"12378735","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"body":"wisconsin test has been enabled to run with j2me/foundation only in the trunk. It was not enabled in 10.1 branch. The exclude lines got removed from wisconsin_app.properties as part of port for DERBY-616 and hence we are seeing the failure. \r\n\r\nThe issue \"ERROR 40XT0: An internal error was identified by RawStore module\" is actually caused by another exception which can be seen earlier in the diff file: \"ERROR XJ001: Java exception: java.math.BigDecimal: java.lang.NoClassDefFoundError'.\" This exception is expected as BigDecimal class is not available in this environment.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deepa","name":"deepa","emailAddress":"dremesh at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Deepa Remesh","active":true},"created":"2006-05-10T03:35:31.000+0000","updated":"2006-05-10T03:35:31.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12378786","id":"12378786","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"body":"I opened DERBY-1311 for the wisconsin failure on 05/05/2006 on 10.1/wctme5.7 foundation. ( previous 3 comments).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=skambha","name":"skambha","emailAddress":"ksunithaghm at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunitha Kambhampati","active":true},"created":"2006-05-10T07:16:56.000+0000","updated":"2006-05-10T07:16:56.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12417814","id":"12417814","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andreask","name":"andreask","emailAddress":"andreas dot korneliussen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andreas Korneliussen","active":true},"body":"This test is failing pretty consistently on Windows. \r\n\r\nI looked at the properties for the test, and found this:\r\n\r\n#checkpoint influences the plans in some cases becuase rows count \r\n#getupdated on checkpoint, following is necessart to check some plans\r\nderby.storage.checkpointInterval=100000\r\n\r\nBased on this, I have the following question:\r\nDoes really the checkpointinterval influence this test ? The indexes are created after the tables are populated, so the statistics should be updated or ..?\r\n\r\nWould it make any difference to the test if we add a sleeping period after the population of the tables ? I think this could make a difference, if the failures are caused by the optimizer choosing plans based on outdated statistics.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andreask","name":"andreask","emailAddress":"andreas dot korneliussen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andreas Korneliussen","active":true},"created":"2006-06-26T21:05:41.000+0000","updated":"2006-06-26T21:05:41.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12418416","id":"12418416","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andreask","name":"andreask","emailAddress":"andreas dot korneliussen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andreas Korneliussen","active":true},"body":"I was able to reproduce this problem on every run on a very fast laptop (it was not reproducible on any other Windows lab machine I have tried).  This laptop happens to be the same kind as Ole uses for the nightly tests.\r\n\r\nAdding a 10 second sleeping period after the population of the tables, did not have any effect. I therefore tried to do run a compress on the tables (based on the assumption that statistics is updated on compress), and now the test does not fail for me anymore.\r\n\r\nAttached is the patch which makes this test stop failing. The patch does not seem to have any sideeffects on other platforms (Solaris) tested, however the test will use more time.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andreask","name":"andreask","emailAddress":"andreas dot korneliussen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andreas Korneliussen","active":true},"created":"2006-06-29T15:51:09.000+0000","updated":"2006-06-29T15:51:09.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12418511","id":"12418511","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"committed ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2006-06-30T01:30:02.000+0000","updated":"2006-06-30T01:30:02.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12418512","id":"12418512","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"committed change to trunk:\r\n\r\nr418108 | mikem | 2006-06-29 11:27:51 -0700 (Thu, 29 Jun 2006) | 16 lines\r\n\r\nDERBY-937, committing change by      Andreas Korneliussen.\r\n\r\nnotes by Andreas:\r\nI was able to reproduce this problem on every run on a very fast laptop (it was\r\nnot reproducible on any other Windows lab machine I have tried). This laptop hap\r\npens to be the same kind as Ole uses for the nightly tests.\r\n\r\nAdding a 10 second sleeping period after the population of the tables, did not h\r\nave any effect. I therefore tried to do run a compress on the tables (based on t\r\nhe assumption that statistics is updated on compress), and now the test does not\r\n fail for me anymore.\r\n\r\nAttached is the patch which makes this test stop failing. The patch does not see\r\nm to have any sideeffects on other platforms (Solaris) tested, however the test\r\nwill use more time.\r\n\r\nnote by mike:\r\nI ran this change 20 times and it worked on my laptop, it would always fail\r\na few times out of 20 before the fix.  I am not sure why this fix works as\r\nthe test seems to already create indexes after tables so statistics should\r\nalready be up to date.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2006-06-30T01:31:55.000+0000","updated":"2006-06-30T01:31:55.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12328722/comment/12418513","id":"12418513","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"body":"I am closing this \"intermittent\" bug with fix committed as: 418108.  If it shows up again file a new issue with the new details.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikem","name":"mikem","emailAddress":"mikem_app at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mike Matrigali","active":true},"created":"2006-06-30T01:34:18.000+0000","updated":"2006-06-30T01:34:18.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-937/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06yr3:"}}