{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12691091","self":"https://issues.apache.org/jira/rest/api/latest/issue/12691091","key":"MAHOUT-1410","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310751","id":"12310751","key":"MAHOUT","name":"Mahout","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310751&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310751&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310751&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310751&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/13060","id":"13060","description":"Apache Mahout","name":"Mahout"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324577","id":"12324577","description":"Last release before 0.10.0, will contain the features for 0.10.0, the time between 0.9 and 0.10.0 is going to be used to stabilize the release","name":"0.9","archived":false,"released":true,"releaseDate":"2014-02-01"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-01-25 09:29:30.23","customfield_12312323":null,"customfield_12310420":"369834","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_65834228_*|*_1_*:*_1_*:*_53574206_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2014-01-26T03:47:10.618+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-1410/watchers","watchCount":4,"isWatching":false},"created":"2014-01-24T18:37:02.225+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12312330":null,"customfield_12311120":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12320153","id":"12320153","description":"The release will stabilize core components, improve performances and adds new streaming algorithms. Unmaintained code is getting killed as part of this","name":"0.8","archived":false,"released":true,"releaseDate":"2013-07-25"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-02-03T07:57:13.541+0000","customfield_12312335":null,"customfield_12312336":null,"customfield_12311720":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312151","id":"12312151","name":"Clustering","description":"Bugs related to any of the clustering packages"}],"timeoriginalestimate":null,"description":"When clustering non-named vectors there are no vector ids in clusteredPoints so the other values there, cluster id, vector values, distance-squared, pdf, cannot be tied to any known vector.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"370136","summary":"clusteredPoints do not contain a vector id","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"using 0.9 release candidate","customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":15,"total":15,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13881294","id":"13881294","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"body":"This relates to https://issues.apache.org/jira/browse/MAHOUT-1030\r\n\r\nThere are more comments there, not sure if this needs to be separate from 1030.\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"created":"2014-01-24T18:44:59.133+0000","updated":"2014-01-24T18:44:59.133+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13881775","id":"13881775","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"body":"Submitting a patch that fixes this issue (sans any unit tests, will add those later today).  \r\n\r\nThis patch also fixes :-\r\n\r\na) \"distance-squared\" is now \"distance\"\r\nb) Fix for Mahout-1030 only handles the MR mode, this patch takes care of the Sequential mode.\r\n\r\nPlease give this a try and looking forward to feedback.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"created":"2014-01-25T09:29:30.230+0000","updated":"2014-01-25T09:29:30.230+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13881776","id":"13881776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"body":"Submitting Patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"created":"2014-01-25T09:29:56.421+0000","updated":"2014-01-25T09:29:56.421+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13881967","id":"13881967","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrew.musselman","name":"andrew.musselman","emailAddress":"andrew dot musselman at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andrew.musselman&avatarId=18977","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andrew.musselman&avatarId=18977","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andrew.musselman&avatarId=18977","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andrew.musselman&avatarId=18977"},"displayName":"Andrew Musselman","active":true},"body":"Yet another hack; this checks for whether the vector is a NamedVector or a RandomAccessSparseVector, and strips out just the delegate vector inside if it's a NamedVector before checking against the reference list.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrew.musselman","name":"andrew.musselman","emailAddress":"andrew dot musselman at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andrew.musselman&avatarId=18977","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andrew.musselman&avatarId=18977","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andrew.musselman&avatarId=18977","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andrew.musselman&avatarId=18977"},"displayName":"Andrew Musselman","active":true},"created":"2014-01-25T18:08:16.122+0000","updated":"2014-01-25T18:08:16.122+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13881974","id":"13881974","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"body":"Looks like you changed the distance-squared to distance, which is fine by me. since it's labeled correctly.\r\n\r\nGet a failure in the mahout build tests but I generally do so I've been building without tests. This has been since 0.8 so probably my own problem not a real test failure. Some dump info is listed below.\r\n\r\nWhen I build without tests the patch works perfectly on kmeans and fuzzykmeans. These are run using the drivers so mapreduce. I checked the the input to see if the vector matches the ones in clustered points and indeed they do. So I'd call that confirmation. \r\n\r\nQuestions i'd ask in a review:\r\n1) Are you changing the type of the vector in clusteredPoints to NamedVector or was it always that way with a blank name?\r\n2) If the class is changing are we sure that doesn't mess things up when actually using a named vector as clustering input?\r\n3) Not sure how to test \"sequential\" clustering but if you tell me what you mean I can test that too.\r\n\r\nThis is fixed for me.\r\n\r\npat$ mahout seqdumper -i ~/big-data/guide/temp/tmp1/pairwiseSimilarity/ | more\r\nInput Path: file:/Users/pat/big-data/guide/temp/tmp1/pairwiseSimilarity/part-r-00000\r\nKey class: class org.apache.hadoop.io.IntWritable Value Class: class org.apache.mahout.math.VectorWritable\r\nKey: 0: Value: {5:0.854718643737767,172:0.8292121703264371,192:0.854718643737767,13:0.8962379566075429,198:0.8962379566075429,20:0.8962379566075429,9:0.8962379566075429,19:0.8962379566075429,201:0.8962379566075429,207:0.8962379566075429,43:0.6976395601234899,193:0.8962379566075429,18:0.8962379566075429,184:0.8962379566075429,209:0.8962379566075429,187:0.854718643737767,2:0.8962379566075429,211:0.854718643737767,27:0.7327087555023397,177:0.854718643737767,183:0.8292121703264371,214:0.8962379566075429,17:0.854718643737767,190:0.854718643737767,176:0.8292121703264371,12:0.8962379566075429,191:0.854718643737767}\r\n\r\nThe above is what I'm clustering so the input and below is the clusterePoints, so the output:\r\n\r\npat$ mahout seqdumper -i /Users/pat/big-data/guide/temp/clusters/clusteredPoints/part-m-00000  | more\r\nKey: 593: Value: wt: 1.0 distance: 4.487859968341614  vec: 0 = [2:0.896, 5:0.855, 9:0.896, 12:0.896, 13:0.896, 17:0.855, 18:0.896, 19:0.896, 20:0.896, 27:0.733, 43:0.698, 172:0.829, 176:0.829, 177:0.855, 183:0.829, 184:0.896, 187:0.855, 190:0.855, 191:0.855, 192:0.855, 193:0.896, 198:0.896, 201:0.896, 207:0.896, 209:0.896, 211:0.855, 214:0.896]\r\n\r\nBuild Test Failure Results :\r\nFailed tests: \r\n  ClusterClassificationDriverTest.testVectorClassificationWithOutlierRemovalMR:102->assertVectorsWithOutlierRemoval:188->checkClustersWithOutlierRemoval:238->Assert.assertTrue:41->Assert.fail:88 not expecting cluster:0:{0:1.0,1:1.0}\r\n\r\nTests run: 761, Failures: 1, Errors: 0, Skipped: 0\r\n\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary:\r\n[INFO] \r\n[INFO] Mahout Build Tools ................................ SUCCESS [2.347s]\r\n[INFO] Apache Mahout ..................................... SUCCESS [0.519s]\r\n[INFO] Mahout Math ....................................... SUCCESS [1:18.563s]\r\n[INFO] Mahout Core ....................................... FAILURE [5:50.906s]\r\n[INFO] Mahout Integration ................................ SKIPPED\r\n[INFO] Mahout Examples ................................... SKIPPED\r\n[INFO] Mahout Release Package ............................ SKIPPED\r\n[INFO] Mahout Math/Scala wrappers ........................ SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 7:12.848s\r\n[INFO] Finished at: Sat Jan 25 08:45:56 PST 2014\r\n[INFO] Final Memory: 28M/554M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.16:test (default-test) on project mahout-core: There are test failures.\r\n[","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"created":"2014-01-25T18:23:47.302+0000","updated":"2014-01-25T18:23:47.302+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13881976","id":"13881976","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"body":"I tested Suneel's patch and had a question about other vector types so sounds like Andrew may have already addressed that. I'll test the new patch in a few hours.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"created":"2014-01-25T18:25:32.975+0000","updated":"2014-01-25T18:25:32.975+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13881979","id":"13881979","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrew.musselman","name":"andrew.musselman","emailAddress":"andrew dot musselman at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andrew.musselman&avatarId=18977","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andrew.musselman&avatarId=18977","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andrew.musselman&avatarId=18977","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andrew.musselman&avatarId=18977"},"displayName":"Andrew Musselman","active":true},"body":"Mine is the same as Suneel's with a fix for that failing test.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrew.musselman","name":"andrew.musselman","emailAddress":"andrew dot musselman at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andrew.musselman&avatarId=18977","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andrew.musselman&avatarId=18977","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andrew.musselman&avatarId=18977","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andrew.musselman&avatarId=18977"},"displayName":"Andrew Musselman","active":true},"created":"2014-01-25T18:29:20.722+0000","updated":"2014-01-25T18:29:20.722+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13881984","id":"13881984","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrew.musselman","name":"andrew.musselman","emailAddress":"andrew dot musselman at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andrew.musselman&avatarId=18977","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andrew.musselman&avatarId=18977","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andrew.musselman&avatarId=18977","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andrew.musselman&avatarId=18977"},"displayName":"Andrew Musselman","active":true},"body":"Here's what I'm getting after running cluster-reuters.sh kmeans with and without the --namedVector flag.\r\n\r\n$ mahout seqdumper -i /tmp/mahout-work-akm/reuters-kmeans/clusters-2-final/part-r-00000\r\nMAHOUT_LOCAL is set, so we don't add HADOOP_CONF_DIR to classpath.\r\nMAHOUT_LOCAL is set, running locally\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/home/akm/mahout/examples/target/mahout-examples-1.0-SNAPSHOT-job.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/home/akm/mahout/examples/target/dependency/slf4j-jcl-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.JCLLoggerFactory]\r\nJan 25, 2014 10:43:35 AM org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Command line arguments: {--endPhase=[2147483647], --input=[/tmp/mahout-work-akm/reuters-kmeans/clusters-2-final/part-r-00000], --startPhase=[0], --tempDir=[temp]}\r\nInput Path: /tmp/mahout-work-akm/reuters-kmeans/clusters-2-final/part-r-00000\r\nKey class: class org.apache.hadoop.io.IntWritable Value Class: class org.apache.mahout.clustering.iterator.ClusterWritable\r\nKey: 0: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 1: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 2: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 3: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 4: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 5: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 6: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 7: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 8: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 9: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 10: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 11: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 12: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 13: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 14: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 15: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 16: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 17: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 18: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nKey: 19: Value: org.apache.mahout.clustering.iterator.ClusterWritable@5becf473\r\nCount: 20\r\nJan 25, 2014 10:43:35 AM org.slf4j.impl.JCLLoggerAdapter info\r\nINFO: Program took 757 ms (Minutes: 0.012616666666666667)\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andrew.musselman","name":"andrew.musselman","emailAddress":"andrew dot musselman at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andrew.musselman&avatarId=18977","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andrew.musselman&avatarId=18977","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andrew.musselman&avatarId=18977","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andrew.musselman&avatarId=18977"},"displayName":"Andrew Musselman","active":true},"created":"2014-01-25T18:45:05.618+0000","updated":"2014-01-25T18:45:05.618+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13881989","id":"13881989","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"body":"[~pferrel]  addressing your questions below:-\r\n\r\nQuestions i'd ask in a review:\r\n1) Are you changing the type of the vector in clusteredPoints to NamedVector or was it always that way with a blank name?\r\n    \r\n    We are changing the vector type to be NamedVector now (else I didn't see a way of storing the vectorIds). \r\n    \r\n2) If the class is changing are we sure that doesn't mess things up when actually using a named vector as clustering input?\r\n\r\n     Tested this with both NamedVectors and non-NamedVectors, and can confirm that the NamedVectors work fine. \r\n      Try running examples/bin/cluster-reuters.sh (option 1 for kmeans), by default the script uses NamedVectors.\r\n\r\n3) Not sure how to test \"sequential\" clustering but if you tell me what you mean I can test that too.\r\n\r\n      Add '-xm sequential' to the KMeans Driver call.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"created":"2014-01-25T19:02:57.266+0000","updated":"2014-01-25T19:02:57.266+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13882117","id":"13882117","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"body":"I tried my test case for kmeans, fuzzykmeans, m/r and sequential. All work fine and the build tests pass now too.\r\n\r\nLooks clean from my angle.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pferrel","name":"pferrel","emailAddress":"pat at occamsmachete dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pat Ferrel","active":true},"created":"2014-01-26T00:08:26.457+0000","updated":"2014-01-26T00:08:26.457+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13882163","id":"13882163","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"body":"Code committed to trunk","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"created":"2014-01-26T03:47:10.653+0000","updated":"2014-01-26T03:47:10.653+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13882167","id":"13882167","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"SUCCESS: Integrated in Mahout-Quality #2437 (See [https://builds.apache.org/job/Mahout-Quality/2437/])\r\nMAHOUT-1410: clusteredPoints do not contain a vector id (smarthi: rev 1561440)\r\n* /mahout/trunk/CHANGELOG\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationDriver.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationMapper.java\r\n* /mahout/trunk/core/src/test/java/org/apache/mahout/clustering/classify/ClusterClassificationDriverTest.java\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2014-01-26T04:26:04.221+0000","updated":"2014-01-26T04:26:04.221+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13882599","id":"13882599","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"SUCCESS: Integrated in Mahout-Quality #2443 (See [https://builds.apache.org/job/Mahout-Quality/2443/])\r\nMAHOUT-1410: Added Code comments. (smarthi: rev 1561586)\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationDriver.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationMapper.java\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2014-01-27T06:29:59.117+0000","updated":"2014-01-27T06:29:59.117+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13883556","id":"13883556","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"body":"Cleaned up the previous code, see attached patch. Will commit this to trunk after its confirmed to be good. This is just a code cleanup of the previous patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=smarthi","name":"smarthi","emailAddress":"smarthi at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suneel Marthi","active":true},"created":"2014-01-28T00:23:29.797+0000","updated":"2014-01-28T00:23:29.797+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12691091/comment/13883811","id":"13883811","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"SUCCESS: Integrated in Mahout-Quality #2446 (See [https://builds.apache.org/job/Mahout-Quality/2446/])\r\nMAHOUT-1410: Committing updated patch. (smarthi: rev 1561948)\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationDriver.java\r\n* /mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationMapper.java\r\n* /mahout/trunk/core/src/test/java/org/apache/mahout/clustering/classify/ClusterClassificationDriverTest.java\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2014-01-28T06:30:22.810+0000","updated":"2014-01-28T06:30:22.810+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/MAHOUT-1410/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1rqqf:"}}