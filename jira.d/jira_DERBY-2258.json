{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12360889","self":"https://issues.apache.org/jira/rest/api/latest/issue/12360889","key":"DERBY-2258","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2007-01-30 13:04:31.732","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22970","customfield_12310222":"1_*:*_1_*:*_1589540563_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2007-02-07T03:58:15.097+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2258/watchers","watchCount":0,"isWatching":false},"created":"2007-01-19T18:25:54.534+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"6.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/10993","id":"10993","description":"","name":"10.1.1.0","archived":false,"released":true,"releaseDate":"2005-08-03"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12310615","id":"12310615","description":"","name":"10.1.2.1","archived":false,"released":true,"releaseDate":"2005-11-18"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12311953","id":"12311953","description":"","name":"10.1.3.1","archived":false,"released":true,"releaseDate":"2006-06-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312027","id":"12312027","description":"","name":"10.2.2.0","archived":false,"released":true,"releaseDate":"2006-12-19"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12312590","id":"12312590","description":"","name":"10.3.1.4","archived":false,"released":true,"releaseDate":"2007-08-10"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12314923","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12314923","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12361989","key":"DERBY-2289","self":"https://issues.apache.org/jira/rest/api/2/issue/12361989","fields":{"summary":"Add jdk 1.6 support to jdbcapi tests.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}},{"id":"12314866","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12314866","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"outwardIssue":{"id":"12360890","key":"DERBY-2259","self":"https://issues.apache.org/jira/rest/api/2/issue/12360890","fields":{"summary":"DatabaseMetaData.getTypeInfo() SEARCHABLE column returns incorrect information for types that cannot be searched.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}},{"id":"12314867","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12314867","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"outwardIssue":{"id":"12360896","key":"DERBY-2260","self":"https://issues.apache.org/jira/rest/api/2/issue/12360896","fields":{"summary":"DatabaseMetaData.getTypeInfo() returns incorrect precision for VARCHAR FOR BIT DATA","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.png","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-01-21T17:49:39.195+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11407","id":"11407","name":"JDBC"},{"self":"https://issues.apache.org/jira/rest/api/2/component/11690","id":"11690","name":"Network Client"}],"timeoriginalestimate":null,"description":"These types are returned but not supported by Derby.\n\nLONG NVARCHAR\nNATIONAL CHAR\nNATIONAL CHAR VARYING\n\nThe XML type is supported by Derby but not returned.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"37502","summary":"DatabaseMetaData.getTypeInfo() does not list supported Derby SQL types correctly.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":17,"total":17,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12468599","id":"12468599","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"body":"After some investigations I found out following : -\r\n\r\n - For Metadata values, derby uses procedures from 'metadata.properties' and getTypeInfo() is one such method. \r\n\r\n - getTypeInfo() is use to for retrieving the description for all the data types supported by this database and in derby there are descriptions of some data types which are not  supported by derby  & data type like XML not present at all ( as addressed in this issue ) \r\n\r\n - some data types have incorrect description (as addressed by Derby 2259 & 2260).\r\n\r\nI had modified the procedure to remove the data type not supported by derby & added XML data type, but I am not sure for the remaining values in the description so I used values similar to that of CLOB. Can some one please correct me for XML data type on following descriptions : \r\n\r\n   1. TYPE_NAME String => XML\r\n   2. DATA_TYPE int => 2007\r\n   3. PRECISION int => 2147483647\r\n   4. LITERAL_PREFIX String => ''''\r\n   5. LITERAL_SUFFIX String => ''''\r\n   6. CREATE_PARAMS String => length\r\n   7. NULLABLE short => 1 (i.e. typeNullable)\r\n   8. CASE_SENSITIVE boolean=> TRUE\r\n   9. SEARCHABLE short => 0 (i.e. typePredNone)\r\n  10. UNSIGNED_ATTRIBUTE boolean => CAST (NULL AS BOOLEAN)\r\n  11. FIXED_PREC_SCALE boolean => FALSE\r\n  12. AUTO_INCREMENT boolean => CAST (NULL AS BOOLEAN)\r\n  13. LOCAL_TYPE_NAME String => CAST (NULL AS INTEGER)\r\n  14. MINIMUM_SCALE short => CAST (NULL AS INTEGER)\r\n  15. MAXIMUM_SCALE short => CAST (NULL AS INTEGER)\r\n\r\nApart this issue also address Derby-2259 (https://issues.apache.org/jira/browse/DERBY-2259) & Derby-2260 (https://issues.apache.org/jira/browse/DERBY-2260)\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"created":"2007-01-30T13:04:31.732+0000","updated":"2007-01-30T13:04:31.732+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12468608","id":"12468608","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"body":"Modified the test output files also as datatype which are not supported are removed from the expected output & XML is also added in the list of supported data types.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"created":"2007-01-30T13:40:10.961+0000","updated":"2007-01-30T13:40:10.961+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12468656","id":"12468656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"I think DATA_TYPE should be 2009 (java.sql.Types.SQLXML). Not sure about LITERAL_PREFIX and LITERAL_SUFFIX, but I think they should be NULL. I'm also not sure about CREATE_PARAMS, but suspect it should be NULL as well.\r\n\r\nUNSIGNED_ATTRIBUTE and AUTO_INCREMENT should probably be false instead of null.\r\n\r\nLOCAL_TYPE_NAME is identical to TYPE_NAME (not null) for the other types, but that seems to be how your patch implements it too. (You probably got confused by the query in metadata.properties. The VALUES clause has 15 columns, but the top-level SELECT inserts three extra columns at position 13, 16 and 17.)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-01-30T15:51:26.804+0000","updated":"2007-01-30T15:51:26.804+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12468669","id":"12468669","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"body":"> I think DATA_TYPE should be 2009 (java.sql.Types.SQLXML). Not sure about\r\n> LITERAL_PREFIX and LITERAL_SUFFIX, but I think they should be NULL. I'm\r\n> also not sure about CREATE_PARAMS, but suspect it should be NULL as well.\r\n\r\nI agree with Knut Anders on all of the above.  There is currently no way to specify an XML literal in SQL--a user has to use the XMLPARSE() operator, which takes a string literal--so there is no prefix/suffix defined.  And when an XML column is created, there is no length argument:\r\n\r\n  create table t1 (x xml);  // correct.\r\n  create table t1 (x xml(256))  // incorrect -- length not allowed\r\n\r\nSo CREATE_PARAMS should be null, too.\r\n\r\n> UNSIGNED_ATTRIBUTE and AUTO_INCREMENT should probably be false instead of null. \r\n\r\nGiven that the JDBC API does not say that these \"may be null\", I tend to agree with Knut Anders on this, too.  I did find it odd that CLOB and BLOB have \"null\" for these values while the other char types have \"TRUE\" and \"FALSE\", respectively.   Is that a bug/inconsistency that  should be fixed (as a separate issue)?\r\n\r\nIn ODBC land these two fields are supposed to be null \"if the attribute is not applicable to the data type or the data type is not numeric\"--but as people have said before, ODBC and JDBC are different, so I guess that's irrelevant...\r\n\r\nIn any event, +1 to the suggestions made by Knut Anders.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=army","name":"army","emailAddress":"qozinx at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"A B","active":true},"created":"2007-01-30T16:32:04.526+0000","updated":"2007-01-30T16:32:04.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12468785","id":"12468785","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Not sure what PRECISION should be for an XML type. It doesn't really have any meaning, but I bet returning NULL there would not be acceptable. In the various JDBC docs precision is usually described as number of decimal digits, but also seems to apply to length of character strings.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-01-30T20:57:15.768+0000","updated":"2007-01-30T20:57:15.768+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12468873","id":"12468873","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"body":"Thanks Knut, A B & Dan for your valuable comments. I had modified the values for XML data type as following (incorporating the changes suggested ) :\r\n\r\n   1. TYPE_NAME String => XML\r\n   2. DATA_TYPE int => 2009\r\n   3. PRECISION int => CAST (NULL AS INTEGER)\r\n   4. LITERAL_PREFIX String => CAST (NULL AS CHAR)\r\n   5. LITERAL_SUFFIX String => CAST (NULL AS CHAR)\r\n   6. CREATE_PARAMS String => CAST (NULL AS CHAR)\r\n   7. NULLABLE short => 1 (i.e. typeNullable)\r\n   8. CASE_SENSITIVE boolean=> TRUE\r\n   9. SEARCHABLE short => 0 (i.e. typePredNone)\r\n  10. UNSIGNED_ATTRIBUTE boolean => FALSE\r\n  11. FIXED_PREC_SCALE boolean => FALSE\r\n  12. AUTO_INCREMENT boolean => FALSE\r\n  13. LOCAL_TYPE_NAME String => XML (Not required to specify as its same as TYPE_INFO)\r\n  14. MINIMUM_SCALE short => CAST (NULL AS INTEGER)\r\n  15. MAXIMUM_SCALE short => CAST (NULL AS INTEGER)\r\n  16. SQL_DATA_TYPE int => unused\r\n  17. SQL_DATETIME_SUB int => unused\r\n  18. NUM_PREC_RADIX int => CAST (NULL AS INTEGER)\r\n\r\nIs this correct ?\r\nAttached version 2 for the patch with the above changes. Please have a look at Derby-2259 & Derby-2260 also to verify the fix.\r\n\r\nApart as mentioned by A B, \r\n---- \"Given that the JDBC API does not say that these \"may be null\", I tend to agree with Knut Anders on this, too. I did find it odd that CLOB and BLOB have \"null\" for these values while the other char types have \"TRUE\" and \"FALSE\", respectively. Is that a bug/inconsistency that should be fixed (as a separate issue)? \"\r\n\r\nshould these corrections (if required ?) be implemented in this issue itself or another JIRA should be created to solve these?\r\n\r\nThanks again","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"created":"2007-01-31T05:02:39.474+0000","updated":"2007-01-31T05:02:39.474+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12468984","id":"12468984","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Daniel John Debrunner wrote:\r\n> Not sure what PRECISION should be for an XML type. It doesn't really have any meaning, but I bet returning NULL there would not be acceptable.\r\n\r\nJDBC 4.0 clarified this in the javadoc:\r\n\r\nThe PRECISION column represents the maximum column size that the server supports for the given datatype. For numeric data, this is the maximum precision. For character data, this is the length in characters. For datetime datatypes, this is the length in characters of the String representation (assuming the maximum allowed precision of the fractional seconds component). For binary data, this is the length in bytes. For the ROWID datatype, this is the length in bytes. Null is returned for data types where the column size is not applicable.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-01-31T11:02:42.558+0000","updated":"2007-01-31T11:02:42.558+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12468991","id":"12468991","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"body":"Saurabh Vyas wrote:\r\n> should these corrections (if required ?) be implemented in this issue itself or another JIRA should be created to solve these?\r\n\r\nEither approach is OK. I prefer separate JIRAs since that makes the discussion less confusing, and the patches smaller and easier to review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=knutanders","name":"knutanders","emailAddress":"knut dot hatlen at oracle dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Knut Anders Hatlen","active":true},"created":"2007-01-31T11:11:03.554+0000","updated":"2007-01-31T11:11:03.554+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12469633","id":"12469633","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"I think the changes means the test DatabaseMetaDataTest needs to be updated, otherwise it will most likely fail.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-02-02T00:59:00.135+0000","updated":"2007-02-02T00:59:00.135+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12470195","id":"12470195","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"body":"Thanks Dan for drawing attention towards DatabaseMetaDataTest. \r\n\r\nWell I modified the test method testGetTypeInfo() accordingly and done the following changes :\r\n - removed the LONG NVARCHAR, NATIONAL CHAR, NATIONAL CHAR VARYING data (which are not supported by derby)\r\n - corrected the precision value for VARCHAR FOR BIT DATA\r\n - then I tried adding the XML data type checks also as \r\n\r\n<----------- code snippet---------------------> \r\n\r\ncase Types.SQLXML:\r\n              createParams = null;\r\n              break;\r\n---------------\r\ncase Types.SQLXML:\r\n            searchable = DatabaseMetaData.typePredNone;\r\n            break;\r\n<------------------------------------------------------>\r\n\r\nBut after doing the last change (i.e. adding XML data type in test) I got following build error :\r\n\r\ncompilet2:\r\n    [javac] Compiling 11 source files to /export/home/vyas/NewDerby/trunk/classes\r\n    [javac] /export/home/vyas/NewDerby/trunk/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/DatabaseMetaDataTest.java:1506: cannot find symbol\r\n    [javac] symbol  : variable SQLXML\r\n    [javac] location: class java.sql.Types\r\n    [javac]         case Types.SQLXML:\r\n    [javac]                   ^\r\n    [javac] /export/home/vyas/NewDerby/trunk/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/DatabaseMetaDataTest.java:1554: cannot find symbol\r\n    [javac] symbol  : variable SQLXML\r\n    [javac] location: class java.sql.Types\r\n    [javac]         case Types.SQLXML:\r\n    [javac]                   ^\r\n    [javac] 2 errors\r\n\r\n--------------------------\r\n\r\nAfter some investigation on this, I got to know that build.xml in jdbcapi still uses jdk 1.3 & jdk 1.4 only  and SQLXML data type is added in java.sql.Types only in jdk 1.6.\r\nThus this modification in test will require the dependency on jdk1.6 to be added in the build.xml in jdbcapi. I tried some modification bu was not successful in getting it compiled correctly. \r\n\r\nNow not to make things complex I 'll raise another JIRA for this.\r\nAlso that issue will be a blocker for this issue.\r\nComments / Suggestions ? \r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"created":"2007-02-05T12:19:37.232+0000","updated":"2007-02-05T12:19:37.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12470629","id":"12470629","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"body":"Incorporated all the changes required for Derby-2258, Derby-2259 & Derby-2260.\r\n\r\nExplanation for the patch (Derby-2258_v3.diff)\r\n\r\n - It requires removing unsupported data types & adding XML data type. This change is incorporated in following files :\r\n\r\n1) metadata.properties : Removed entries for LONG NVARCHAR, NATIONAL CHAR, NATIONAL CHAR VARYING data type & added XML data type in getTypeInfo()\r\n2) DatabaseMetaDataTest.java : Removed check for unsupported types (all supported types are specified in supportedTypes array ) from testGetTypeInfo() method & added support for SQLXML type in the test. This requires extending the test to verify the field values for XML data type (like PRECISION, SEARCHABLE etc)\r\n3) connectionJdbc20.out : It requires removing unsupported data types & adding XML data type in the expected output for the test.\r\n\r\nThis patch also address Derby-2259 & Derby-2260\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"created":"2007-02-06T16:27:25.142+0000","updated":"2007-02-06T16:27:25.142+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12470646","id":"12470646","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Just an FYI - if in Jira comments you refer to Derby Jira issues as DERBY-2259 (upper case) then they will automatically hyperlink to the issue. Using Derby-2259 does not.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-02-06T17:13:09.431+0000","updated":"2007-02-06T17:13:09.431+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12470668","id":"12470668","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"body":"Modified the assert case for XML data type in DatabaseMetaDataTest.java for precision check.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"created":"2007-02-06T17:44:43.734+0000","updated":"2007-02-06T17:44:43.734+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12470688","id":"12470688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Patch Derby-2258_v3.diff Committed revision 504234.Thanks Saurabh.\r\nNote the patch also contained some minor changes for DERBY-2245.\r\nCommitted this before I saw there was patch 4 attached, will try to apply next.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-02-06T18:42:17.890+0000","updated":"2007-02-06T18:42:17.890+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12470693","id":"12470693","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"The delta from patch 3 to patch 4 was Committed revision 504241.\r\nNote that the change for DERBY-2245 for getSQLKeywords was committed as it was part of patch 3.\r\nCan you now mark issues as resolved if you believe you have completed them. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-02-06T19:04:50.377+0000","updated":"2007-02-06T19:04:50.377+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12470726","id":"12470726","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"body":"Patch 3 had an incorrect master file for connectionJdbc20, fixed:\r\n\r\nSending        connectionJdbc20.out\r\nTransmitting file data .\r\nCommitted revision 504273.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djd","name":"djd","emailAddress":"djd at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Daniel John Debrunner","active":true},"created":"2007-02-06T20:12:58.759+0000","updated":"2007-02-06T20:12:58.759+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12360889/comment/12470805","id":"12470805","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"body":"Thanks Dan. I 'll work on DERBY-2245 also and try to provide a final patch asap.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sv204098","name":"sv204098","emailAddress":"vyassaurabh1 at rediffmai dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Saurabh Vyas","active":true},"created":"2007-02-07T03:58:15.081+0000","updated":"2007-02-07T03:58:15.081+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-2258/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06s73:"}}