{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12332459","self":"https://issues.apache.org/jira/rest/api/latest/issue/12332459","key":"DERBY-1241","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/11187","id":"11187","description":"","name":"10.2.1.6","archived":false,"released":true,"releaseDate":"2006-10-02"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2006-07-27 11:51:09.0","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"22391","customfield_12310222":"1_*:*_1_*:*_8874582000_*|*_6_*:*_1_*:*_0_*|*_5_*:*_1_*:*_24689274765","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2006-08-01T23:44:39.000+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1241/watchers","watchCount":0,"isWatching":false},"created":"2006-04-21T06:34:57.000+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.png","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[{"id":"12312964","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12312964","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12347105","key":"DERBY-1627","self":"https://issues.apache.org/jira/rest/api/2/issue/12347105","fields":{"summary":"Need a regression test for DERBY-1241","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"New"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/improvement.png","name":"Improvement","subtask":false}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2007-05-14T17:52:33.762+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11412","id":"11412","name":"Store"}],"timeoriginalestimate":null,"description":"logmirror.ctrl is getting accessed outside the privileged block when the checkpoint instant is invalid  on log factory boot method and cause this failure on boot if  the database was not shutdown cleanly.  The reproduction  (see comment) shows that can happens after database creation. \n\nThis problem was reported on the derby-dev list  by Olav Sandstaa , filing jira entry  for it. \n\nOlav Sandstaa wrote:\n\n> Rick Hillegas <Richard.Hillegas@Sun.COM> wrote:\n>\n> java.sql.SQLException: Java exception: 'access denied (java.io.FilePermission /export/home/tmp/derbyjdbc4/DerbyNetClient/TestConnectionMethods/wombat/log/logmirror.ctrl read): java.security.AccessControlException'.\n>     at java.security.AccessControlContext.checkPermission(AccessControlContext.java:321)\n>     at java.security.AccessController.checkPermission(AccessController.java:546)\n>     at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n>     at java.lang.SecurityManager.checkRead(SecurityManager.java:871)\n>     at java.io.File.exists(File.java:731)\n>     at org.apache.derby.impl.store.raw.log.LogToFile.boot(LogToFile.java:2940)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)\n>     at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:542)\n>     at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:418)\n>     at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.bootLogFactory(BaseDataFileFactory.java:1762)\n>     at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.setRawStoreFactory(BaseDataFileFactory.java:1218)\n>     at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java:250)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)\n>     at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:542)\n>     at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:418)\n>     at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessManager.java:987)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)\n>     at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:542)\n>     at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:418)\n>     at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java:738)\n>     at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:178)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)\n>     at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMonitor.java:1831)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderService(BaseMonitor.java:1697)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1577)\n>     at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:990)\n>     at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:541)\n>     at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1586)\n>     at org.apache.derby.impl.jdbc.EmbedConnection.<init>(EmbedConnection.java:216)\n>     at org.apache.derby.impl.jdbc.EmbedConnection30.<init>(EmbedConnection30.java:72)\n>     at org.apache.derby.impl.jdbc.EmbedConnection40.<init>(EmbedConnection40.java:48)\n>     at org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Driver40.java:62)\n>     at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:199)\n>     at org.apache.derby.impl.drda.Database.makeConnection(Database.java:231)\n>     at org.apache.derby.impl.drda.DRDAConnThread.getConnFromDatabaseName(DRDAConnThread.java:1147)\n>     at org.apache.derby.impl.drda.DRDAConnThread.verifyUserIdPassword(DRDAConnThread.java:1125)\n>     at org.apache.derby.impl.drda.DRDAConnThread.parseSECCHK(DRDAConnThread.java:2709)\n>     at org.apache.derby.impl.drda.DRDAConnThread.parseDRDAConnection(DRDAConnThread.java:987)\n>     at org.apache.derby.impl.drda.DRDAConnThread.processCommands(DRDAConnThread.java:830)\n>     at org.apache.derby.impl.drda.DRDAConnThread.run(DRDAConnThread.java:236)\n>\n> The security exception is raised when Derby tries to get access to the\n> log/logmirror.ctrl file during the second startup of the database. I\n> would have expected that since this file was created earlier during\n> the initial startup of the test, the test should already have the\n> required security permissions to access it during the second startup?\n>\n> Anyway, the best solution to this problem would be to be able to reuse\n> functionality that already might exist in the test framework. Any\n> suggestions are appreciated.\n>\n> Regards,\n> Olav\n>\n\nBy looking at the stack it looks like log/logmirror.ctrl  is not getting accessed in the privileged block at  line 2940 in LogToFile.java.\nif (checkpointInstant == LogCounter.INVALID_LOG_INSTANT &&                     getMirrorControlFileName().exists())\n\nNot sure how you got checkpointInstant to be INVALID , may be your test program might have exited before a first valid checkpoint. Any one fixing this bugs should make sure that is the case.\n\nIn any case  call to exists should have been privExists(getMirrorControlFileName()).\n\n\nPlease file a Jira entry  with information on how to reproduce this bug.\n\n\nThanks\n-suresh\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"40023","summary":"When booting a database under security manager,  boot may  fail with message java.sql.SQLException: Java exception: 'access denied (java.io.FilePermission   for  logmirror.ctrl   if database was not shutdown cleanly after  previous access","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"subtasks":[],"customfield_12310090":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10102","value":"Patch Available","id":"10102"}],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10051","value":"Urgent","id":"10051"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":14,"total":14,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12423822","id":"12423822","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andreask","name":"andreask","emailAddress":"andreas dot korneliussen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andreas Korneliussen","active":true},"body":"The following scenario reproduced this problem:\r\n\r\n1. Start Network server with security manager enabled\r\n2. Use ij to connect to the server and create a database\r\n3. Stop Network server using Ctrl-c (i.e do not shut down database gracefully)\r\n4. Restart Network server with security manager enabled\r\n5. Use ij to connect to the server and connect to the database previously created\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andreask","name":"andreask","emailAddress":"andreas dot korneliussen at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andreas Korneliussen","active":true},"created":"2006-07-27T11:51:09.000+0000","updated":"2006-07-27T11:51:09.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12423839","id":"12423839","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"- Changed priority to Critical since datbase won't boot .\r\n- Changed summary to reflect the user symptom and moved code issue description into the Description field\r\n\r\nDoes this issue exist in 10.1?\r\nWhat is the user workaround for this issue?  Would it work to boot the database once without security manager to recover?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-07-27T13:36:43.000+0000","updated":"2006-07-27T13:36:43.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12423884","id":"12423884","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I tried my scenario (see DERBY-1598, marked as duplicate to this one) with 10.1.3.1 (build 417277) and instead of a java.security.AccessControlException I get a NullPointerException:\r\n---------10.1.3.1 derby.log-(sorry, insane jars-no line numbers)----------\r\n2006-07-27 17:55:40.578 GMT Thread[DRDAConnThread_2,5,main] Cleanup action starting\r\njava.lang.NullPointerException\r\n        at org.apache.derby.impl.store.raw.log.LogToFile.getFirstLogNeeded(Unknown Source)\r\n        at org.apache.derby.impl.store.raw.log.LogToFile.deleteObsoleteLogfiles(Unknown Source)\r\n        at org.apache.derby.impl.store.raw.log.LogToFile.stop(Unknown Source)\r\n        at org.apache.derby.impl.services.monitor.TopService.stop(Unknown Source)\r\n        at org.apache.derby.impl.services.monitor.TopService.shutdown(Unknown Source)\r\n        at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(Unknown Source)\r\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderService(Unknown Source)\r\n        at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)\r\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)\r\n        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)\r\n        at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)\r\n        at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)\r\n        at org.apache.derby.impl.jdbc.EmbedConnection.<init>(Unknown Source)\r\n        at org.apache.derby.impl.jdbc.EmbedConnection30.<init>(Unknown Source)\r\n        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)\r\n        at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)\r\n        at org.apache.derby.impl.drda.Database.makeConnection(Unknown Source)\r\n        at org.apache.derby.impl.drda.DRDAConnThread.getConnFromDatabaseName(Unknown Source)\r\n        at org.apache.derby.impl.drda.DRDAConnThread.verifyUserIdPassword(Unknown Source)\r\n        at org.apache.derby.impl.drda.DRDAConnThread.parseSECCHK(Unknown Source)\r\n        at org.apache.derby.impl.drda.DRDAConnThread.parseDRDAConnection(Unknown Source)\r\n        at org.apache.derby.impl.drda.DRDAConnThread.processCommands(Unknown Source)\r\n        at org.apache.derby.impl.drda.DRDAConnThread.run(Unknown Source)\r\n-----------------------------------------\r\nI guess getting a security exception is an improvement of sorts.\r\nSubsequent connects in the same session in 10.1.3.1 give \r\nERROR 08004: The application server rejected establishment of the connection.  An attempt was made to access a database, tstdb101, which was not found.\r\n\r\nIn my scenario, the workaround for the 10.2 problem (adding permissions to read, write, delete under derby.system.home already granted to derby.jar also to derbynet.jar) also gets around the 10.1.3.1 NPE./08004; and thereafter, I can reset the policy file and bounce the server  and reconnect as much as I want. \r\n\r\nAnd yes, this trick works with 10.2 also.\r\n\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-07-27T18:25:21.000+0000","updated":"2006-07-27T18:25:21.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12423890","id":"12423890","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I'm attaching the 'current' derby_tests.policy file that I used in my scenario to get the problem - for historical reference. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-07-27T18:35:04.000+0000","updated":"2006-07-27T18:35:04.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12423913","id":"12423913","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"body":"Bumping urgency.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rhillegas","name":"rhillegas","emailAddress":"rhillegas at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rick Hillegas","active":true},"created":"2006-07-27T20:50:08.000+0000","updated":"2006-07-27T20:50:08.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12423935","id":"12423935","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"body":"fix  might be  simple one line chage of calling file.exists on mirror control file  in the privileged block.  I wanted to write a reproducible/consistent regression test fot this bug,  never got around to it.  Unassigning myself  for this bug,  I am busy  with  re-encryption work ,  don't have time to write the test now.    \r\n\r\n\r\nThanks\r\n-suresh\r\n\r\n\r\n\r\n\r\n\r\n  \r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tsuresh","name":"tsuresh","emailAddress":"suresh dot thalamati at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Suresh Thalamati","active":true},"created":"2006-07-27T21:40:45.000+0000","updated":"2006-07-27T21:40:45.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12424261","id":"12424261","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"marking this 10.2. It was already urgent and critical and It seems like a simple fix with big benefit for 10.2\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2006-07-29T02:07:40.000+0000","updated":"2006-07-29T02:07:40.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12424655","id":"12424655","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I will apply the fix suggested, run derbyall, test the fix manually in the scenario I found & the other one described, and create a patch for 10.2.\r\nThen I will add another JIRA issue to indicate we need a regression test later.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-07-31T21:01:57.000+0000","updated":"2006-07-31T21:01:57.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12425026","id":"12425026","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I'm attaching a patch -DERBY-1241_20060801.diff - that fixes the reproducible case described in this bug, using the fix suggested by Andreas in DERBY-1598, and ran derbyall on it.\r\nAs expected (because derbyall never caught this problem) I saw no unexpected failures (failed: wisconsin (DERBY-1625), TransactionTable(DERBY-1626)).\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-08-01T21:22:55.000+0000","updated":"2006-08-01T21:22:55.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12425051","id":"12425051","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"This is a pretty obvious fix for a serious problem. I think we should get this in for 10.2, even if writing a proper regression test for it won't happen till later. And, I see that Myrna has also filed a JIRA for that so it won't drop off the radar.\r\n\r\nDoes anyone object to committing this patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2006-08-01T22:52:39.000+0000","updated":"2006-08-01T22:52:39.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12425062","id":"12425062","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"Verified manual test case. Committed to trunk with revision 427796. Seems like a good candidate for merging to 10.1 also.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2006-08-01T23:44:39.000+0000","updated":"2006-08-01T23:44:39.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12425994","id":"12425994","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"The merge command gave me an error, so I prepared a patch for 10.1...However, I cannot now connect to that machine, and it will be about 2 weeks before I can.\r\n:-(\r\nIt's a minor thing, and unless we're making another 10.1 version I guess this can sit until I can access that box again.\r\nIf that changes, and a 10.1 patch is needed sooner, someone can easily change that one line.\r\nI did test the repro case that caused NPEs and 08004 errors with 10.1 and it was fixed after applying the patch to 10.1 and derbyall ran fine.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-08-05T21:10:06.000+0000","updated":"2006-08-05T21:10:06.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12432072","id":"12432072","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Attaching the promised 10.1 patch. \r\n\r\nThis is the merge comamnd I couldn't get to work: \r\nsvn merge -r 427795:427796 https://svn.apache.org/repos/asf/derby/code/trunk\r\n\r\nIt gave me an error:\r\n\r\nsvn: REPORT request failed on '/repos/asf/!svn/vcc/default'\r\nsvn:\r\nCannot replace a directory from within\r\n\r\nwith the patched 10.1.3.1 insane jars derbyall ran with only 1 failed test: JapanCodeConversion (because of using a jre rather than jdk path).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2006-09-01T06:46:32.000+0000","updated":"2006-09-01T06:46:32.000+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12332459/comment/12432076","id":"12432076","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"body":"I think the 'db' part of the URL was missing. This command:\r\n\r\nsvn merge -r 427795:427796 https://svn.apache.org/repos/asf/db/derby/code/trunk/ .\r\n\r\nproduced the expected merge.\r\n\r\nI committed the original patch and confirmed the above merge command worked as expected. Committed to 10.1 branch with revision 439213.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fuzzylogic","name":"fuzzylogic","emailAddress":"mcintyre dot a at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew McIntyre","active":true},"created":"2006-09-01T06:54:34.000+0000","updated":"2006-09-01T06:54:34.000+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-1241/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i077rb:"}}