{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12431631","self":"https://issues.apache.org/jira/rest/api/latest/issue/12431631","key":"DERBY-4326","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/10594","id":"10594","key":"DERBY","name":"Derby","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=10594&avatarId=10122","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=10594&avatarId=10122","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=10594&avatarId=10122"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10090","id":"10090","description":"DB related projects","name":"DB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314182","id":"12314182","description":"Old head of 10.5 branch","name":"10.5.3.1","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12313727","id":"12313727","description":"Feature release","name":"10.6.1.0","archived":false,"released":true,"releaseDate":"2010-05-18"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2009-07-28 23:04:20.234","customfield_12312322":null,"customfield_12312323":null,"customfield_12310420":"24186","customfield_12310222":"1_*:*_1_*:*_6637645692_*|*_5_*:*_1_*:*_0","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2009-10-13T17:26:47.596+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4326/watchers","watchCount":0,"isWatching":false},"created":"2009-07-28T21:39:21.904+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12310310":"6.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314116","id":"12314116","description":"10.5.2 Release July 30 2009 (794445) Now deprecated","name":"10.5.2.0","archived":false,"released":true,"releaseDate":"2009-07-30"}],"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-10-14T19:10:28.154+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/11410","id":"11410","name":"Network Server"}],"timeoriginalestimate":null,"description":"This is stopping my platform testing on winvista with ibm 1.6 SR5.\r\n\r\nDuring the initial run of suites.All, I got:\r\n--------------------------------\r\n\t\ttestNetworkServerSecurityMechanism java.net.SocketException: Connection reset by peer: setsockopt\r\n\tat java.net.PlainSocketImpl.socketSetOption(Native Method)\r\n\tat java.net.PlainSocketImpl.setOption(PlainSocketImpl.java:283)\r\n\tat java.net.Socket.setKeepAlive(Socket.java:1171)\r\n\tat org.apache.derby.impl.drda.ClientThread.run(Unknown Source)\r\n--------------------------------\r\nRerunning suites.All gave the same error.\r\nThere is only 1 java process active & hanging.\r\n\r\nRunning just the test itself also results in a hang but there was (so far - it's been sitting unchanged for 4 hours) java.net.SocketException.\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12310200":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10365","value":"Crash","id":"10365"},{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10369","value":"Regression Test Failure","id":"10369"}],"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"38309","summary":"hang on winvista with IBM 1.6 SR5 in NSSecurityMechanismTest","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"subtasks":[],"customfield_12310090":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":null,"customfield_12311020":null,"customfield_12310050":{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10051","value":"Urgent","id":"10051"},"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":22,"total":22,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12736325","id":"12736325","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Attaching 2 javacores; the first one - of process id 5196 - was from the rerun of suites.All that hung; the second one - of process id 5640 - was from the run of just NSSecurityMechanismTest. \r\nI did create another core dump about 10 mins after the run of the test by itself, but the only difference was the name of the java core dump file itself.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-07-28T21:44:25.582+0000","updated":"2009-07-28T21:44:25.582+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12736349","id":"12736349","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"In the run of the test by itself, the socket reset appears to end up in logs/serverConsoleOutput.log:\r\n\r\n2009-07-28 17:04:06.967 GMT : Apache Derby Network Server - 10.5.2.0 - (794445) started and ready to accept connections on port 1527\r\n2009-07-28 17:04:37.169 GMT : Connection reset by peer: setsockopt\r\njava.net.SocketException: Connection reset by peer: setsockopt\r\n\tat java.net.PlainSocketImpl.setOption(PlainSocketImpl.java:283)\r\n\tat java.net.Socket.setKeepAlive(Socket.java:1171)\r\n\tat org.apache.derby.impl.drda.ClientThread.run(Unknown Source)\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-07-28T22:48:55.936+0000","updated":"2009-07-28T22:48:55.936+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12736355","id":"12736355","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"The thread dump in the javacore reveals that this exception causes our ClientThread to go away, but the server stays up blocked in blockingStart() but has no ClientThread to handle new requests.  I think typically the error Connection reset by peer would happen if the client closed the socket.  Even though the client does do a quick close:\r\n  DriverManager.getConnection(dbUrl).close();\r\nI don't think the getConnection() should return until we are well through this setKeepAlive code.  Regardless of why it happened I don't think such an error should cause loss of the ClientThread. Currently we have:\r\n\r\n         clientSocket.setKeepAlive(parent.getKeepAlive());\r\n                        \r\n                        // Set time out: Stops DDMReader.fill() from\r\n                        // waiting indefinitely when timeSlice is set.\r\n                        if (timeSlice > 0)\r\n                            clientSocket.setSoTimeout(timeSlice);\r\n                        \r\n                        //create a new Session for this socket\r\n                        parent.addSession(clientSocket);\r\n                        \r\n                    } catch (PrivilegedActionException e) {\r\n                        // Just throw the underlying exception\r\n                        throw e.getException();\r\n                    } // end inner try/catch block\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2009-07-28T23:04:20.234+0000","updated":"2009-07-28T23:04:20.234+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12736356","id":"12736356","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"Marking crash since the server is unusable and all client requests will hang after it occurs.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2009-07-28T23:05:18.085+0000","updated":"2009-07-28T23:05:18.085+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12736721","id":"12736721","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I also got the same hang with 10.5.1.1. \r\nAs others have tested on winvista successfully, I'm not complaining about this much, but it does prevent me from running the test suite.\r\nFor now, I'll see if there's something peculiar with the machine.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-07-29T17:35:18.969+0000","updated":"2009-07-29T17:35:18.969+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12736751","id":"12736751","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"While there is clearly a Network Server bug in its handling of the exception, I wonder if the setKeepAlive() error is a JVM regression.  Maybe that socket is getting cleaned up too early on the client  with the new service release.  Myrna could you try two things:\r\n1) Try with the jdk version you used with 10.5.1.1 testing?\r\n2) Try with the jvm where you are getting the hang with the following test change. Instead of:\r\n DriverManager.getConnection(dbUrl).close(); \r\ndo\r\nConection conn = getConnection(dbUrl).\r\nconn.close();\r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2009-07-29T18:56:37.780+0000","updated":"2009-07-29T18:56:37.780+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12736756","id":"12736756","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"re 1) I didn't run deryball/suites.All on this machine for 10.5.1.1 testing.\r\nI'll try to figure out what combination the last successful testing cycle on this machine used.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-07-29T19:06:07.903+0000","updated":"2009-07-29T19:06:07.903+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12738504","id":"12738504","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"body":"Attaching a patch DERBY4326_notForCommit_patch1_diff.txt. This patch is not ready for commit. \r\n\r\nI changed the code so that we don't simply return from the ClientThread when we run into InterruptedException or IOException. For InterruptedException, after putting something into the log about the exception, I check if the server has been shutdown and if so, then we should leave the ClientThread otherwise, we simply close the client socket. For IOException, I made changes to log it and then close the client socket and resume the loop of waiting for the next client request. Running derbyall with these changes made derbynet/DerbyNetAutoStart.java to fail. It appears that the test get SocketException which is a kind of IOException which I guess you can get if the server is down. I am not 100% about the cause but just printing and closing client socket for a SocketException is making the test to fail. I am going to have to stop working on this jira for a while until I look at DERBY-4331.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"created":"2009-08-03T19:06:57.918+0000","updated":"2009-08-03T19:06:57.918+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12738506","id":"12738506","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=espinha","name":"espinha","emailAddress":"tiago dot derby at espinhas dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tiago R. Espinha","active":true},"body":"I might be experiencing this same issue under Ubuntu with Sun's 1.6 JDK. My NSSecurityMechanismTest is taking around 22 minutes to run which seems to be a lot.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=espinha","name":"espinha","emailAddress":"tiago dot derby at espinhas dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tiago R. Espinha","active":true},"created":"2009-08-03T19:13:26.913+0000","updated":"2009-08-03T19:13:26.913+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12739026","id":"12739026","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"The last successful run on this machine was with 10.3 and ibm's 1.4.2.(!) The test has undergone some changes since that time...\r\n\r\ngrabbed this issue while I will do the experiments suggested by Kathey and try out Mamta's patch. \r\n\r\nI did finally try this test on this machine with Sun's 1.6 JDK and the test had been going for up to 1 hour - (on my windows XP the networkserver fixture testNetworkServerSecurityMechanism takes about 2703 ms). So, looks like the same problem and it doesn't look like a jvm issue.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-08-04T16:45:20.575+0000","updated":"2009-08-04T16:45:20.575+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12739224","id":"12739224","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"As an aside...I thought I'd try to run suites.All with junit.textui.TestRunner with only embedded. First I tried without derbynet.jar and derbyclient.jar in my classpath, but they still got picked up by sysinfo, so I then removed them physically from the dir where the other derby jars lived. This resulted in this error: \r\nFailed to invoke suite():java.lang.NoClassDefFoundError: org.apache.derby.jdbc.ClientConnectionPoolDataSource\r\nSo apparently, there's no way to do this...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-08-04T22:39:59.170+0000","updated":"2009-08-04T22:39:59.170+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12739324","id":"12739324","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"attaching the file to which I had sent the console output when running the test with ibm 1.6 and sane trunk jars with the test change suggested by Kathey.\r\nNothing happened at all, until I used the SendSignal.exe tool at which time the java core dump also ended up in the redirected output.\r\nThe only other info was in logs\\consoleServerOutput.log:\r\n-------------------\r\n2009-08-04 23:23:41.969 GMT : Apache Derby Network Server - 10.6.0.0 alpha - (80\r\n0946M) started and ready to accept connections on port 1527\r\n2009-08-04 23:23:47.859 GMT : Connection reset by peer: setsockopt\r\njava.net.SocketException: Connection reset by peer: setsockopt\r\n        at java.net.PlainSocketImpl.socketSetOption(Native Method)\r\n        at java.net.PlainSocketImpl.setOption(PlainSocketImpl.java:264)\r\n        at java.net.Socket.setKeepAlive(Socket.java:1160)\r\n        at org.apache.derby.impl.drda.ClientThread.run(ClientThread.java:79)\r\n---------------------","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-08-05T03:28:28.699+0000","updated":"2009-08-05T03:28:28.699+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12739332","id":"12739332","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Attaching a jar-ed up of the results directory (minus system\\wombat) from running with mamta's not-for-commit patch (ran with modified sane trunk jars, and ibm1.6). The test fails, but at least the hang is gone.\r\nApparently, judging from derby.log I'm getting 'invalid authentication' - or is that expected with this test?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-08-05T04:24:46.864+0000","updated":"2009-08-05T04:24:46.864+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12739759","id":"12739759","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"body":"I did not apply but  looked briefly at Mamta's patch.  I think in the shutdown case we should not log the interrupt exception as it is an expected part of the shutdown.\r\n\r\nIn the code:\r\n+                    if (parent.getShutdown()) {\r\n+                    \tclientSocket.close();\r\n+            \t        return;\r\n                     }\r\nWe should probably also check that clientSocket != null.\r\nOtherwise it looks ok except for some comment cleanup.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kmarsden","name":"kmarsden","emailAddress":"kmarsdenderby at sbcglobal dot net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kathey Marsden","active":true},"created":"2009-08-05T21:17:47.585+0000","updated":"2009-08-05T21:17:47.585+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12739786","id":"12739786","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"With a build with mamta's patch applied I ran derbyall and suites.All on my winvista box and on my XP.\r\nOn winvista, this time I ran with sun's jdk 1.6 but forgot to set -XX:MaxPermSize=128M for suites.All and ran out of memory during the upgrade tests...\r\nHowever, I did see a couple of java.net.socketExceptions logged, in the following tests:\r\n- derbyall: derbyNetAutoStart. (both XP & my winvista).\r\nThe diff is like this: \r\n--------------------\r\n1a2\r\n> java.net.SocketException: socket closed\r\n2a4\r\n> java.net.SocketException: socket closed\r\n-------------------\r\nAs we're now logging SocketExceptions, I think this can be expected. If indeed it is expected, we can filter this out again using a _sed.properties file.\r\n- suites.All: \r\non both XP & netvista: \r\n  - DerbyNetNewServer. (test passed anyway), \r\n  - ttestSetPortPriority (4x. test passed anyway).\r\nThe difference is in fixture ttestNetworkServerSecurityMechanism; both have 3 identical stack traces, but the first one is different on my winvista box vs. XP:\r\nwinvista:\r\n----------------------\r\ntestNetworkServerSecurityMechanism java.net.SocketException: Connection reset by peer: setsockopt\r\n\tat java.net.PlainSocketImpl.socketSetOption(Native Method)\r\n\tat java.net.PlainSocketImpl.setOption(PlainSocketImpl.java:264)\r\n\tat java.net.Socket.setKeepAlive(Socket.java:1160)\r\n\tat org.apache.derby.impl.drda.ClientThread.run(ClientThread.java:79)\r\n----------------------\r\nxp:\r\n----------------------\r\ntestNetworkServerSecurityMechanism java.net.SocketException: socket closed\r\n\tat java.net.PlainSocketImpl.socketAccept(Native Method)\r\n\tat java.net.PlainSocketImpl.accept(PlainSocketImpl.java:414)\r\n\tat java.net.ServerSocket.implAccept(ServerSocket.java:464)\r\n\tat java.net.ServerSocket.accept(ServerSocket.java:432)\r\n\tat org.apache.derby.impl.drda.ClientThread$1.run(ClientThread.java:67)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:251)\r\n\tat org.apache.derby.impl.drda.ClientThread.run(ClientThread.java:62)\r\n----------------------\r\nEven so, it now looks as though this test now passes on both OSs.\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-08-05T22:18:59.347+0000","updated":"2009-08-05T22:18:59.347+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12747478","id":"12747478","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"Forgot to mention, that I did get a full-no-failures-run of suites.All on my vista machine - but I can no longer remember if this was with ibm 16 and -Xmx1024M -Xms1024M or sun jdk 1.6 with -XX:MaxPermSize=256M. I'm guessing it was the ibm 1.6.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-08-25T16:30:59.164+0000","updated":"2009-08-25T16:30:59.164+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12760974","id":"12760974","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"body":"I am attaching a new patch DERBY4326_printExceptions_patch2_diff.txt which ran derbyall fine (with no derbyNetAutoStart failure). During an IOException, I was printing the stack trace before checking if the exception was for server shutdown. This patch first checks for server shutdown and if we are not dealing with that, then we should log the exception trace. If there are no comments, I will work on committing this patch soon.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"created":"2009-09-30T18:12:25.391+0000","updated":"2009-09-30T18:12:25.391+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12762462","id":"12762462","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I tested patch2 on my winvista machine and ran into no failures except for unit/T_RawStoreFactory.unit.\r\n\r\nI don't think that failure is related, although it appears consistent...\r\n\r\nI have 1 nit: it seems the patch has 1 unnecessary white-character change.\r\n +1 for commit from me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-10-06T00:22:07.553+0000","updated":"2009-10-06T00:22:07.553+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12762471","id":"12762471","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"just to confirm that the T_RawStoreFactory failure is unrelated, I rebuilt without any patches and I get the same failure. The failure is indicating there is still an observer when it expects 0 observers, and that failure we have seen before (e.g. DERBY-3993)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-10-06T00:46:02.088+0000","updated":"2009-10-06T00:46:02.088+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12764154","id":"12764154","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"body":"Committed changes into 823659 in trunk.  Will merge into 10.5 codeline next","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"created":"2009-10-09T18:46:08.109+0000","updated":"2009-10-09T18:46:08.109+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12765127","id":"12765127","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"body":"I merged the fix to 10.5, built, then ran suites.All and derbyall on my winvista machine with ibm16 and there were no failures nor errors.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=myrna","name":"myrna","emailAddress":"m dot v dot lunteren at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Myrna van Lunteren","active":true},"created":"2009-10-13T15:58:08.077+0000","updated":"2009-10-13T15:58:08.077+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12431631/comment/12765158","id":"12765158","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"body":"Thanks for running the tests on winvista, Myrna. both derbyall and junit suite ran fine on windows xp machine too with IBM 16. Have committed the merged changes into 10.5 codeline using revision 824850. Will go ahead and resolve the issue","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mamtas","name":"mamtas","emailAddress":"msatoor at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mamta A. Satoor","active":true},"created":"2009-10-13T17:24:50.221+0000","updated":"2009-10-13T17:24:50.221+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/DERBY-4326/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i06x6f:"}}