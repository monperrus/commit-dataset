{"expand":"renderedFields,names,schema,transitions,operations,editmeta,changelog","id":"12467688","self":"https://issues.apache.org/jira/rest/api/latest/issue/12467688","key":"CASSANDRA-1221","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/images/icons/issuetypes/bug.png","name":"Bug","subtask":false},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310865","id":"12310865","key":"CASSANDRA","name":"Cassandra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310865&avatarId=12034","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310865&avatarId=12034","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310865&avatarId=12034","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310865&avatarId=12034"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/11961","id":"11961","description":"Apache Cassandra related projects","name":"Cassandra"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315173","id":"12315173","description":"","name":"0.6.4","archived":false,"released":true,"releaseDate":"2010-07-31"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12310220":"2010-07-14 00:05:00.782","customfield_12312322":null,"customfield_12312323":null,"customfield_12310222":"10002_*:*_1_*:*_19442473_*|*_1_*:*_1_*:*_2329732058_*|*_5_*:*_1_*:*_0","customfield_12310420":"20038","customfield_12312320":null,"customfield_12312321":null,"customfield_12312120":null,"customfield_12312121":null,"resolutiondate":"2010-07-20T17:12:36.901+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312326":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312324":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-1221/watchers","watchCount":2,"isWatching":false},"created":"2010-06-23T12:39:42.370+0000","customfield_10022":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.png","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12311124":null,"customfield_12312334":null,"customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"customfield_12312337":null,"customfield_12312338":null,"updated":"2010-07-21T12:50:25.051+0000","customfield_12312335":null,"customfield_12311720":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Complete"}},"components":[],"timeoriginalestimate":null,"description":"Arya Goudarzi reports:\r\n\r\nPlease confirm if this is an issue and should be reported or I am doing something wrong. I could not find anything relevant on JIRA:\r\n\r\nPlaying with 0.7 nightly (today's build), I setup a 3 node cluster this way:\r\n\r\n - Added one node;\r\n - Loaded default schema with RF 1 from YAML using JMX;\r\n - Loaded 2M keys using py_stress;\r\n - Bootstrapped a second node;\r\n - Cleaned up the first node;\r\n - Bootstrapped a third node;\r\n - Cleaned up the second node;\r\n\r\nI got the following ring:\r\n\r\nAddress       Status     Load          Range                                      Ring\r\n                                      154293670372423273273390365393543806425\r\n10.50.26.132  Up         518.63 MB     69164917636305877859094619660693892452     |<--|\r\n10.50.26.134  Up         234.8 MB      111685517405103688771527967027648896391    |   |\r\n10.50.26.133  Up         235.26 MB     154293670372423273273390365393543806425    |-->|\r\n\r\nNow I ran:\r\n\r\nnodetool --host 10.50.26.132 loadbalance\r\n\r\nIt's been going for a while. I checked the streams\r\n\r\nnodetool --host 10.50.26.134 streams\r\nMode: Normal\r\nNot sending any streams.\r\nStreaming from: /10.50.26.132\r\n  Keyspace1: /var/lib/cassandra/data/Keyspace1/Standard1-tmp-d-3-Data.db/[(0,22206096), (22206096,27271682)]\r\n  Keyspace1: /var/lib/cassandra/data/Keyspace1/Standard1-tmp-d-4-Data.db/[(0,15180462), (15180462,18656982)]\r\n  Keyspace1: /var/lib/cassandra/data/Keyspace1/Standard1-tmp-d-5-Data.db/[(0,353139829), (353139829,433883659)]\r\n  Keyspace1: /var/lib/cassandra/data/Keyspace1/Standard1-tmp-d-6-Data.db/[(0,366336059), (366336059,450095320)]\r\n\r\nnodetool --host 10.50.26.132 streams\r\nMode: Leaving: streaming data to other nodes\r\nStreaming to: /10.50.26.134\r\n  /var/lib/cassandra/data/Keyspace1/Standard1-d-48-Data.db/[(0,366336059), (366336059,450095320)]\r\nNot receiving any streams.\r\n\r\nThese have been going for the past 2 hours.\r\n\r\nI see in the logs of the node with 134 IP address and I saw this:\r\n\r\nINFO [GOSSIP_STAGE:1] 2010-06-22 16:30:54,679 StorageService.java (line 603) Will not change my token ownership to /10.50.26.132\r\n\r\nSo, to my understanding from wikis loadbalance supposed to decommission and re-bootstrap again by sending its tokens to other nodes and then bootstrap again. It's been stuck in streaming for the past 2 hours and the size of ring has not changed. The log in the first node says it has started streaming for the past hours:\r\n\r\nINFO [STREAM-STAGE:1] 2010-06-22 16:35:56,255 StreamOut.java (line 72) Beginning transfer process to /10.50.26.134 for ranges (154293670372423273273390365393543806425,69164917636305877859094619660693892452]\r\n INFO [STREAM-STAGE:1] 2010-06-22 16:35:56,255 StreamOut.java (line 82) Flushing memtables for Keyspace1...\r\n INFO [STREAM-STAGE:1] 2010-06-22 16:35:56,266 StreamOut.java (line 128) Stream context metadata [/var/lib/cassandra/data/Keyspace1/Standard1-d-48-Data.db/[(0,366336059), (366336059,450095320)]] 1 sstables.\r\n INFO [STREAM-STAGE:1] 2010-06-22 16:35:56,267 StreamOut.java (line 135) Sending a stream initiate message to /10.50.26.134 ...\r\n INFO [STREAM-STAGE:1] 2010-06-22 16:35:56,267 StreamOut.java (line 140) Waiting for transfer to /10.50.26.134 to complete\r\n INFO [FLUSH-TIMER] 2010-06-22 17:36:53,370 ColumnFamilyStore.java (line 359) LocationInfo has reached its threshold; switching in a fresh Memtable at CommitLogContext(file='/var/lib/cassandra/commitlog/CommitLog-1277249454413.log', position=720)\r\n INFO [FLUSH-TIMER] 2010-06-22 17:36:53,370 ColumnFamilyStore.java (line 622) Enqueuing flush of Memtable(LocationInfo)@1637794189\r\n INFO [FLUSH-WRITER-POOL:1] 2010-06-22 17:36:53,370 Memtable.java (line 149) Writing Memtable(LocationInfo)@1637794189\r\n INFO [FLUSH-WRITER-POOL:1] 2010-06-22 17:36:53,528 Memtable.java (line 163) Completed flushing /var/lib/cassandra/data/system/LocationInfo-d-9-Data.db\r\n INFO [MEMTABLE-POST-FLUSHER:1] 2010-06-22 17:36:53,529 ColumnFamilyStore.java (line 374) Discarding 1000\r\n\r\n\r\nNothing more after this line.\r\n\r\nAm I doing something wrong?","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12449928","id":"12449928","filename":"0.6-conviction-fix.diff","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-07-20T15:25:48.728+0000","size":2139,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12449928/0.6-conviction-fix.diff"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12449920","id":"12449920","filename":"0001-Gossiper-and-FD-never-called-MS.convict-to-shut-down.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-07-20T11:39:22.997+0000","size":3186,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12449920/0001-Gossiper-and-FD-never-called-MS.convict-to-shut-down.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12449507","id":"12449507","filename":"system1.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"created":"2010-07-15T00:24:27.707+0000","size":27751,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12449507/system1.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12449508","id":"12449508","filename":"system2.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"created":"2010-07-15T00:24:27.801+0000","size":16470,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12449508/system2.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12449509","id":"12449509","filename":"system3.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"created":"2010-07-15T00:24:27.909+0000","size":10532,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12449509/system3.log"}],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312022":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12310921":null,"customfield_12310920":"92036","summary":"loadbalance operation never completes on a 3 node cluster","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"customfield_12311420":null,"customfield_12311421":null,"environment":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"startAt":0,"maxResults":10,"total":10,"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467688/comment/12888116","id":"12888116","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"body":"Hi Gary,\r\n\r\nI was able to reproduce this using today's nightly build. This time i used a smaller data set (500000 keys) and I got the following:\r\n\r\n[agoudarzi@cas-test3 scripts]$ nodetool --host 10.50.26.132 ring   \r\nAddress         Status State   Load            Token                                       \r\n                                       160348796167900510561059505917619274541    \r\n10.50.26.134    Up     Normal  116.98 MB       32717880524093094169411234083126184860      \r\n10.50.26.132    Up     Leaving 58.58 MB        75101027859180840627831025901565139619      \r\n10.50.26.133    Up     Normal  117.09 MB       160348796167900510561059505917619274541    \r\n\r\n[agoudarzi@cas-test3 scripts]$ nodetool --host 10.50.26.132 streams\r\nMode: Leaving: streaming data to other nodes\r\nStreaming to: /10.50.26.133\r\n   /var/lib/cassandra/data/Keyspace1/Standard1-d-17-Data.db/[(0,54080834)]\r\nNot receiving any streams.\r\n[agoudarzi@cas-test3 scripts]$ nodetool --host 10.50.26.133 streams\r\nMode: Normal\r\nNot sending any streams.\r\nNot receiving any streams.\r\n\r\nFrom the logs of 10.50.26.132 it seams that it tried to tell 10.50.26.133 to claim its stream:\r\n\r\nINFO [STREAM-STAGE:1] 2010-07-13 16:50:35,994 StreamOut.java (line 135) Sending a stream initiate message to /10.50.26.133 ...\r\nINFO [STREAM-STAGE:1] 2010-07-13 16:50:35,994 StreamOut.java (line 140) Waiting for transfer to /10.50.26.133 to complete\r\n\r\nBut nothing in 133's log acknowledges the receipt of the request from 132 and as you see above it shows that it is getting no streams and this has been going for the past hour or so.\r\n\r\n-Arya\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"created":"2010-07-14T00:05:00.782+0000","updated":"2010-07-14T00:05:00.782+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467688/comment/12888560","id":"12888560","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"body":"Arya,  can you supply the nodetool commands you are using that constitute \"cleanup\"?  I've tried a few times now and can't get the failure you describe.  In your latest test was .132 the second or third node booted?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-07-14T21:50:34.388+0000","updated":"2010-07-14T21:50:34.388+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467688/comment/12888600","id":"12888600","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"body":"132 is node1\r\n133 is node2\r\n134 is node3\r\n\r\nGive me some time and I'll regenerate all the commands for you in details. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"created":"2010-07-14T22:55:52.800+0000","updated":"2010-07-14T22:55:52.800+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467688/comment/12888635","id":"12888635","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"body":"Gary, I missed one thing (Step 9-13) where I took a node down and insert. I tested this without step 9-13 and loadbalance worked. Not sure why step 9-13 changes everything. Here are the full production steps (I am also attaching the logs from all 3 nodes if it helps):\r\n\r\nThis is the ring topology I discuss here:\r\n\r\nNode1 10.50.26.132 (Hostname: cas-test1)\r\nNode2 10.50.26.133 (Hostname: cas-test2)\r\nNode3 10.50.26.134 (Hostname: cas-test3)\r\n\r\nThis run is using today's nightly built from a clean setup.\r\n\r\nStep 1: Startup Node1\r\n\r\n[agoudarzi@cas-test1 ~]$ sudo /etc/init.d/cassandra start\r\n\r\nStep 2: LoadSchemadFromYAML\r\n\r\nI go to JConsole and call the function from o.a.c.service StorageService MBeans\r\n\r\nStep 3: I insert 500000 keys into Standard1 CF using py_stress\r\n\r\n$ python stress.py --num-keys 500000 --threads 8 --nodes 10.50.26.132 --keep-going --operation insert\r\nKeyspace already exists.\r\ntotal,interval_op_rate,interval_key_rate,avg_latency,elapsed_time\r\n62455,6245,6245,0.00128478354559,10\r\n121893,5943,5943,0.00134767375398,21\r\n184298,6240,6240,0.00128336335573,31\r\n248124,6382,6382,0.00124898537112,42\r\n297205,4908,4908,0.00163303957852,52\r\n340338,4313,4313,0.00189026848124,63\r\n380233,3989,3989,0.00203818801591,73\r\n444452,6421,6421,0.00124198496903,84\r\n500000,5554,5554,0.00114441244599,93\r\n\r\nStep 3: Let's Take a Look at Ring\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 ring\r\nAddress         Status State   Load            Token                                       \r\n10.50.26.132    Up     Normal  206.05 MB       139380634429053457983268837561452509806     \r\n\r\nStep 4: Bootstrap Node 2 into cluster\r\n\r\n[agoudarzi@cas-test2 ~]$ sudo /etc/init.d/cassandra start\r\n\r\nStep 5: Check the ring\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Joining 5.84 KB         54081521187303805945240848606999860232      \r\n10.50.26.132    Up     Normal  206.05 MB       139380634429053457983268837561452509806     \r\n\r\nStep 6: Check the streams on Node 1\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 streams\r\nMode: Normal\r\nStreaming to: /10.50.26.133\r\n   /var/lib/cassandra/data/Keyspace1/Standard1-d-5-Data.db/[(0,34658183), (89260032,109057810)]\r\n   /var/lib/cassandra/data/Keyspace1/Standard1-d-6-Data.db/[(0,8746823), (22272929,27264363)]\r\n   /var/lib/cassandra/data/Keyspace1/Standard1-d-8-Data.db/[(0,8749389), (22336617,27264253)]\r\n   /var/lib/cassandra/data/Keyspace1/Standard1-d-9-Data.db/[(0,8235190), (21174782,25822054)]\r\n   /var/lib/cassandra/data/Keyspace1/Standard1-d-7-Data.db/[(0,8642472), (22333239,27264347)]\r\nNot receiving any streams.\r\n\r\nStep 7: Check the ring from Node1 and Node2 and make sure they agree\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.132    Up     Normal  233.93 MB       139380634429053457983268837561452509806     \r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.133 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.132    Up     Normal  233.93 MB       139380634429053457983268837561452509806\r\n\r\nStep 8: Cleanup Node1\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 cleanup\r\n\r\nStep 9: Check the ring agreement again\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.132    Up     Normal  117 MB          139380634429053457983268837561452509806     \r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.133 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.132    Up     Normal  117 MB          139380634429053457983268837561452509806     \r\n\r\nStep 9: Let's kill Node 2\r\n\r\n[agoudarzi@cas-test2 ~]$ sudo /etc/init.d/cassandra stop \r\n\r\nStep 10: Check the ring on Node 1\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Down   Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.132    Up     Normal  117 MB          139380634429053457983268837561452509806\r\n\r\nStep 11: Let's try to insert 500000 more keys expecting lots of unavailable exceptions ad the only replica for some keys is dead and py_stress does not use CLevel.ANY or ZERO\r\n\r\n$ python stress.py --num-keys 500000 --threads 8 --nodes 10.50.26.132 --keep-going --operation insert\r\n\r\nKeyspace already exists.\r\nUnavailableException()\r\nUnavailableException()\r\nUnavailableException()\r\n....\r\n...\r\n..\r\n.\r\ntotal,interval_op_rate,interval_key_rate,avg_latency,elapsed_time\r\n500000,2922,2922,0.000816067281446,67\r\n\r\nStep 12: Check the ring\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Down   Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.132    Up     Normal  205.35 MB       139380634429053457983268837561452509806     \r\n\r\nNode 1 got more data as expected\r\n\r\nStep 13: Bring up Node 2 again\r\n\r\n[agoudarzi@cas-test2 ~]$ sudo /etc/init.d/cassandra start\r\n\r\nStep 14: Check the Ring\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.132    Up     Normal  205.35 MB       139380634429053457983268837561452509806     \r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.133 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.132    Up     Normal  205.35 MB       139380634429053457983268837561452509806\r\n\r\nStep 15: Bootstrap Node 3\r\n\r\n[agoudarzi@cas-test3 ~]$ sudo /etc/init.d/cassandra start\r\n\r\nStep 11: Check Ring \r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.134    Up     Normal  116.68 MB       96565427321648203609592911083606603165      \r\n10.50.26.132    Up     Normal  234 MB          139380634429053457983268837561452509806     \r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.133 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.134    Up     Normal  116.68 MB       96565427321648203609592911083606603165      \r\n10.50.26.132    Up     Normal  234 MB          139380634429053457983268837561452509806     \r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.134 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.134    Up     Normal  116.68 MB       96565427321648203609592911083606603165      \r\n10.50.26.132    Up     Normal  234 MB          139380634429053457983268837561452509806     \r\n\r\nStep 12: Cleanup Node 1 (132)\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 cleanup\r\n\r\nStep 13: Check Ring\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.134    Up     Normal  116.68 MB       96565427321648203609592911083606603165      \r\n10.50.26.132    Up     Normal  58.89 MB        139380634429053457983268837561452509806     \r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.133 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.134    Up     Normal  116.68 MB       96565427321648203609592911083606603165      \r\n10.50.26.132    Up     Normal  58.89 MB        139380634429053457983268837561452509806     \r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.134 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.134    Up     Normal  116.68 MB       96565427321648203609592911083606603165      \r\n10.50.26.132    Up     Normal  58.89 MB        139380634429053457983268837561452509806     \r\n\r\nLooks as expected. Node 1 (132) has the least load. Let's loadbalance it.\r\n\r\nStep 14: Loadbalance Node 1\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 loadbalance &\r\n[1] 27457\r\n\r\nStep 15: Check Ring\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.134    Up     Normal  116.68 MB       96565427321648203609592911083606603165      \r\n10.50.26.132    Up     Leaving 58.89 MB        139380634429053457983268837561452509806     \r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.133 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.134    Up     Normal  116.68 MB       96565427321648203609592911083606603165      \r\n10.50.26.132    Up     Leaving 58.89 MB        139380634429053457983268837561452509806     \r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.134 ring\r\nAddress         Status State   Load            Token                                       \r\n                                       139380634429053457983268837561452509806    \r\n10.50.26.133    Up     Normal  116.94 MB       54081521187303805945240848606999860232      \r\n10.50.26.134    Up     Normal  116.68 MB       96565427321648203609592911083606603165      \r\n10.50.26.132    Up     Leaving 58.89 MB        139380634429053457983268837561452509806     \r\n\r\nStep 16: Check the Streams\r\n\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.132 streams\r\nMode: Leaving: streaming data to other nodes\r\nStreaming to: /10.50.26.133\r\n   /var/lib/cassandra/data/Keyspace1/Standard1-d-17-Data.db/[(0,54278564)]\r\nNot receiving any streams.\r\n[agoudarzi@cas-test1 ~]$ nodetool --host=10.50.26.133 streams\r\nMode: Normal\r\nNot sending any streams.\r\nNot receiving any streams.\r\n\r\nPROBLEM:\r\nNotice 132 says I am streaming to 133 but 133 says \"Not receiving any streams!\"  \r\n\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"created":"2010-07-15T00:20:55.567+0000","updated":"2010-07-15T00:20:55.567+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467688/comment/12888637","id":"12888637","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"body":"Cassandra System Logs for node 1-3","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arya","name":"arya","emailAddress":"goudarzi at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=arya&avatarId=15056","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arya&avatarId=15056","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arya&avatarId=15056","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arya&avatarId=15056"},"displayName":"Arya Goudarzi","active":true},"created":"2010-07-15T00:24:27.997+0000","updated":"2010-07-15T00:24:27.997+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467688/comment/12888913","id":"12888913","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"body":"Thanks Arya. I can reproduce this.  Now just to fix it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-07-15T20:30:59.392+0000","updated":"2010-07-15T20:30:59.392+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467688/comment/12890244","id":"12890244","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"body":"Several problems on this ticket.\r\n1. MessaingService implemented IFailureDetector and was in charge of shutting down TCP connections during a partition.  However, it was never added to the listeners in FD.  This meant that MS.convict() was never getting called.\r\n2. Under the right conditions (I still don't understand this fully), java sockets still give every indication they are connected even though the host on the other end is down.  A single write will succeed, even though no bytes are sent.  Seriously.  In our case the single write was a StreamInitiateMessage that we then wait forever to be acked the the [dead] remote host.\r\n\r\nMy solution was to use Gossiper.convict, which calls SS.onDead, to call MS.convict().  I don't think it makes sense to have MS implement IFailureDetector since we treat Gossiper as authoritative with respect to node alive-ness.\r\n\r\nI'll spend some time checking this morning, but I suspect we have the same situation in 0.6.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-07-20T11:48:34.378+0000","updated":"2010-07-20T11:48:34.378+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467688/comment/12890280","id":"12890280","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"body":"patch for 0.6.  I couldn't get stress.py to work in my branch, but the same problem should be present.  All tests pass with this patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gdusbabek","name":"gdusbabek","emailAddress":"gdusbabek at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=gdusbabek&avatarId=10070","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=gdusbabek&avatarId=10070","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=gdusbabek&avatarId=10070","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=gdusbabek&avatarId=10070"},"displayName":"Gary Dusbabek","active":true},"created":"2010-07-20T15:25:48.804+0000","updated":"2010-07-20T15:25:48.804+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467688/comment/12890295","id":"12890295","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"body":"+1\r\n\r\n(but fix brace placement in onDead please)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jbellis","name":"jbellis","emailAddress":"jbellis at gmail dot com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jbellis&avatarId=18380","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jbellis&avatarId=18380","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jbellis&avatarId=18380","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jbellis&avatarId=18380"},"displayName":"Jonathan Ellis","active":true},"created":"2010-07-20T16:17:32.837+0000","updated":"2010-07-20T16:17:32.837+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467688/comment/12890713","id":"12890713","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"body":"Integrated in Cassandra #496 (See [http://hudson.zones.apache.org/hudson/job/Cassandra/496/])\r\n    failure detection wasn't closing sockets. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1221\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","emailAddress":"jira at apache dot org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true},"created":"2010-07-21T12:50:25.026+0000","updated":"2010-07-21T12:50:25.026+0000"}]},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/CASSANDRA-1221/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0g3qn:"}}