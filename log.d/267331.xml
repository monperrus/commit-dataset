<?xml version="1.0" encoding="utf-8"?>
<S:log-report xmlns:S="svn:" xmlns:D="DAV:">
<S:log-item>
<D:version-name>267331</D:version-name>
<D:comment>DERBY-353: Return last user specified value for IDENTITY BY DEFAULT columns. The fix changed:

a) Inside the InsertResultSet class getSetAutoincrementValue function the Data Dictionary is accessed to get the current identity value. Which is then updated in the identityVal variable which is then used by the identity_val_local() function to display to the user. 

b) The above process did not happen when there was a user supplied value. The system table was not accessed and the setIdentity() function in the GenericLanguageContext class was not called. 

c) My fix attacked the case when the user supplies a value for the identity column which can be done in the case of Generated by default and calls the setIdentity function to store the value in this case also. 

Thanks to Rick for doing code reviews.

Submitted by V Narayanan (V.Narayanan@Sun.COM)
</D:comment>
<D:creator-displayname>bandaram</D:creator-displayname>
<S:date>2005-09-02T21:57:25.669930Z</S:date>
</S:log-item>
</S:log-report>
